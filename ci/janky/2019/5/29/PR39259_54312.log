Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on ubuntu-1604-overlay2 (i-06f17891038af943e) (x86_64 ubuntu overlay2 linux ubuntu-1604 ubuntu-1604-overlay2 ubuntu-1604-overlay2-stable amd64) in workspace /home/ubuntu/workspace/Docker-PRs
No credentials specified
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init /home/ubuntu/workspace/Docker-PRs # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse origin/master^{commit} # timeout=10
Checking out Revision 8d760280a232f98d92440539e1e8a8f66c213bdb (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 8d760280a232f98d92440539e1e8a8f66c213bdb
Commit message: "Merge pull request #39275 from wiktor-k/move-var-run-to-run"
 > git rev-list --no-walk 8d760280a232f98d92440539e1e8a8f66c213bdb # timeout=10
Set build name.
New build name is '#39259'
[Docker-PRs] $ /bin/bash /tmp/jenkins2701019728656714239.sh
From https://github.com/moby/moby
 * [new ref]         refs/pull/39259/head -> origin/pr/39259
Merge made by the 'recursive' strategy.
 hack/ci/windows.ps1 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
Sending build context to Docker daemon     48MB
Step 1/112 : ARG CROSS="false"
Step 2/112 : FROM golang:1.12.5 AS base
 ---> 7ced090ee82e
Step 3/112 : ARG APT_MIRROR=deb.debian.org
 ---> Using cache
 ---> 7cdbd0a00ed3
Step 4/112 : RUN sed -ri "s/(httpredir|deb).debian.org/$APT_MIRROR/g" /etc/apt/sources.list
 ---> Using cache
 ---> c5ede004ed81
Step 5/112 : FROM base AS criu
 ---> c5ede004ed81
Step 6/112 : ENV CRIU_VERSION 3.11
 ---> Using cache
 ---> 4acad075d01d
Step 7/112 : RUN apt-get update && apt-get install -y 	libnet-dev 	libprotobuf-c0-dev 	libprotobuf-dev 	libnl-3-dev 	libcap-dev 	protobuf-compiler 	protobuf-c-compiler 	python-protobuf 	&& mkdir -p /usr/src/criu 	&& curl -sSL https://github.com/checkpoint-restore/criu/archive/v${CRIU_VERSION}.tar.gz | tar -C /usr/src/criu/ -xz --strip-components=1 	&& cd /usr/src/criu 	&& make 	&& make PREFIX=/build/ install-criu
 ---> Using cache
 ---> 6fc454e76f3e
Step 8/112 : FROM base AS registry
 ---> c5ede004ed81
Step 9/112 : ENV REGISTRY_COMMIT 47a064d4195a9b56133891bbb13620c3ac83a827
 ---> Using cache
 ---> b681c6c703ed
Step 10/112 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/docker/distribution.git "$GOPATH/src/github.com/docker/distribution" 	&& (cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT") 	&& GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH" 		go build -buildmode=pie -o /build/registry-v2 github.com/docker/distribution/cmd/registry 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> 6abde36ade5c
Step 11/112 : FROM base AS docker-py
 ---> c5ede004ed81
Step 12/112 : ENV DOCKER_PY_COMMIT ac922192959870774ad8428344d9faa0555f7ba6
 ---> Using cache
 ---> b13660721e12
Step 13/112 : RUN git clone https://github.com/docker/docker-py.git /build 	&& cd /build 	&& git checkout -q $DOCKER_PY_COMMIT
 ---> Using cache
 ---> f5869c184907
Step 14/112 : FROM base AS swagger
 ---> c5ede004ed81
Step 15/112 : ENV GO_SWAGGER_COMMIT c28258affb0b6251755d92489ef685af8d4ff3eb
 ---> Using cache
 ---> ef39b7d0156e
Step 16/112 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/go-swagger/go-swagger.git "$GOPATH/src/github.com/go-swagger/go-swagger" 	&& (cd "$GOPATH/src/github.com/go-swagger/go-swagger" && git checkout -q "$GO_SWAGGER_COMMIT") 	&& go build -o /build/swagger github.com/go-swagger/go-swagger/cmd/swagger 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> b016db7b98e0
Step 17/112 : FROM base AS frozen-images
 ---> c5ede004ed81
Step 18/112 : RUN apt-get update && apt-get install -y jq ca-certificates --no-install-recommends
 ---> Using cache
 ---> 45df2df94056
Step 19/112 : COPY contrib/download-frozen-image-v2.sh /
 ---> Using cache
 ---> 9611cc2851c0
Step 20/112 : RUN /download-frozen-image-v2.sh /build 	buildpack-deps:jessie@sha256:dd86dced7c9cd2a724e779730f0a53f93b7ef42228d4344b25ce9a42a1486251 	busybox:latest@sha256:bbc3a03235220b170ba48a157dd097dd1379299370e1ed99ce976df0355d24f0 	busybox:glibc@sha256:0b55a30394294ab23b9afd58fab94e61a923f5834fba7ddbae7f8e0c11ba85e6 	debian:jessie@sha256:287a20c5f73087ab406e6b364833e3fb7b3ae63ca0eb3486555dc27ed32c6e60 	hello-world:latest@sha256:be0cd392e45be79ffeffa6b05338b98ebb16c87b255f48e297ec7f98e123905c
 ---> Using cache
 ---> c7920d172732
Step 21/112 : FROM base AS cross-false
 ---> c5ede004ed81
Step 22/112 : FROM base AS cross-true
 ---> c5ede004ed81
Step 23/112 : RUN dpkg --add-architecture armhf
 ---> Using cache
 ---> 49a3c7f77d5a
Step 24/112 : RUN dpkg --add-architecture arm64
 ---> Using cache
 ---> 44c74a236e63
Step 25/112 : RUN dpkg --add-architecture armel
 ---> Using cache
 ---> 5d11c9cc45ea
Step 26/112 : RUN if [ "$(go env GOHOSTARCH)" = "amd64" ]; then 	apt-get update 	&& apt-get install -y --no-install-recommends 		crossbuild-essential-armhf 		crossbuild-essential-arm64 		crossbuild-essential-armel; 	fi
 ---> Using cache
 ---> d24e2d3b5cda
Step 27/112 : FROM cross-${CROSS} as dev-base
 ---> c5ede004ed81
Step 28/112 : FROM dev-base AS runtime-dev-cross-false
 ---> c5ede004ed81
Step 29/112 : RUN apt-get update && apt-get install -y 	libapparmor-dev 	libseccomp-dev
 ---> Using cache
 ---> a8705f99a96e
Step 30/112 : FROM cross-true AS runtime-dev-cross-true
 ---> d24e2d3b5cda
Step 31/112 : RUN if [ "$(go env GOHOSTARCH)" = "amd64" ]; then 	apt-get update 	&& apt-get install -y 		libseccomp-dev:armhf 		libseccomp-dev:arm64 		libseccomp-dev:armel 		libapparmor-dev:armhf 		libapparmor-dev:arm64 		libapparmor-dev:armel 		libapparmor-dev 		libseccomp-dev; 	fi
 ---> Using cache
 ---> d0c837879702
Step 32/112 : FROM runtime-dev-cross-${CROSS} AS runtime-dev
 ---> a8705f99a96e
Step 33/112 : FROM base AS tomlv
 ---> c5ede004ed81
Step 34/112 : ENV INSTALL_BINARY_NAME=tomlv
 ---> Using cache
 ---> dc4f1690dcb1
Step 35/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> aa7b6aaae2a1
Step 36/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 7556c676fea1
Step 37/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> a7122948eb57
Step 38/112 : FROM base AS vndr
 ---> c5ede004ed81
Step 39/112 : ENV INSTALL_BINARY_NAME=vndr
 ---> Using cache
 ---> d7c466a6bf45
Step 40/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 137150c032ee
Step 41/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 3c846cc8986d
Step 42/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> d93cc9ff0b18
Step 43/112 : FROM dev-base AS containerd
 ---> c5ede004ed81
Step 44/112 : RUN apt-get update && apt-get install -y btrfs-tools
 ---> Using cache
 ---> 5378dccb29b5
Step 45/112 : ENV INSTALL_BINARY_NAME=containerd
 ---> Using cache
 ---> 7e403b8c6e46
Step 46/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> d1e80a526942
Step 47/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> c559be293ef4
Step 48/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 9f27f5f471b1
Step 49/112 : FROM dev-base AS proxy
 ---> c5ede004ed81
Step 50/112 : ENV INSTALL_BINARY_NAME=proxy
 ---> Using cache
 ---> dcb13a4aa943
Step 51/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 51b6fff1833a
Step 52/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 7b235f3c64d1
Step 53/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 89a6a77d851c
Step 54/112 : FROM base AS gometalinter
 ---> c5ede004ed81
Step 55/112 : ENV INSTALL_BINARY_NAME=gometalinter
 ---> Using cache
 ---> b80a8c065757
Step 56/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 64565c4ec78a
Step 57/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 1efb6969b4b0
Step 58/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 091359c48b64
Step 59/112 : FROM dev-base AS dockercli
 ---> c5ede004ed81
Step 60/112 : ENV INSTALL_BINARY_NAME=dockercli
 ---> Using cache
 ---> efe99e6a256f
Step 61/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 0f66c6bf4746
Step 62/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 27bdb85f0531
Step 63/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> a396c9af5616
Step 64/112 : FROM runtime-dev AS runc
 ---> a8705f99a96e
Step 65/112 : ENV INSTALL_BINARY_NAME=runc
 ---> Using cache
 ---> b4051eb6fc84
Step 66/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 4cdb92194c86
Step 67/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> a3bc12e41f28
Step 68/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> c22ae2cbfb72
Step 69/112 : FROM dev-base AS tini
 ---> c5ede004ed81
Step 70/112 : RUN apt-get update && apt-get install -y cmake vim-common
 ---> Using cache
 ---> e6a40f6c10c9
Step 71/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 78ea1ac3b378
Step 72/112 : ENV INSTALL_BINARY_NAME=tini
 ---> Using cache
 ---> 35eb44276481
Step 73/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 9cc9d2eb0caa
Step 74/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> acb3c58b4f92
Step 75/112 : FROM dev-base AS rootlesskit
 ---> c5ede004ed81
Step 76/112 : ENV INSTALL_BINARY_NAME=rootlesskit
 ---> Using cache
 ---> fa764bca04b3
Step 77/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 6a857df5ea99
Step 78/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 05157d4c133d
Step 79/112 : RUN PREFIX=/build/ ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> a9ee74058beb
Step 80/112 : COPY ./contrib/dockerd-rootless.sh /build
 ---> Using cache
 ---> 12164d273f88
Step 81/112 : FROM runtime-dev AS dev
 ---> a8705f99a96e
Step 82/112 : RUN groupadd -r docker
 ---> Using cache
 ---> 668d84e5b9d3
Step 83/112 : RUN useradd --create-home --gid docker unprivilegeduser
 ---> Using cache
 ---> f7f84d6a2836
Step 84/112 : RUN ln -sfv /go/src/github.com/docker/docker/.bashrc ~/.bashrc
 ---> Using cache
 ---> b34796994315
Step 85/112 : RUN echo "source /usr/share/bash-completion/bash_completion" >> /etc/bash.bashrc
 ---> Using cache
 ---> 59ed13e1137b
Step 86/112 : RUN ln -s /usr/local/completion/bash/docker /etc/bash_completion.d/docker
 ---> Using cache
 ---> bff15edb4dcb
Step 87/112 : RUN ldconfig
 ---> Using cache
 ---> af61f2c9a6f1
Step 88/112 : RUN apt-get update && apt-get install -y 	apparmor 	aufs-tools 	bash-completion 	btrfs-tools 	iptables 	jq 	libcap2-bin 	libdevmapper-dev 	libffi-dev 	libssl-dev 	libudev-dev 	libsystemd-dev 	binutils-mingw-w64 	g++-mingw-w64-x86-64 	net-tools 	pigz 	python-backports.ssl-match-hostname 	python-dev 	python-cffi 	python-mock 	python-pip 	python-requests 	python-setuptools 	python-websocket 	python-wheel 	thin-provisioning-tools 	vim 	vim-common 	xfsprogs 	zip 	bzip2 	xz-utils 	libprotobuf-c1 	libnet1 	libnl-3-200 	--no-install-recommends
 ---> Using cache
 ---> 3b010a490269
Step 89/112 : COPY --from=swagger /build/swagger* /usr/local/bin/
 ---> Using cache
 ---> 440bf7c96020
Step 90/112 : COPY --from=frozen-images /build/ /docker-frozen-images
 ---> Using cache
 ---> 60c9984142c4
Step 91/112 : COPY --from=gometalinter /build/ /usr/local/bin/
 ---> Using cache
 ---> 9178d37e9ea5
Step 92/112 : COPY --from=tomlv /build/ /usr/local/bin/
 ---> Using cache
 ---> 9ccbac7d7b50
Step 93/112 : COPY --from=vndr /build/ /usr/local/bin/
 ---> Using cache
 ---> 6a4d157917ee
Step 94/112 : COPY --from=tini /build/ /usr/local/bin/
 ---> Using cache
 ---> 715e3fc1ae40
Step 95/112 : COPY --from=runc /build/ /usr/local/bin/
 ---> Using cache
 ---> c3960ede5fb1
Step 96/112 : COPY --from=containerd /build/ /usr/local/bin/
 ---> Using cache
 ---> ad3766d9443c
Step 97/112 : COPY --from=proxy /build/ /usr/local/bin/
 ---> Using cache
 ---> cb8784f3b5b8
Step 98/112 : COPY --from=dockercli /build/ /usr/local/cli
 ---> Using cache
 ---> 7c1853af6052
Step 99/112 : COPY --from=registry /build/registry* /usr/local/bin/
 ---> Using cache
 ---> f00cc4c5bf67
Step 100/112 : COPY --from=criu /build/ /usr/local/
 ---> Using cache
 ---> 84e90bf9d096
Step 101/112 : COPY --from=docker-py /build/ /docker-py
 ---> Using cache
 ---> fab1bc07a004
Step 102/112 : RUN cd /docker-py 	&& pip install docker-pycreds==0.4.0 	&& pip install paramiko==2.4.2 	&& pip install yamllint==1.5.0 	&& pip install -r test-requirements.txt
 ---> Using cache
 ---> 59acbdfa0a30
Step 103/112 : COPY --from=rootlesskit /build/ /usr/local/bin/
 ---> Using cache
 ---> 528ea06c025f
Step 104/112 : COPY --from=djs55/vpnkit@sha256:e508a17cfacc8fd39261d5b4e397df2b953690da577e2c987a47630cd0c42f8e /vpnkit /usr/local/bin/vpnkit.x86_64
 ---> Using cache
 ---> 4054319b23da
Step 105/112 : ENV PATH=/usr/local/cli:$PATH
 ---> Using cache
 ---> 0795b67918bc
Step 106/112 : ENV DOCKER_BUILDTAGS apparmor seccomp selinux
 ---> Using cache
 ---> b3e053177ccd
Step 107/112 : ENV GOMETALINTER_OPTS="--deadline=2m"
 ---> Using cache
 ---> aede810fcdfa
Step 108/112 : WORKDIR /go/src/github.com/docker/docker
 ---> Using cache
 ---> a96629112110
Step 109/112 : VOLUME /var/lib/docker
 ---> Using cache
 ---> 297edda4988b
Step 110/112 : ENTRYPOINT ["hack/dind"]
 ---> Using cache
 ---> 67c6c20d67ad
Step 111/112 : FROM dev AS final
 ---> 67c6c20d67ad
Step 112/112 : COPY . /go/src/github.com/docker/docker
 ---> 15b3cc066aea
Successfully built 15b3cc066aea
Successfully tagged docker:fcb6a01
Congratulations!  All commits are properly signed with the DCO!
Congratulations!  "./pkg/..." is safely isolated from internal code.
No api/types/ or api/swagger.yaml changes in diff.
Congratulations!  No testing.T found.
Congratulations!  All toml source files changed here have valid syntax.
Congratulations!  Changelog CHANGELOG.md is well-formed.
Congratulations!  Changelog CHANGELOG.md dates are in descending order.
Congratulations!  No new tests added to integration-cli.
?   	github.com/docker/docker/api	[no test files]
ok  	github.com/docker/docker/api/server	0.003s	coverage: 7.9% of statements
?   	github.com/docker/docker/api/server/backend/build	[no test files]
ok  	github.com/docker/docker/api/server/httputils	0.003s	coverage: 14.7% of statements
ok  	github.com/docker/docker/api/server/middleware	0.003s	coverage: 43.4% of statements
?   	github.com/docker/docker/api/server/router	[no test files]
?   	github.com/docker/docker/api/server/router/build	[no test files]
?   	github.com/docker/docker/api/server/router/checkpoint	[no test files]
?   	github.com/docker/docker/api/server/router/container	[no test files]
?   	github.com/docker/docker/api/server/router/debug	[no test files]
?   	github.com/docker/docker/api/server/router/distribution	[no test files]
?   	github.com/docker/docker/api/server/router/grpc	[no test files]
?   	github.com/docker/docker/api/server/router/image	[no test files]
?   	github.com/docker/docker/api/server/router/network	[no test files]
?   	github.com/docker/docker/api/server/router/plugin	[no test files]
?   	github.com/docker/docker/api/server/router/session	[no test files]
ok  	github.com/docker/docker/api/server/router/swarm	0.003s	coverage: 3.1% of statements
?   	github.com/docker/docker/api/server/router/system	[no test files]
?   	github.com/docker/docker/api/server/router/volume	[no test files]
?   	github.com/docker/docker/api/types	[no test files]
?   	github.com/docker/docker/api/types/backend	[no test files]
?   	github.com/docker/docker/api/types/blkiodev	[no test files]
?   	github.com/docker/docker/api/types/container	[no test files]
?   	github.com/docker/docker/api/types/events	[no test files]
ok  	github.com/docker/docker/api/types/filters	0.002s	coverage: 95.2% of statements
?   	github.com/docker/docker/api/types/image	[no test files]
?   	github.com/docker/docker/api/types/mount	[no test files]
?   	github.com/docker/docker/api/types/network	[no test files]
?   	github.com/docker/docker/api/types/plugins/logdriver	[no test files]
?   	github.com/docker/docker/api/types/registry	[no test files]
ok  	github.com/docker/docker/api/types/strslice	0.002s	coverage: 90.0% of statements
?   	github.com/docker/docker/api/types/swarm	[no test files]
?   	github.com/docker/docker/api/types/swarm/runtime	[no test files]
ok  	github.com/docker/docker/api/types/time	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/api/types/versions	0.002s	coverage: 75.0% of statements
?   	github.com/docker/docker/api/types/versions/v1p19	[no test files]
?   	github.com/docker/docker/api/types/versions/v1p20	[no test files]
?   	github.com/docker/docker/api/types/volume	[no test files]
?   	github.com/docker/docker/builder	[no test files]
?   	github.com/docker/docker/builder/builder-next	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/containerimage	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/localinlinecache	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/snapshot	[no test files]
?   	github.com/docker/docker/builder/builder-next/exporter	[no test files]
?   	github.com/docker/docker/builder/builder-next/imagerefchecker	[no test files]
?   	github.com/docker/docker/builder/builder-next/worker	[no test files]
ok  	github.com/docker/docker/builder/dockerfile	0.363s	coverage: 45.1% of statements
ok  	github.com/docker/docker/builder/dockerignore	0.002s	coverage: 96.8% of statements
ok  	github.com/docker/docker/builder/fscache	0.109s	coverage: 69.2% of statements
ok  	github.com/docker/docker/builder/remotecontext	0.142s	coverage: 13.6% of statements
ok  	github.com/docker/docker/builder/remotecontext/git	0.479s	coverage: 85.1% of statements
?   	github.com/docker/docker/cli	[no test files]
?   	github.com/docker/docker/cli/config	[no test files]
ok  	github.com/docker/docker/cli/debug	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/client	0.085s	coverage: 75.8% of statements
ok  	github.com/docker/docker/cmd/dockerd	0.031s	coverage: 29.0% of statements
ok  	github.com/docker/docker/cmd/dockerd/hack	0.002s	coverage: 72.9% of statements
ok  	github.com/docker/docker/container	0.111s	coverage: 35.6% of statements
?   	github.com/docker/docker/container/stream	[no test files]
?   	github.com/docker/docker/contrib/apparmor	[no test files]
?   	github.com/docker/docker/contrib/docker-device-tool	[no test files]
?   	github.com/docker/docker/contrib/httpserver	[no test files]
ok  	github.com/docker/docker/daemon	12.159s	coverage: 17.4% of statements
ok  	github.com/docker/docker/daemon/cluster	0.025s	coverage: 0.5% of statements
ok  	github.com/docker/docker/daemon/cluster/controllers/plugin	0.007s	coverage: 65.3% of statements
ok  	github.com/docker/docker/daemon/cluster/convert	0.006s	coverage: 35.8% of statements
?   	github.com/docker/docker/daemon/cluster/executor	[no test files]
ok  	github.com/docker/docker/daemon/cluster/executor/container	3.426s	coverage: 13.6% of statements
?   	github.com/docker/docker/daemon/cluster/provider	[no test files]
ok  	github.com/docker/docker/daemon/config	0.025s	coverage: 84.2% of statements
ok  	github.com/docker/docker/daemon/discovery	0.003s	coverage: 30.4% of statements
ok  	github.com/docker/docker/daemon/events	0.056s	coverage: 50.0% of statements
?   	github.com/docker/docker/daemon/events/testutils	[no test files]
?   	github.com/docker/docker/daemon/exec	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver	0.004s	coverage: 2.2% of statements
ok  	github.com/docker/docker/daemon/graphdriver/aufs	3.881s	coverage: 72.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/btrfs	0.004s	coverage: 2.9% of statements
ok  	github.com/docker/docker/daemon/graphdriver/copy	0.172s	coverage: 57.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/devmapper	2.000s	coverage: 45.9% of statements
?   	github.com/docker/docker/daemon/graphdriver/graphtest	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/overlay	0.686s	coverage: 50.8% of statements
ok  	github.com/docker/docker/daemon/graphdriver/overlay2	1.912s	coverage: 56.8% of statements
?   	github.com/docker/docker/daemon/graphdriver/overlayutils	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/quota	0.270s	coverage: 75.2% of statements
?   	github.com/docker/docker/daemon/graphdriver/register	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/vfs	0.005s	coverage: 58.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/zfs	0.005s	coverage: 3.0% of statements
ok  	github.com/docker/docker/daemon/images	0.008s	coverage: 4.9% of statements
?   	github.com/docker/docker/daemon/initlayer	[no test files]
ok  	github.com/docker/docker/daemon/links	0.002s	coverage: 93.0% of statements
?   	github.com/docker/docker/daemon/listeners	[no test files]
ok  	github.com/docker/docker/daemon/logger	0.211s	coverage: 42.7% of statements
ok  	github.com/docker/docker/daemon/logger/awslogs	0.092s	coverage: 78.6% of statements
?   	github.com/docker/docker/daemon/logger/fluentd	[no test files]
?   	github.com/docker/docker/daemon/logger/gcplogs	[no test files]
ok  	github.com/docker/docker/daemon/logger/gelf	0.004s	coverage: 68.2% of statements
ok  	github.com/docker/docker/daemon/logger/journald	0.003s	coverage: 26.2% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog	0.005s	coverage: 62.1% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog/jsonlog	0.003s	coverage: 88.3% of statements
ok  	github.com/docker/docker/daemon/logger/local	0.009s	coverage: 74.7% of statements
?   	github.com/docker/docker/daemon/logger/logentries	[no test files]
ok  	github.com/docker/docker/daemon/logger/loggerutils	0.008s	coverage: 18.6% of statements
ok  	github.com/docker/docker/daemon/logger/splunk	1.399s	coverage: 84.5% of statements
ok  	github.com/docker/docker/daemon/logger/syslog	0.003s	coverage: 47.8% of statements
ok  	github.com/docker/docker/daemon/logger/templates	0.002s	coverage: 8.3% of statements
?   	github.com/docker/docker/daemon/names	[no test files]
ok  	github.com/docker/docker/daemon/network	0.003s	coverage: 63.8% of statements
?   	github.com/docker/docker/daemon/stats	[no test files]
ok  	github.com/docker/docker/distribution	1.034s	coverage: 17.0% of statements
ok  	github.com/docker/docker/distribution/metadata	0.020s	coverage: 48.2% of statements
?   	github.com/docker/docker/distribution/utils	[no test files]
ok  	github.com/docker/docker/distribution/xfer	1.420s	coverage: 83.9% of statements
?   	github.com/docker/docker/dockerversion	[no test files]
ok  	github.com/docker/docker/errdefs	0.003s	coverage: 51.6% of statements
ok  	github.com/docker/docker/image	0.013s	coverage: 86.4% of statements
ok  	github.com/docker/docker/image/cache	0.005s	coverage: 19.2% of statements
?   	github.com/docker/docker/image/tarexport	[no test files]
ok  	github.com/docker/docker/image/v1	0.005s	coverage: 25.0% of statements
ok  	github.com/docker/docker/internal/procfs	0.002s	coverage: 78.4% of statements
?   	github.com/docker/docker/internal/test	[no test files]
?   	github.com/docker/docker/internal/test/daemon	[no test files]
?   	github.com/docker/docker/internal/test/environment	[no test files]
?   	github.com/docker/docker/internal/test/fakecontext	[no test files]
?   	github.com/docker/docker/internal/test/fakegit	[no test files]
?   	github.com/docker/docker/internal/test/fakestorage	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/load	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin/basic	[no test files]
?   	github.com/docker/docker/internal/test/registry	[no test files]
?   	github.com/docker/docker/internal/test/request	[no test files]
ok  	github.com/docker/docker/internal/testutil	0.002s	coverage: 62.5% of statements
ok  	github.com/docker/docker/layer	7.796s	coverage: 72.1% of statements
?   	github.com/docker/docker/libcontainerd	[no test files]
ok  	github.com/docker/docker/libcontainerd/queue	0.022s	coverage: 100.0% of statements
?   	github.com/docker/docker/libcontainerd/remote	[no test files]
?   	github.com/docker/docker/libcontainerd/supervisor	[no test files]
?   	github.com/docker/docker/libcontainerd/types	[no test files]
?   	github.com/docker/docker/oci	[no test files]
?   	github.com/docker/docker/oci/caps	[no test files]
ok  	github.com/docker/docker/opts	0.014s	coverage: 67.3% of statements
ok  	github.com/docker/docker/pkg/aaparser	0.002s	coverage: 50.0% of statements
ok  	github.com/docker/docker/pkg/archive	0.315s	coverage: 77.2% of statements
ok  	github.com/docker/docker/pkg/authorization	0.222s	coverage: 66.7% of statements
ok  	github.com/docker/docker/pkg/broadcaster	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/capabilities	0.002s	coverage: 87.5% of statements
ok  	github.com/docker/docker/pkg/chrootarchive	2.721s	coverage: 37.0% of statements
?   	github.com/docker/docker/pkg/containerfs	[no test files]
?   	github.com/docker/docker/pkg/devicemapper	[no test files]
ok  	github.com/docker/docker/pkg/directory	0.002s	coverage: 80.0% of statements
ok  	github.com/docker/docker/pkg/discovery	0.003s	coverage: 58.3% of statements
ok  	github.com/docker/docker/pkg/discovery/file	0.003s	coverage: 97.6% of statements
ok  	github.com/docker/docker/pkg/discovery/kv	3.048s	coverage: 84.1% of statements
ok  	github.com/docker/docker/pkg/discovery/memory	0.002s	coverage: 92.3% of statements
ok  	github.com/docker/docker/pkg/discovery/nodes	0.002s	coverage: 93.8% of statements
ok  	github.com/docker/docker/pkg/dmesg	0.003s	coverage: 83.3% of statements
ok  	github.com/docker/docker/pkg/filenotify	0.602s	coverage: 66.3% of statements
ok  	github.com/docker/docker/pkg/fileutils	0.004s	coverage: 89.5% of statements
ok  	github.com/docker/docker/pkg/fsutils	0.146s	coverage: 85.1% of statements
ok  	github.com/docker/docker/pkg/homedir	0.002s	coverage: 10.2% of statements
ok  	github.com/docker/docker/pkg/idtools	0.287s	coverage: 70.2% of statements
ok  	github.com/docker/docker/pkg/ioutils	0.352s	coverage: 69.1% of statements
ok  	github.com/docker/docker/pkg/jsonmessage	0.003s	coverage: 91.7% of statements
ok  	github.com/docker/docker/pkg/locker	0.009s	coverage: 88.9% of statements
ok  	github.com/docker/docker/pkg/longpath	0.002s	coverage: 100.0% of statements
?   	github.com/docker/docker/pkg/loopback	[no test files]
ok  	github.com/docker/docker/pkg/mount	0.391s	coverage: 69.6% of statements
ok  	github.com/docker/docker/pkg/namesgenerator	0.002s	coverage: 85.7% of statements
?   	github.com/docker/docker/pkg/namesgenerator/cmd/names-generator	[no test files]
ok  	github.com/docker/docker/pkg/parsers	0.002s	coverage: 97.0% of statements
ok  	github.com/docker/docker/pkg/parsers/kernel	0.002s	coverage: 60.0% of statements
ok  	github.com/docker/docker/pkg/parsers/operatingsystem	0.002s	coverage: 90.0% of statements
ok  	github.com/docker/docker/pkg/pidfile	0.002s	coverage: 82.4% of statements
?   	github.com/docker/docker/pkg/platform	[no test files]
?   	github.com/docker/docker/pkg/plugingetter	[no test files]
ok  	github.com/docker/docker/pkg/plugins	33.613s	coverage: 76.8% of statements
ok  	github.com/docker/docker/pkg/plugins/pluginrpc-gen	0.006s	coverage: 56.8% of statements
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures	[no test files]
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures/otherfixture	[no test files]
ok  	github.com/docker/docker/pkg/plugins/transport	0.002s	coverage: 85.7% of statements
ok  	github.com/docker/docker/pkg/pools	0.002s	coverage: 87.9% of statements
ok  	github.com/docker/docker/pkg/progress	0.002s	coverage: 75.9% of statements
ok  	github.com/docker/docker/pkg/pubsub	1.026s	coverage: 72.7% of statements
ok  	github.com/docker/docker/pkg/reexec	0.008s	coverage: 82.4% of statements
ok  	github.com/docker/docker/pkg/signal	2.725s	coverage: 61.0% of statements
?   	github.com/docker/docker/pkg/signal/testfiles	[no test files]
ok  	github.com/docker/docker/pkg/stdcopy	0.003s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/streamformatter	0.003s	coverage: 66.2% of statements
ok  	github.com/docker/docker/pkg/stringid	0.002s	coverage: 76.0% of statements
ok  	github.com/docker/docker/pkg/symlink	0.005s	coverage: 87.7% of statements
ok  	github.com/docker/docker/pkg/sysinfo	0.004s	coverage: 81.8% of statements
ok  	github.com/docker/docker/pkg/system	0.012s	coverage: 35.8% of statements
ok  	github.com/docker/docker/pkg/tailfile	0.014s	coverage: 88.6% of statements
ok  	github.com/docker/docker/pkg/tarsum	0.037s	coverage: 89.3% of statements
ok  	github.com/docker/docker/pkg/term	0.003s	coverage: 84.8% of statements
ok  	github.com/docker/docker/pkg/term/windows	0.002s	coverage: 0.0% of statements [no tests to run]
ok  	github.com/docker/docker/pkg/truncindex	0.102s	coverage: 91.5% of statements
ok  	github.com/docker/docker/pkg/urlutil	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/useragent	0.002s	coverage: 88.9% of statements
ok  	github.com/docker/docker/plugin	0.534s	coverage: 27.3% of statements
?   	github.com/docker/docker/plugin/executor/containerd	[no test files]
ok  	github.com/docker/docker/plugin/v2	0.003s	coverage: 14.5% of statements
?   	github.com/docker/docker/profiles/apparmor	[no test files]
ok  	github.com/docker/docker/profiles/seccomp	0.004s	coverage: 75.3% of statements
ok  	github.com/docker/docker/reference	0.005s	coverage: 84.4% of statements
ok  	github.com/docker/docker/registry	0.080s	coverage: 56.9% of statements
ok  	github.com/docker/docker/registry/resumable	0.015s	coverage: 100.0% of statements
ok  	github.com/docker/docker/restartmanager	0.002s	coverage: 49.0% of statements
?   	github.com/docker/docker/rootless	[no test files]
?   	github.com/docker/docker/rootless/specconv	[no test files]
ok  	github.com/docker/docker/runconfig	0.006s	coverage: 68.2% of statements
?   	github.com/docker/docker/runconfig/opts	[no test files]
?   	github.com/docker/docker/volume	[no test files]
ok  	github.com/docker/docker/volume/drivers	0.004s	coverage: 36.1% of statements
ok  	github.com/docker/docker/volume/local	0.017s	coverage: 73.0% of statements
ok  	github.com/docker/docker/volume/mounts	0.016s	coverage: 67.0% of statements
ok  	github.com/docker/docker/volume/service	0.011s	coverage: 73.0% of statements
?   	github.com/docker/docker/volume/service/opts	[no test files]
?   	github.com/docker/docker/volume/testutils	[no test files]

  _____          _
 / ____|        | |
| |     ___   __| | ___  ___ _____   __
| |    / _ \ / _` |/ _ \/ __/ _ \ \ / /
| |___| (_) | (_| |  __/ (_| (_) \ V /
 \_____\___/ \__,_|\___|\___\___/ \_/
                              Bash-8a28df4


[0;31mx>[0m No CI provider detected.
    Testing inside Docker? [0;36mhttp://docs.codecov.io/docs/testing-with-docker[0m
    Testing with Tox? [0;36mhttps://docs.codecov.io/docs/python#section-testing-with-tox[0m
    [0;90mproject root:[0m .
[0;90m-->[0m token set from env
    [0;90mYaml found at:[0m codecov.yml
    [0;90m->[0m Found 1 reports
[0;90m==>[0m Detecting git/mercurial file structure
[0;90m==>[0m Reading reports
    [0;32m+[0m coverage.txt [0;90mbytes=1685991[0m
[0;90m==>[0m Appending adjustments
    [0;36mhttp://docs.codecov.io/docs/fixing-reports[0m
    [0;32m+[0m Found adjustments
[0;90m==>[0m Gzipping contents
[0;90m==>[0m Uploading reports
    [0;90murl:[0m https://codecov.io
    [0;90mquery:[0m branch=&commit=61815f676391ca24bbbdf3cebcb47cefad404035&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    [0;90m->[0m Pinging Codecov
https://codecov.io/upload/v4?package=bash-8a28df4&token=e6d53b86-8efe-4b59-adb0-c205a735b39e&branch=&commit=61815f676391ca24bbbdf3cebcb47cefad404035&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    [0;90m->[0m Uploading
    [0;32m->[0m View reports at [0;36mhttps://codecov.io/github/moby/moby/commit/61815f676391ca24bbbdf3cebcb47cefad404035[0m

Removing bundles/

---> Making bundle: binary-daemon (in bundles/binary-daemon)
Building: bundles/binary-daemon/dockerd-dev
GOOS="" GOARCH="" GOARM=""
Created binary: bundles/binary-daemon/dockerd-dev
Copying nested executables into bundles/binary-daemon

---> Making bundle: dynbinary (in bundles/dynbinary)
Building: bundles/dynbinary-daemon/dockerd-dev
GOOS="" GOARCH="" GOARM=""
Created binary: bundles/dynbinary-daemon/dockerd-dev

---> Making bundle: test-integration-flaky (in bundles/test-integration-flaky)
No new tests added to integration.

---> Making bundle: test-integration (in bundles/test-integration)
Building test suite binary ./integration-cli/test.main
Building test suite binary ./integration/system/test.main
Building test suite binary ./integration/secret/test.main
Building test suite binary ./integration/build/test.main
Building test suite binary ./integration/service/test.main
Building test suite binary ./integration/config/test.main
Building test suite binary ./integration/plugin/test.main
Building test suite binary ./integration/plugin/common/test.main
Building test suite binary ./integration/plugin/graphdriver/test.main
Building test suite binary ./integration/plugin/authz/test.main
Building test suite binary ./integration/plugin/volumes/test.main
Building test suite binary ./integration/plugin/volumes/cmd/test.main
Building test suite binary ./integration/plugin/volumes/cmd/dummy/test.main
Building test suite binary ./integration/plugin/logging/test.main
Building test suite binary ./integration/plugin/logging/cmd/test.main
Building test suite binary ./integration/plugin/logging/cmd/close_on_start/test.main
Building test suite binary ./integration/plugin/logging/cmd/dummy/test.main
Building test suite binary ./integration/container/test.main
Building test suite binary ./integration/image/test.main
Building test suite binary ./integration/network/test.main
Building test suite binary ./integration/network/macvlan/test.main
Building test suite binary ./integration/network/ipvlan/test.main
Building test suite binary ./integration/session/test.main
Building test suite binary ./integration/volume/test.main
---> Making bundle: .integration-daemon-start (in bundles/test-integration)
Using test binary docker
/etc/init.d/apparmor: 130: /etc/init.d/apparmor: systemd-detect-virt: not found
Starting AppArmor profiles:Warning from stdin (line 1): /sbin/apparmor_parser: cannot use or update cache, disable, or force-complain via stdin
Warning failed to create cache: (null)
.
Starting dockerd
INFO: Waiting for daemon to start...
.
---> Making bundle: .integration-daemon-setup (in bundles/test-integration)
---> Making bundle: .ensure-emptyfs (in bundles/test-integration)
Error: No such image: emptyfs
Running integration-test (iteration 1)
Running /go/src/github.com/docker/docker/integration/system
Loaded image: buildpack-deps:jessie
Loaded image: busybox:latest
Loaded image: busybox:glibc
Loaded image: debian:jessie
Loaded image: hello-world:latest
INFO: Testing against a local daemon
=== RUN   TestCgroupDriverSystemdMemoryLimit
--- SKIP: TestCgroupDriverSystemdMemoryLimit (0.00s)
    cgroupdriver_systemd_test.go:32: !hasSystemd()
=== RUN   TestEventsExecDie
--- PASS: TestEventsExecDie (0.64s)
=== RUN   TestEventsBackwardsCompatible
--- PASS: TestEventsBackwardsCompatible (0.06s)
=== RUN   TestInfoBinaryCommits
--- PASS: TestInfoBinaryCommits (0.01s)
=== RUN   TestInfoAPIVersioned
--- PASS: TestInfoAPIVersioned (0.01s)
=== RUN   TestInfoAPI
--- PASS: TestInfoAPI (0.01s)
=== RUN   TestInfoAPIWarnings
--- PASS: TestInfoAPIWarnings (0.71s)
    info_test.go:49: Creating a new daemon
    daemon.go:317: [dc1b0749eb697] waiting for daemon to start
    daemon.go:335: [dc1b0749eb697] daemon started
    daemon.go:445: [dc1b0749eb697] Stopping daemon
    daemon.go:284: [dc1b0749eb697] exiting daemon
    daemon.go:432: [dc1b0749eb697] Daemon stopped
=== RUN   TestLoginFailsWithBadCredentials
--- PASS: TestLoginFailsWithBadCredentials (1.24s)
=== RUN   TestPingCacheHeaders
--- PASS: TestPingCacheHeaders (0.01s)
=== RUN   TestPingGet
--- PASS: TestPingGet (0.01s)
=== RUN   TestPingHead
--- PASS: TestPingHead (0.01s)
=== RUN   TestUUIDGeneration
--- PASS: TestUUIDGeneration (0.01s)
=== RUN   TestVersion
--- PASS: TestVersion (0.01s)
PASS
Running /go/src/github.com/docker/docker/integration/secret
INFO: Testing against a local daemon
=== RUN   TestSecretInspect
--- PASS: TestSecretInspect (2.38s)
    secret_test.go:25: Creating a new daemon
    daemon.go:317: [d681919ddec3a] waiting for daemon to start
    daemon.go:335: [d681919ddec3a] daemon started
    daemon.go:445: [d681919ddec3a] Stopping daemon
    daemon.go:284: [d681919ddec3a] exiting daemon
    daemon.go:432: [d681919ddec3a] Daemon stopped
=== RUN   TestSecretList
--- PASS: TestSecretList (2.06s)
    secret_test.go:48: Creating a new daemon
    daemon.go:317: [d0c848a4da4dd] waiting for daemon to start
    daemon.go:335: [d0c848a4da4dd] daemon started
    daemon.go:445: [d0c848a4da4dd] Stopping daemon
    daemon.go:284: [d0c848a4da4dd] exiting daemon
    daemon.go:432: [d0c848a4da4dd] Daemon stopped
=== RUN   TestSecretsCreateAndDelete
--- PASS: TestSecretsCreateAndDelete (2.09s)
    secret_test.go:125: Creating a new daemon
    daemon.go:317: [d3110c7cd3e30] waiting for daemon to start
    daemon.go:335: [d3110c7cd3e30] daemon started
    daemon.go:445: [d3110c7cd3e30] Stopping daemon
    daemon.go:284: [d3110c7cd3e30] exiting daemon
    daemon.go:432: [d3110c7cd3e30] Daemon stopped
=== RUN   TestSecretsUpdate
--- PASS: TestSecretsUpdate (2.08s)
    secret_test.go:172: Creating a new daemon
    daemon.go:317: [d3e91a9d5a887] waiting for daemon to start
    daemon.go:335: [d3e91a9d5a887] daemon started
    daemon.go:445: [d3e91a9d5a887] Stopping daemon
    daemon.go:284: [d3e91a9d5a887] exiting daemon
    daemon.go:432: [d3e91a9d5a887] Daemon stopped
=== RUN   TestTemplatedSecret
--- PASS: TestTemplatedSecret (2.67s)
    secret_test.go:221: Creating a new daemon
    daemon.go:317: [dd2e1c50ad39b] waiting for daemon to start
    daemon.go:335: [dd2e1c50ad39b] daemon started
    daemon.go:445: [dd2e1c50ad39b] Stopping daemon
    daemon.go:284: [dd2e1c50ad39b] exiting daemon
    daemon.go:432: [dd2e1c50ad39b] Daemon stopped
=== RUN   TestSecretCreateResolve
--- PASS: TestSecretCreateResolve (2.18s)
    secret_test.go:342: Creating a new daemon
    daemon.go:317: [d52b1ca9944b5] waiting for daemon to start
    daemon.go:335: [d52b1ca9944b5] daemon started
    daemon.go:445: [d52b1ca9944b5] Stopping daemon
    daemon.go:284: [d52b1ca9944b5] exiting daemon
    daemon.go:432: [d52b1ca9944b5] Daemon stopped
PASS
Running /go/src/github.com/docker/docker/integration/build
INFO: Testing against a local daemon
=== RUN   TestCgroupNamespacesBuild
--- PASS: TestCgroupNamespacesBuild (1.27s)
    build_cgroupns_linux_test.go:42: Creating a new daemon
    daemon.go:317: [d2e31e7b9786e] waiting for daemon to start
    daemon.go:335: [d2e31e7b9786e] daemon started
    daemon.go:445: [d2e31e7b9786e] Stopping daemon
    daemon.go:284: [d2e31e7b9786e] exiting daemon
    daemon.go:432: [d2e31e7b9786e] Daemon stopped
=== RUN   TestCgroupNamespacesBuildDaemonHostMode
--- PASS: TestCgroupNamespacesBuildDaemonHostMode (1.28s)
    build_cgroupns_linux_test.go:42: Creating a new daemon
    daemon.go:317: [d62f7a0c3d294] waiting for daemon to start
    daemon.go:335: [d62f7a0c3d294] daemon started
    daemon.go:445: [d62f7a0c3d294] Stopping daemon
    daemon.go:284: [d62f7a0c3d294] exiting daemon
    daemon.go:432: [d62f7a0c3d294] Daemon stopped
=== RUN   TestBuildWithSession
--- PASS: TestBuildWithSession (4.67s)
    build_session_test.go:31: Creating a new daemon
    daemon.go:317: [d531cd0d7fd05] waiting for daemon to start
    daemon.go:335: [d531cd0d7fd05] daemon started
    daemon.go:445: [d531cd0d7fd05] Stopping daemon
    daemon.go:284: [d531cd0d7fd05] exiting daemon
    daemon.go:432: [d531cd0d7fd05] Daemon stopped
=== RUN   TestBuildSquashParent
--- PASS: TestBuildSquashParent (8.96s)
    build_squash_test.go:29: Creating a new daemon
    daemon.go:317: [db5f925a9054e] waiting for daemon to start
    daemon.go:335: [db5f925a9054e] daemon started
    daemon.go:445: [db5f925a9054e] Stopping daemon
    daemon.go:284: [db5f925a9054e] exiting daemon
    daemon.go:432: [db5f925a9054e] Daemon stopped
=== RUN   TestBuildWithRemoveAndForceRemove
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_remove
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_remove
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_remove
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_remove
--- PASS: TestBuildWithRemoveAndForceRemove (0.01s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove (2.32s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal (2.36s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_remove (2.34s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal (2.37s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove (2.05s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_remove (2.01s)
=== RUN   TestBuildMultiStageParentConfig
--- PASS: TestBuildMultiStageParentConfig (4.22s)
=== RUN   TestBuildLabelWithTargets
--- PASS: TestBuildLabelWithTargets (8.00s)
=== RUN   TestBuildWithEmptyLayers
--- PASS: TestBuildWithEmptyLayers (2.99s)
=== RUN   TestBuildMultiStageOnBuild
--- PASS: TestBuildMultiStageOnBuild (5.02s)
=== RUN   TestBuildUncleanTarFilenames
--- PASS: TestBuildUncleanTarFilenames (0.78s)
=== RUN   TestBuildMultiStageLayerLeak
--- PASS: TestBuildMultiStageLayerLeak (4.41s)
=== RUN   TestBuildWithHugeFile
--- PASS: TestBuildWithHugeFile (46.82s)
=== RUN   TestBuildWithEmptyDockerfile
=== RUN   TestBuildWithEmptyDockerfile/empty-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/empty-dockerfile
=== RUN   TestBuildWithEmptyDockerfile/empty-lines-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/empty-lines-dockerfile
=== RUN   TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/empty-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/empty-lines-dockerfile
--- PASS: TestBuildWithEmptyDockerfile (0.42s)
    --- PASS: TestBuildWithEmptyDockerfile/empty-dockerfile (0.28s)
    --- PASS: TestBuildWithEmptyDockerfile/comment-only-dockerfile (0.28s)
    --- PASS: TestBuildWithEmptyDockerfile/empty-lines-dockerfile (0.07s)
=== RUN   TestBuildPreserveOwnership
=== RUN   TestBuildPreserveOwnership/copy_from
=== RUN   TestBuildPreserveOwnership/copy_from_chowned
--- PASS: TestBuildPreserveOwnership (10.21s)
    --- PASS: TestBuildPreserveOwnership/copy_from (6.18s)
    --- PASS: TestBuildPreserveOwnership/copy_from_chowned (4.00s)
PASS
Running /go/src/github.com/docker/docker/integration/service
INFO: Testing against a local daemon
=== RUN   TestServiceCreateInit
=== RUN   TestServiceCreateInit/daemonInitDisabled
=== RUN   TestServiceCreateInit/daemonInitEnabled
--- PASS: TestServiceCreateInit (8.61s)
    --- PASS: TestServiceCreateInit/daemonInitDisabled (4.37s)
        create_test.go:38: Creating a new daemon
        daemon.go:317: [d94c25ba3d9c5] waiting for daemon to start
        daemon.go:335: [d94c25ba3d9c5] daemon started
        daemon.go:445: [d94c25ba3d9c5] Stopping daemon
        daemon.go:284: [d94c25ba3d9c5] exiting daemon
        daemon.go:432: [d94c25ba3d9c5] Daemon stopped
    --- PASS: TestServiceCreateInit/daemonInitEnabled (4.19s)
        create_test.go:38: Creating a new daemon
        daemon.go:317: [d706a5e7c4df5] waiting for daemon to start
        daemon.go:335: [d706a5e7c4df5] daemon started
        daemon.go:445: [d706a5e7c4df5] Stopping daemon
        daemon.go:284: [d706a5e7c4df5] exiting daemon
        daemon.go:432: [d706a5e7c4df5] Daemon stopped
=== RUN   TestCreateServiceMultipleTimes
--- PASS: TestCreateServiceMultipleTimes (15.26s)
    create_test.go:80: Creating a new daemon
    daemon.go:317: [d6e7642b696b4] waiting for daemon to start
    daemon.go:335: [d6e7642b696b4] daemon started
    daemon.go:445: [d6e7642b696b4] Stopping daemon
    daemon.go:284: [d6e7642b696b4] exiting daemon
    daemon.go:432: [d6e7642b696b4] Daemon stopped
=== RUN   TestCreateServiceConflict
--- PASS: TestCreateServiceConflict (1.75s)
    create_test.go:129: Creating a new daemon
    daemon.go:317: [d73a63ab2512a] waiting for daemon to start
    daemon.go:335: [d73a63ab2512a] daemon started
    daemon.go:445: [d73a63ab2512a] Stopping daemon
    daemon.go:284: [d73a63ab2512a] exiting daemon
    daemon.go:432: [d73a63ab2512a] Daemon stopped
=== RUN   TestCreateServiceMaxReplicas
--- PASS: TestCreateServiceMaxReplicas (2.73s)
    create_test.go:150: Creating a new daemon
    daemon.go:317: [d3336e673e793] waiting for daemon to start
    daemon.go:335: [d3336e673e793] daemon started
    daemon.go:445: [d3336e673e793] Stopping daemon
    daemon.go:284: [d3336e673e793] exiting daemon
    daemon.go:432: [d3336e673e793] Daemon stopped
=== RUN   TestCreateWithDuplicateNetworkNames
--- PASS: TestCreateWithDuplicateNetworkNames (13.00s)
    create_test.go:171: Creating a new daemon
    daemon.go:317: [deab7fecd024c] waiting for daemon to start
    daemon.go:335: [deab7fecd024c] daemon started
    daemon.go:445: [deab7fecd024c] Stopping daemon
    daemon.go:284: [deab7fecd024c] exiting daemon
    daemon.go:432: [deab7fecd024c] Daemon stopped
=== RUN   TestCreateServiceSecretFileMode
--- PASS: TestCreateServiceSecretFileMode (1.95s)
    create_test.go:224: Creating a new daemon
    daemon.go:317: [dd191609c06de] waiting for daemon to start
    daemon.go:335: [dd191609c06de] daemon started
    daemon.go:445: [dd191609c06de] Stopping daemon
    daemon.go:284: [dd191609c06de] exiting daemon
    daemon.go:432: [dd191609c06de] Daemon stopped
=== RUN   TestCreateServiceConfigFileMode
--- PASS: TestCreateServiceConfigFileMode (2.37s)
    create_test.go:288: Creating a new daemon
    daemon.go:317: [d31f16a49103c] waiting for daemon to start
    daemon.go:335: [d31f16a49103c] daemon started
    daemon.go:445: [d31f16a49103c] Stopping daemon
    daemon.go:284: [d31f16a49103c] exiting daemon
    daemon.go:432: [d31f16a49103c] Daemon stopped
=== RUN   TestCreateServiceSysctls
--- PASS: TestCreateServiceSysctls (2.80s)
    create_test.go:378: Creating a new daemon
    daemon.go:317: [d0662a76a1936] waiting for daemon to start
    daemon.go:335: [d0662a76a1936] daemon started
    daemon.go:445: [d0662a76a1936] Stopping daemon
    daemon.go:284: [d0662a76a1936] exiting daemon
    daemon.go:432: [d0662a76a1936] Daemon stopped
=== RUN   TestInspect
--- PASS: TestInspect (2.08s)
    inspect_test.go:25: Creating a new daemon
    daemon.go:317: [d391a6d03d74d] waiting for daemon to start
    daemon.go:335: [d391a6d03d74d] daemon started
    daemon.go:445: [d391a6d03d74d] Stopping daemon
    daemon.go:284: [d391a6d03d74d] exiting daemon
    daemon.go:432: [d391a6d03d74d] Daemon stopped
=== RUN   TestDockerNetworkConnectAlias
--- PASS: TestDockerNetworkConnectAlias (4.00s)
    network_test.go:20: Creating a new daemon
    daemon.go:317: [dd32e74190693] waiting for daemon to start
    daemon.go:335: [dd32e74190693] daemon started
    daemon.go:445: [dd32e74190693] Stopping daemon
    daemon.go:284: [dd32e74190693] exiting daemon
    daemon.go:432: [dd32e74190693] Daemon stopped
=== RUN   TestServicePlugin
--- FAIL: TestServicePlugin (65.74s)
    plugin_test.go:36: Creating a new daemon
    daemon.go:317: [dbd60c2e1feb7] waiting for daemon to start
    daemon.go:335: [dbd60c2e1feb7] daemon started
    daemon.go:445: [dbd60c2e1feb7] Stopping daemon
    daemon.go:284: [dbd60c2e1feb7] exiting daemon
    daemon.go:432: [dbd60c2e1feb7] Daemon stopped
    plugin_test.go:57: Creating a new daemon
    daemon.go:317: [d3b977da73868] waiting for daemon to start
    daemon.go:335: [d3b977da73868] daemon started
    plugin_test.go:59: Creating a new daemon
    daemon.go:317: [d480e4f9af538] waiting for daemon to start
    daemon.go:335: [d480e4f9af538] daemon started
    plugin_test.go:62: Creating a new daemon
    daemon.go:317: [dced6cfd4893c] waiting for daemon to start
    daemon.go:335: [dced6cfd4893c] daemon started
    plugin_test.go:92: timeout hit after 30s: plugin "test" exists
    daemon.go:445: [dced6cfd4893c] Stopping daemon
    daemon.go:284: [dced6cfd4893c] exiting daemon
    daemon.go:432: [dced6cfd4893c] Daemon stopped
    daemon.go:445: [d480e4f9af538] Stopping daemon
    daemon.go:284: [d480e4f9af538] exiting daemon
    daemon.go:432: [d480e4f9af538] Daemon stopped
    daemon.go:445: [d3b977da73868] Stopping daemon
    daemon.go:284: [d3b977da73868] exiting daemon
    daemon.go:432: [d3b977da73868] Daemon stopped
=== RUN   TestServiceUpdateLabel
--- PASS: TestServiceUpdateLabel (2.40s)
    update_test.go:21: Creating a new daemon
    daemon.go:317: [d8ce0941f215a] waiting for daemon to start
    daemon.go:335: [d8ce0941f215a] daemon started
    daemon.go:445: [d8ce0941f215a] Stopping daemon
    daemon.go:284: [d8ce0941f215a] exiting daemon
    daemon.go:432: [d8ce0941f215a] Daemon stopped
=== RUN   TestServiceUpdateSecrets
--- PASS: TestServiceUpdateSecrets (14.06s)
    update_test.go:77: Creating a new daemon
    daemon.go:317: [dfecb14a12fd5] waiting for daemon to start
    daemon.go:335: [dfecb14a12fd5] daemon started
    daemon.go:445: [dfecb14a12fd5] Stopping daemon
    daemon.go:284: [dfecb14a12fd5] exiting daemon
    daemon.go:432: [dfecb14a12fd5] Daemon stopped
=== RUN   TestServiceUpdateConfigs
--- PASS: TestServiceUpdateConfigs (14.00s)
    update_test.go:139: Creating a new daemon
    daemon.go:317: [d6ba76209f6c3] waiting for daemon to start
    daemon.go:335: [d6ba76209f6c3] daemon started
    daemon.go:445: [d6ba76209f6c3] Stopping daemon
    daemon.go:284: [d6ba76209f6c3] exiting daemon
    daemon.go:432: [d6ba76209f6c3] Daemon stopped
=== RUN   TestServiceUpdateNetwork
--- PASS: TestServiceUpdateNetwork (12.40s)
    update_test.go:201: Creating a new daemon
    daemon.go:317: [d3805eca769f7] waiting for daemon to start
    daemon.go:335: [d3805eca769f7] daemon started
    daemon.go:445: [d3805eca769f7] Stopping daemon
    daemon.go:284: [d3805eca769f7] exiting daemon
    daemon.go:432: [d3805eca769f7] Daemon stopped
FAIL
---> Making bundle: .integration-daemon-stop (in bundles/test-integration)
Clearing AppArmor profiles cache:.
All profile caches have been cleared, but no profiles have been unloaded.
Unloading profiles will leave already running processes permanently
unconfined, which can lead to unexpected situations.

To set a process to complain mode, use the command line tool
'aa-complain'. To really tear down all profiles, run the init script
with the 'teardown' option."
Removing test suite binaries
Build step 'Execute shell' marked build as failure
Set build name.
New build name is '#39259'
[PostBuildScript] - Executing post build scripts.
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins6840203537893925252.sh
+ echo Ensuring container killed.
Ensuring container killed.
+ docker rm -vf docker-pr54312
Error: No such container: docker-pr54312
+ true
+ echo Chowning /workspace to jenkins user
Chowning /workspace to jenkins user
+ id -u
+ id -g
+ docker run --rm -v /home/ubuntu/workspace/Docker-PRs:/workspace busybox chown -R 1000:1000 /workspace
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins6653103441859652965.sh
+ echo Creating bundles.tar.gz
Creating bundles.tar.gz
+ find bundles -name *.log -o -name *.prof -o -name integration.test
+ xargs tar -czf bundles.tar.gz
Archiving artifacts
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[WS-CLEANUP] Deleting project workspace...[WS-CLEANUP] done
Finished: FAILURE
