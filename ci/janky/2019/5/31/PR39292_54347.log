Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on ubuntu-1604-overlay2 (i-0b4612c5e8226f428) (x86_64 ubuntu overlay2 linux ubuntu-1604 ubuntu-1604-overlay2 ubuntu-1604-overlay2-stable amd64) in workspace /home/ubuntu/workspace/Docker-PRs
No credentials specified
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init /home/ubuntu/workspace/Docker-PRs # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse origin/master^{commit} # timeout=10
Checking out Revision 8d760280a232f98d92440539e1e8a8f66c213bdb (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 8d760280a232f98d92440539e1e8a8f66c213bdb
Commit message: "Merge pull request #39275 from wiktor-k/move-var-run-to-run"
 > git rev-list --no-walk 8d760280a232f98d92440539e1e8a8f66c213bdb # timeout=10
Set build name.
New build name is '#39292'
[Docker-PRs] $ /bin/bash /tmp/jenkins4483332309524131455.sh
From https://github.com/moby/moby
 * [new ref]         refs/pull/39292/head -> origin/pr/39292
Updating 8d76028..2d377c6
Fast-forward
 daemon/archive.go                    |  15 ++---
 daemon/export.go                     |   2 +-
 pkg/chrootarchive/archive.go         |  32 ++++++++--
 pkg/chrootarchive/archive_unix.go    | 119 +++++++++++++++++++++++++++++++++--
 pkg/chrootarchive/archive_windows.go |   9 ++-
 pkg/chrootarchive/init_unix.go       |   1 +
 6 files changed, 161 insertions(+), 17 deletions(-)
Sending build context to Docker daemon     48MB
Step 1/112 : ARG CROSS="false"
Step 2/112 : FROM golang:1.12.5 AS base
 ---> 7ced090ee82e
Step 3/112 : ARG APT_MIRROR=deb.debian.org
 ---> Using cache
 ---> 150bea384a91
Step 4/112 : RUN sed -ri "s/(httpredir|deb).debian.org/$APT_MIRROR/g" /etc/apt/sources.list
 ---> Using cache
 ---> 69a7708e601c
Step 5/112 : FROM base AS criu
 ---> 69a7708e601c
Step 6/112 : ENV CRIU_VERSION 3.11
 ---> Using cache
 ---> a7936319c6cd
Step 7/112 : RUN apt-get update && apt-get install -y 	libnet-dev 	libprotobuf-c0-dev 	libprotobuf-dev 	libnl-3-dev 	libcap-dev 	protobuf-compiler 	protobuf-c-compiler 	python-protobuf 	&& mkdir -p /usr/src/criu 	&& curl -sSL https://github.com/checkpoint-restore/criu/archive/v${CRIU_VERSION}.tar.gz | tar -C /usr/src/criu/ -xz --strip-components=1 	&& cd /usr/src/criu 	&& make 	&& make PREFIX=/build/ install-criu
 ---> Using cache
 ---> c4a06166281a
Step 8/112 : FROM base AS registry
 ---> 69a7708e601c
Step 9/112 : ENV REGISTRY_COMMIT 47a064d4195a9b56133891bbb13620c3ac83a827
 ---> Using cache
 ---> 063e2c49ef60
Step 10/112 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/docker/distribution.git "$GOPATH/src/github.com/docker/distribution" 	&& (cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT") 	&& GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH" 		go build -buildmode=pie -o /build/registry-v2 github.com/docker/distribution/cmd/registry 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> f5b5518214e5
Step 11/112 : FROM base AS docker-py
 ---> 69a7708e601c
Step 12/112 : ENV DOCKER_PY_COMMIT ac922192959870774ad8428344d9faa0555f7ba6
 ---> Using cache
 ---> fac9e080599c
Step 13/112 : RUN git clone https://github.com/docker/docker-py.git /build 	&& cd /build 	&& git checkout -q $DOCKER_PY_COMMIT
 ---> Using cache
 ---> cb533a33ff9e
Step 14/112 : FROM base AS swagger
 ---> 69a7708e601c
Step 15/112 : ENV GO_SWAGGER_COMMIT c28258affb0b6251755d92489ef685af8d4ff3eb
 ---> Using cache
 ---> befaf52c42a3
Step 16/112 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/go-swagger/go-swagger.git "$GOPATH/src/github.com/go-swagger/go-swagger" 	&& (cd "$GOPATH/src/github.com/go-swagger/go-swagger" && git checkout -q "$GO_SWAGGER_COMMIT") 	&& go build -o /build/swagger github.com/go-swagger/go-swagger/cmd/swagger 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> d90b04756c2b
Step 17/112 : FROM base AS frozen-images
 ---> 69a7708e601c
Step 18/112 : RUN apt-get update && apt-get install -y jq ca-certificates --no-install-recommends
 ---> Using cache
 ---> 7d1a8b34a85b
Step 19/112 : COPY contrib/download-frozen-image-v2.sh /
 ---> Using cache
 ---> 61d13ca32404
Step 20/112 : RUN /download-frozen-image-v2.sh /build 	buildpack-deps:jessie@sha256:dd86dced7c9cd2a724e779730f0a53f93b7ef42228d4344b25ce9a42a1486251 	busybox:latest@sha256:bbc3a03235220b170ba48a157dd097dd1379299370e1ed99ce976df0355d24f0 	busybox:glibc@sha256:0b55a30394294ab23b9afd58fab94e61a923f5834fba7ddbae7f8e0c11ba85e6 	debian:jessie@sha256:287a20c5f73087ab406e6b364833e3fb7b3ae63ca0eb3486555dc27ed32c6e60 	hello-world:latest@sha256:be0cd392e45be79ffeffa6b05338b98ebb16c87b255f48e297ec7f98e123905c
 ---> Using cache
 ---> 5a1ae89dae66
Step 21/112 : FROM base AS cross-false
 ---> 69a7708e601c
Step 22/112 : FROM base AS cross-true
 ---> 69a7708e601c
Step 23/112 : RUN dpkg --add-architecture armhf
 ---> Using cache
 ---> bb0a62c90a4e
Step 24/112 : RUN dpkg --add-architecture arm64
 ---> Using cache
 ---> 993953669b2d
Step 25/112 : RUN dpkg --add-architecture armel
 ---> Using cache
 ---> b5c9a5b8c5a0
Step 26/112 : RUN if [ "$(go env GOHOSTARCH)" = "amd64" ]; then 	apt-get update 	&& apt-get install -y --no-install-recommends 		crossbuild-essential-armhf 		crossbuild-essential-arm64 		crossbuild-essential-armel; 	fi
 ---> Using cache
 ---> f3776d4ab65c
Step 27/112 : FROM cross-${CROSS} as dev-base
 ---> 69a7708e601c
Step 28/112 : FROM dev-base AS runtime-dev-cross-false
 ---> 69a7708e601c
Step 29/112 : RUN apt-get update && apt-get install -y 	libapparmor-dev 	libseccomp-dev
 ---> Using cache
 ---> 84c7f7e7b766
Step 30/112 : FROM cross-true AS runtime-dev-cross-true
 ---> f3776d4ab65c
Step 31/112 : RUN if [ "$(go env GOHOSTARCH)" = "amd64" ]; then 	apt-get update 	&& apt-get install -y 		libseccomp-dev:armhf 		libseccomp-dev:arm64 		libseccomp-dev:armel 		libapparmor-dev:armhf 		libapparmor-dev:arm64 		libapparmor-dev:armel 		libapparmor-dev 		libseccomp-dev; 	fi
 ---> Using cache
 ---> ae5e55f6b77b
Step 32/112 : FROM runtime-dev-cross-${CROSS} AS runtime-dev
 ---> 84c7f7e7b766
Step 33/112 : FROM base AS tomlv
 ---> 69a7708e601c
Step 34/112 : ENV INSTALL_BINARY_NAME=tomlv
 ---> Using cache
 ---> c0dc1d1201c4
Step 35/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> ba933d0f477d
Step 36/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> d07a6168d9c3
Step 37/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> ea309d941a31
Step 38/112 : FROM base AS vndr
 ---> 69a7708e601c
Step 39/112 : ENV INSTALL_BINARY_NAME=vndr
 ---> Using cache
 ---> fd14b85b1343
Step 40/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> d5124f590056
Step 41/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 86135b4d80d2
Step 42/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> a148fe4ccc33
Step 43/112 : FROM dev-base AS containerd
 ---> 69a7708e601c
Step 44/112 : RUN apt-get update && apt-get install -y btrfs-tools
 ---> Using cache
 ---> e36c66459378
Step 45/112 : ENV INSTALL_BINARY_NAME=containerd
 ---> Using cache
 ---> ecd12323fca2
Step 46/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 779669dc72e0
Step 47/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 08288761468c
Step 48/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> b0a47152caa4
Step 49/112 : FROM dev-base AS proxy
 ---> 69a7708e601c
Step 50/112 : ENV INSTALL_BINARY_NAME=proxy
 ---> Using cache
 ---> 4695c42c8242
Step 51/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> cdf276344c67
Step 52/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> ea34c0df53d1
Step 53/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> ffc787f9aee3
Step 54/112 : FROM base AS gometalinter
 ---> 69a7708e601c
Step 55/112 : ENV INSTALL_BINARY_NAME=gometalinter
 ---> Using cache
 ---> 6bad08eb9b0d
Step 56/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 5ede3a8870b4
Step 57/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 9e486ede241a
Step 58/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 31ea20a8871f
Step 59/112 : FROM dev-base AS dockercli
 ---> 69a7708e601c
Step 60/112 : ENV INSTALL_BINARY_NAME=dockercli
 ---> Using cache
 ---> f7ab0da33585
Step 61/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 7397abf4ae44
Step 62/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 25bcb404da70
Step 63/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> bb0b696319a7
Step 64/112 : FROM runtime-dev AS runc
 ---> 84c7f7e7b766
Step 65/112 : ENV INSTALL_BINARY_NAME=runc
 ---> Using cache
 ---> 1c5f60da21a9
Step 66/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 77e9d7b877b1
Step 67/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> b81365dee1e5
Step 68/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 5ab2b446bab7
Step 69/112 : FROM dev-base AS tini
 ---> 69a7708e601c
Step 70/112 : RUN apt-get update && apt-get install -y cmake vim-common
 ---> Using cache
 ---> e5f62e921f46
Step 71/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> df151cc3fd41
Step 72/112 : ENV INSTALL_BINARY_NAME=tini
 ---> Using cache
 ---> 1842592a59da
Step 73/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 2dc46647d1ff
Step 74/112 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> e7d979068923
Step 75/112 : FROM dev-base AS rootlesskit
 ---> 69a7708e601c
Step 76/112 : ENV INSTALL_BINARY_NAME=rootlesskit
 ---> Using cache
 ---> a80aae22947e
Step 77/112 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> d1a9f1fd02e7
Step 78/112 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 833d48ec5d7c
Step 79/112 : RUN PREFIX=/build/ ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 657010b3d5e7
Step 80/112 : COPY ./contrib/dockerd-rootless.sh /build
 ---> Using cache
 ---> 15a4a443efe6
Step 81/112 : FROM runtime-dev AS dev
 ---> 84c7f7e7b766
Step 82/112 : RUN groupadd -r docker
 ---> Using cache
 ---> 0afdbdff74b7
Step 83/112 : RUN useradd --create-home --gid docker unprivilegeduser
 ---> Using cache
 ---> dc730604a1fd
Step 84/112 : RUN ln -sfv /go/src/github.com/docker/docker/.bashrc ~/.bashrc
 ---> Using cache
 ---> 21af0c60e5ed
Step 85/112 : RUN echo "source /usr/share/bash-completion/bash_completion" >> /etc/bash.bashrc
 ---> Using cache
 ---> 8e94ed06b748
Step 86/112 : RUN ln -s /usr/local/completion/bash/docker /etc/bash_completion.d/docker
 ---> Using cache
 ---> be3ef3c3abca
Step 87/112 : RUN ldconfig
 ---> Using cache
 ---> 7c9787cd8c94
Step 88/112 : RUN apt-get update && apt-get install -y 	apparmor 	aufs-tools 	bash-completion 	btrfs-tools 	iptables 	jq 	libcap2-bin 	libdevmapper-dev 	libffi-dev 	libssl-dev 	libudev-dev 	libsystemd-dev 	binutils-mingw-w64 	g++-mingw-w64-x86-64 	net-tools 	pigz 	python-backports.ssl-match-hostname 	python-dev 	python-cffi 	python-mock 	python-pip 	python-requests 	python-setuptools 	python-websocket 	python-wheel 	thin-provisioning-tools 	vim 	vim-common 	xfsprogs 	zip 	bzip2 	xz-utils 	libprotobuf-c1 	libnet1 	libnl-3-200 	--no-install-recommends
 ---> Using cache
 ---> 8e70ad2c2ad0
Step 89/112 : COPY --from=swagger /build/swagger* /usr/local/bin/
 ---> Using cache
 ---> 1ece7a6d99b5
Step 90/112 : COPY --from=frozen-images /build/ /docker-frozen-images
 ---> Using cache
 ---> eec410fbae3e
Step 91/112 : COPY --from=gometalinter /build/ /usr/local/bin/
 ---> Using cache
 ---> 379157c5db78
Step 92/112 : COPY --from=tomlv /build/ /usr/local/bin/
 ---> Using cache
 ---> 65d79d1398db
Step 93/112 : COPY --from=vndr /build/ /usr/local/bin/
 ---> Using cache
 ---> 137829469aa7
Step 94/112 : COPY --from=tini /build/ /usr/local/bin/
 ---> Using cache
 ---> b8fc206482a4
Step 95/112 : COPY --from=runc /build/ /usr/local/bin/
 ---> Using cache
 ---> 6d341858b7f8
Step 96/112 : COPY --from=containerd /build/ /usr/local/bin/
 ---> Using cache
 ---> b539770d08ec
Step 97/112 : COPY --from=proxy /build/ /usr/local/bin/
 ---> Using cache
 ---> 4e07005f3504
Step 98/112 : COPY --from=dockercli /build/ /usr/local/cli
 ---> Using cache
 ---> 1a41bbcdd74e
Step 99/112 : COPY --from=registry /build/registry* /usr/local/bin/
 ---> Using cache
 ---> 79e0d7946ef1
Step 100/112 : COPY --from=criu /build/ /usr/local/
 ---> Using cache
 ---> dfcca5072f11
Step 101/112 : COPY --from=docker-py /build/ /docker-py
 ---> Using cache
 ---> 4da668a78b2f
Step 102/112 : RUN cd /docker-py 	&& pip install docker-pycreds==0.4.0 	&& pip install paramiko==2.4.2 	&& pip install yamllint==1.5.0 	&& pip install -r test-requirements.txt
 ---> Using cache
 ---> d0bf19dcdcd4
Step 103/112 : COPY --from=rootlesskit /build/ /usr/local/bin/
 ---> Using cache
 ---> 51983d8f8958
Step 104/112 : COPY --from=djs55/vpnkit@sha256:e508a17cfacc8fd39261d5b4e397df2b953690da577e2c987a47630cd0c42f8e /vpnkit /usr/local/bin/vpnkit.x86_64
 ---> Using cache
 ---> 4390110faefc
Step 105/112 : ENV PATH=/usr/local/cli:$PATH
 ---> Using cache
 ---> a77d65615c11
Step 106/112 : ENV DOCKER_BUILDTAGS apparmor seccomp selinux
 ---> Using cache
 ---> a75e10c9c4c9
Step 107/112 : ENV GOMETALINTER_OPTS="--deadline=2m"
 ---> Using cache
 ---> 7b174ae4fc4e
Step 108/112 : WORKDIR /go/src/github.com/docker/docker
 ---> Using cache
 ---> 7423ef4fa54e
Step 109/112 : VOLUME /var/lib/docker
 ---> Using cache
 ---> e6b8d516ad8a
Step 110/112 : ENTRYPOINT ["hack/dind"]
 ---> Using cache
 ---> 82e0db9087e9
Step 111/112 : FROM dev AS final
 ---> 82e0db9087e9
Step 112/112 : COPY . /go/src/github.com/docker/docker
 ---> 8a3b47ccd295
Successfully built 8a3b47ccd295
Successfully tagged docker:2d377c6
Congratulations!  All commits are properly signed with the DCO!
Congratulations!  "./pkg/..." is safely isolated from internal code.
No api/types/ or api/swagger.yaml changes in diff.
Congratulations!  No testing.T found.
Congratulations!  All toml source files changed here have valid syntax.
Congratulations!  Changelog CHANGELOG.md is well-formed.
Congratulations!  Changelog CHANGELOG.md dates are in descending order.
Congratulations!  No new tests added to integration-cli.
?   	github.com/docker/docker/api	[no test files]
ok  	github.com/docker/docker/api/server	0.003s	coverage: 7.9% of statements
?   	github.com/docker/docker/api/server/backend/build	[no test files]
ok  	github.com/docker/docker/api/server/httputils	0.003s	coverage: 14.7% of statements
ok  	github.com/docker/docker/api/server/middleware	0.003s	coverage: 43.4% of statements
?   	github.com/docker/docker/api/server/router	[no test files]
?   	github.com/docker/docker/api/server/router/build	[no test files]
?   	github.com/docker/docker/api/server/router/checkpoint	[no test files]
?   	github.com/docker/docker/api/server/router/container	[no test files]
?   	github.com/docker/docker/api/server/router/debug	[no test files]
?   	github.com/docker/docker/api/server/router/distribution	[no test files]
?   	github.com/docker/docker/api/server/router/grpc	[no test files]
?   	github.com/docker/docker/api/server/router/image	[no test files]
?   	github.com/docker/docker/api/server/router/network	[no test files]
?   	github.com/docker/docker/api/server/router/plugin	[no test files]
?   	github.com/docker/docker/api/server/router/session	[no test files]
ok  	github.com/docker/docker/api/server/router/swarm	0.003s	coverage: 3.1% of statements
?   	github.com/docker/docker/api/server/router/system	[no test files]
?   	github.com/docker/docker/api/server/router/volume	[no test files]
?   	github.com/docker/docker/api/types	[no test files]
?   	github.com/docker/docker/api/types/backend	[no test files]
?   	github.com/docker/docker/api/types/blkiodev	[no test files]
?   	github.com/docker/docker/api/types/container	[no test files]
?   	github.com/docker/docker/api/types/events	[no test files]
ok  	github.com/docker/docker/api/types/filters	0.003s	coverage: 95.2% of statements
?   	github.com/docker/docker/api/types/image	[no test files]
?   	github.com/docker/docker/api/types/mount	[no test files]
?   	github.com/docker/docker/api/types/network	[no test files]
?   	github.com/docker/docker/api/types/plugins/logdriver	[no test files]
?   	github.com/docker/docker/api/types/registry	[no test files]
ok  	github.com/docker/docker/api/types/strslice	0.002s	coverage: 90.0% of statements
?   	github.com/docker/docker/api/types/swarm	[no test files]
?   	github.com/docker/docker/api/types/swarm/runtime	[no test files]
ok  	github.com/docker/docker/api/types/time	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/api/types/versions	0.002s	coverage: 75.0% of statements
?   	github.com/docker/docker/api/types/versions/v1p19	[no test files]
?   	github.com/docker/docker/api/types/versions/v1p20	[no test files]
?   	github.com/docker/docker/api/types/volume	[no test files]
?   	github.com/docker/docker/builder	[no test files]
?   	github.com/docker/docker/builder/builder-next	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/containerimage	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/localinlinecache	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/snapshot	[no test files]
?   	github.com/docker/docker/builder/builder-next/exporter	[no test files]
?   	github.com/docker/docker/builder/builder-next/imagerefchecker	[no test files]
?   	github.com/docker/docker/builder/builder-next/worker	[no test files]
ok  	github.com/docker/docker/builder/dockerfile	0.397s	coverage: 45.1% of statements
ok  	github.com/docker/docker/builder/dockerignore	0.002s	coverage: 96.8% of statements
ok  	github.com/docker/docker/builder/fscache	0.109s	coverage: 69.2% of statements
ok  	github.com/docker/docker/builder/remotecontext	0.174s	coverage: 13.6% of statements
ok  	github.com/docker/docker/builder/remotecontext/git	0.554s	coverage: 85.1% of statements
?   	github.com/docker/docker/cli	[no test files]
?   	github.com/docker/docker/cli/config	[no test files]
ok  	github.com/docker/docker/cli/debug	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/client	0.075s	coverage: 75.8% of statements
ok  	github.com/docker/docker/cmd/dockerd	0.032s	coverage: 29.0% of statements
ok  	github.com/docker/docker/cmd/dockerd/hack	0.002s	coverage: 72.9% of statements
ok  	github.com/docker/docker/container	0.111s	coverage: 35.6% of statements
?   	github.com/docker/docker/container/stream	[no test files]
?   	github.com/docker/docker/contrib/apparmor	[no test files]
?   	github.com/docker/docker/contrib/docker-device-tool	[no test files]
?   	github.com/docker/docker/contrib/httpserver	[no test files]
ok  	github.com/docker/docker/daemon	12.135s	coverage: 17.4% of statements
ok  	github.com/docker/docker/daemon/cluster	0.026s	coverage: 0.5% of statements
ok  	github.com/docker/docker/daemon/cluster/controllers/plugin	0.007s	coverage: 65.3% of statements
ok  	github.com/docker/docker/daemon/cluster/convert	0.007s	coverage: 35.8% of statements
?   	github.com/docker/docker/daemon/cluster/executor	[no test files]
ok  	github.com/docker/docker/daemon/cluster/executor/container	3.425s	coverage: 13.6% of statements
?   	github.com/docker/docker/daemon/cluster/provider	[no test files]
ok  	github.com/docker/docker/daemon/config	0.021s	coverage: 84.2% of statements
ok  	github.com/docker/docker/daemon/discovery	0.003s	coverage: 30.4% of statements
ok  	github.com/docker/docker/daemon/events	0.055s	coverage: 50.0% of statements
?   	github.com/docker/docker/daemon/events/testutils	[no test files]
?   	github.com/docker/docker/daemon/exec	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver	0.004s	coverage: 2.2% of statements
ok  	github.com/docker/docker/daemon/graphdriver/aufs	3.843s	coverage: 72.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/btrfs	0.004s	coverage: 2.9% of statements
ok  	github.com/docker/docker/daemon/graphdriver/copy	0.171s	coverage: 57.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/devmapper	2.249s	coverage: 46.1% of statements
?   	github.com/docker/docker/daemon/graphdriver/graphtest	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/overlay	0.700s	coverage: 50.8% of statements
ok  	github.com/docker/docker/daemon/graphdriver/overlay2	1.911s	coverage: 56.8% of statements
?   	github.com/docker/docker/daemon/graphdriver/overlayutils	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/quota	0.255s	coverage: 75.2% of statements
?   	github.com/docker/docker/daemon/graphdriver/register	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/vfs	0.005s	coverage: 58.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/zfs	0.004s	coverage: 3.0% of statements
ok  	github.com/docker/docker/daemon/images	0.008s	coverage: 4.9% of statements
?   	github.com/docker/docker/daemon/initlayer	[no test files]
ok  	github.com/docker/docker/daemon/links	0.002s	coverage: 93.0% of statements
?   	github.com/docker/docker/daemon/listeners	[no test files]
ok  	github.com/docker/docker/daemon/logger	0.211s	coverage: 42.7% of statements
ok  	github.com/docker/docker/daemon/logger/awslogs	0.093s	coverage: 78.2% of statements
?   	github.com/docker/docker/daemon/logger/fluentd	[no test files]
?   	github.com/docker/docker/daemon/logger/gcplogs	[no test files]
ok  	github.com/docker/docker/daemon/logger/gelf	0.004s	coverage: 68.2% of statements
ok  	github.com/docker/docker/daemon/logger/journald	0.003s	coverage: 26.2% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog	0.005s	coverage: 62.1% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog/jsonlog	0.003s	coverage: 88.3% of statements
ok  	github.com/docker/docker/daemon/logger/local	0.009s	coverage: 74.7% of statements
?   	github.com/docker/docker/daemon/logger/logentries	[no test files]
ok  	github.com/docker/docker/daemon/logger/loggerutils	0.010s	coverage: 18.6% of statements
ok  	github.com/docker/docker/daemon/logger/splunk	1.395s	coverage: 84.5% of statements
ok  	github.com/docker/docker/daemon/logger/syslog	0.003s	coverage: 47.8% of statements
ok  	github.com/docker/docker/daemon/logger/templates	0.002s	coverage: 8.3% of statements
?   	github.com/docker/docker/daemon/names	[no test files]
ok  	github.com/docker/docker/daemon/network	0.003s	coverage: 63.8% of statements
?   	github.com/docker/docker/daemon/stats	[no test files]
ok  	github.com/docker/docker/distribution	0.969s	coverage: 17.0% of statements
ok  	github.com/docker/docker/distribution/metadata	0.021s	coverage: 48.2% of statements
?   	github.com/docker/docker/distribution/utils	[no test files]
ok  	github.com/docker/docker/distribution/xfer	1.419s	coverage: 83.9% of statements
?   	github.com/docker/docker/dockerversion	[no test files]
ok  	github.com/docker/docker/errdefs	0.004s	coverage: 51.6% of statements
ok  	github.com/docker/docker/image	0.014s	coverage: 86.4% of statements
ok  	github.com/docker/docker/image/cache	0.005s	coverage: 19.2% of statements
?   	github.com/docker/docker/image/tarexport	[no test files]
ok  	github.com/docker/docker/image/v1	0.005s	coverage: 25.0% of statements
ok  	github.com/docker/docker/internal/procfs	0.003s	coverage: 78.4% of statements
?   	github.com/docker/docker/internal/test	[no test files]
?   	github.com/docker/docker/internal/test/daemon	[no test files]
?   	github.com/docker/docker/internal/test/environment	[no test files]
?   	github.com/docker/docker/internal/test/fakecontext	[no test files]
?   	github.com/docker/docker/internal/test/fakegit	[no test files]
?   	github.com/docker/docker/internal/test/fakestorage	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/load	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin/basic	[no test files]
?   	github.com/docker/docker/internal/test/registry	[no test files]
?   	github.com/docker/docker/internal/test/request	[no test files]
ok  	github.com/docker/docker/internal/testutil	0.002s	coverage: 62.5% of statements
ok  	github.com/docker/docker/layer	7.174s	coverage: 72.1% of statements
?   	github.com/docker/docker/libcontainerd	[no test files]
ok  	github.com/docker/docker/libcontainerd/queue	0.022s	coverage: 100.0% of statements
?   	github.com/docker/docker/libcontainerd/remote	[no test files]
?   	github.com/docker/docker/libcontainerd/supervisor	[no test files]
?   	github.com/docker/docker/libcontainerd/types	[no test files]
?   	github.com/docker/docker/oci	[no test files]
?   	github.com/docker/docker/oci/caps	[no test files]
ok  	github.com/docker/docker/opts	0.014s	coverage: 67.3% of statements
ok  	github.com/docker/docker/pkg/aaparser	0.002s	coverage: 50.0% of statements
ok  	github.com/docker/docker/pkg/archive	0.530s	coverage: 77.2% of statements
ok  	github.com/docker/docker/pkg/authorization	0.125s	coverage: 66.7% of statements
ok  	github.com/docker/docker/pkg/broadcaster	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/capabilities	0.002s	coverage: 87.5% of statements
ok  	github.com/docker/docker/pkg/chrootarchive	2.711s	coverage: 29.8% of statements
?   	github.com/docker/docker/pkg/containerfs	[no test files]
?   	github.com/docker/docker/pkg/devicemapper	[no test files]
ok  	github.com/docker/docker/pkg/directory	0.002s	coverage: 80.0% of statements
ok  	github.com/docker/docker/pkg/discovery	0.003s	coverage: 58.3% of statements
ok  	github.com/docker/docker/pkg/discovery/file	0.003s	coverage: 97.6% of statements
ok  	github.com/docker/docker/pkg/discovery/kv	3.048s	coverage: 84.1% of statements
ok  	github.com/docker/docker/pkg/discovery/memory	0.002s	coverage: 92.3% of statements
ok  	github.com/docker/docker/pkg/discovery/nodes	0.002s	coverage: 93.8% of statements
ok  	github.com/docker/docker/pkg/dmesg	0.003s	coverage: 83.3% of statements
ok  	github.com/docker/docker/pkg/filenotify	0.602s	coverage: 66.3% of statements
ok  	github.com/docker/docker/pkg/fileutils	0.004s	coverage: 89.5% of statements
ok  	github.com/docker/docker/pkg/fsutils	0.163s	coverage: 85.1% of statements
ok  	github.com/docker/docker/pkg/homedir	0.002s	coverage: 10.2% of statements
ok  	github.com/docker/docker/pkg/idtools	0.492s	coverage: 70.2% of statements
ok  	github.com/docker/docker/pkg/ioutils	0.344s	coverage: 69.1% of statements
ok  	github.com/docker/docker/pkg/jsonmessage	0.003s	coverage: 91.7% of statements
ok  	github.com/docker/docker/pkg/locker	0.010s	coverage: 88.9% of statements
ok  	github.com/docker/docker/pkg/longpath	0.002s	coverage: 100.0% of statements
?   	github.com/docker/docker/pkg/loopback	[no test files]
ok  	github.com/docker/docker/pkg/mount	0.407s	coverage: 69.6% of statements
ok  	github.com/docker/docker/pkg/namesgenerator	0.002s	coverage: 85.7% of statements
?   	github.com/docker/docker/pkg/namesgenerator/cmd/names-generator	[no test files]
ok  	github.com/docker/docker/pkg/parsers	0.002s	coverage: 97.0% of statements
ok  	github.com/docker/docker/pkg/parsers/kernel	0.002s	coverage: 60.0% of statements
ok  	github.com/docker/docker/pkg/parsers/operatingsystem	0.002s	coverage: 90.0% of statements
ok  	github.com/docker/docker/pkg/pidfile	0.002s	coverage: 82.4% of statements
?   	github.com/docker/docker/pkg/platform	[no test files]
?   	github.com/docker/docker/pkg/plugingetter	[no test files]
ok  	github.com/docker/docker/pkg/plugins	33.613s	coverage: 76.8% of statements
ok  	github.com/docker/docker/pkg/plugins/pluginrpc-gen	0.006s	coverage: 56.8% of statements
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures	[no test files]
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures/otherfixture	[no test files]
ok  	github.com/docker/docker/pkg/plugins/transport	0.002s	coverage: 85.7% of statements
ok  	github.com/docker/docker/pkg/pools	0.002s	coverage: 87.9% of statements
ok  	github.com/docker/docker/pkg/progress	0.002s	coverage: 75.9% of statements
ok  	github.com/docker/docker/pkg/pubsub	1.026s	coverage: 72.7% of statements
ok  	github.com/docker/docker/pkg/reexec	0.007s	coverage: 82.4% of statements
ok  	github.com/docker/docker/pkg/signal	2.729s	coverage: 61.0% of statements
?   	github.com/docker/docker/pkg/signal/testfiles	[no test files]
ok  	github.com/docker/docker/pkg/stdcopy	0.003s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/streamformatter	0.003s	coverage: 66.2% of statements
ok  	github.com/docker/docker/pkg/stringid	0.002s	coverage: 76.0% of statements
ok  	github.com/docker/docker/pkg/symlink	0.005s	coverage: 87.7% of statements
ok  	github.com/docker/docker/pkg/sysinfo	0.004s	coverage: 81.8% of statements
ok  	github.com/docker/docker/pkg/system	0.012s	coverage: 35.8% of statements
ok  	github.com/docker/docker/pkg/tailfile	0.014s	coverage: 88.6% of statements
ok  	github.com/docker/docker/pkg/tarsum	0.037s	coverage: 89.3% of statements
ok  	github.com/docker/docker/pkg/term	0.003s	coverage: 84.8% of statements
ok  	github.com/docker/docker/pkg/term/windows	0.002s	coverage: 0.0% of statements [no tests to run]
ok  	github.com/docker/docker/pkg/truncindex	0.102s	coverage: 91.5% of statements
ok  	github.com/docker/docker/pkg/urlutil	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/useragent	0.002s	coverage: 88.9% of statements
ok  	github.com/docker/docker/plugin	0.530s	coverage: 27.3% of statements
?   	github.com/docker/docker/plugin/executor/containerd	[no test files]
ok  	github.com/docker/docker/plugin/v2	0.003s	coverage: 14.5% of statements
?   	github.com/docker/docker/profiles/apparmor	[no test files]
ok  	github.com/docker/docker/profiles/seccomp	0.004s	coverage: 75.3% of statements
ok  	github.com/docker/docker/reference	0.005s	coverage: 84.4% of statements
ok  	github.com/docker/docker/registry	0.080s	coverage: 56.9% of statements
ok  	github.com/docker/docker/registry/resumable	0.015s	coverage: 100.0% of statements
ok  	github.com/docker/docker/restartmanager	0.002s	coverage: 49.0% of statements
?   	github.com/docker/docker/rootless	[no test files]
?   	github.com/docker/docker/rootless/specconv	[no test files]
ok  	github.com/docker/docker/runconfig	0.006s	coverage: 68.2% of statements
?   	github.com/docker/docker/runconfig/opts	[no test files]
?   	github.com/docker/docker/volume	[no test files]
ok  	github.com/docker/docker/volume/drivers	0.004s	coverage: 36.1% of statements
ok  	github.com/docker/docker/volume/local	0.015s	coverage: 73.0% of statements
ok  	github.com/docker/docker/volume/mounts	0.015s	coverage: 67.0% of statements
ok  	github.com/docker/docker/volume/service	0.011s	coverage: 73.0% of statements
?   	github.com/docker/docker/volume/service/opts	[no test files]
?   	github.com/docker/docker/volume/testutils	[no test files]

  _____          _
 / ____|        | |
| |     ___   __| | ___  ___ _____   __
| |    / _ \ / _` |/ _ \/ __/ _ \ \ / /
| |___| (_) | (_| |  __/ (_| (_) \ V /
 \_____\___/ \__,_|\___|\___\___/ \_/
                              Bash-8a28df4


[0;31mx>[0m No CI provider detected.
    Testing inside Docker? [0;36mhttp://docs.codecov.io/docs/testing-with-docker[0m
    Testing with Tox? [0;36mhttps://docs.codecov.io/docs/python#section-testing-with-tox[0m
    [0;90mproject root:[0m .
[0;90m-->[0m token set from env
    [0;90mYaml found at:[0m codecov.yml
    [0;90m->[0m Found 1 reports
[0;90m==>[0m Detecting git/mercurial file structure
[0;90m==>[0m Reading reports
    [0;32m+[0m coverage.txt [0;90mbytes=1689616[0m
[0;90m==>[0m Appending adjustments
    [0;36mhttp://docs.codecov.io/docs/fixing-reports[0m
    [0;32m+[0m Found adjustments
[0;90m==>[0m Gzipping contents
[0;90m==>[0m Uploading reports
    [0;90murl:[0m https://codecov.io
    [0;90mquery:[0m branch=&commit=2d377c64722101c313cedec3c7489ce9114e0387&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    [0;90m->[0m Pinging Codecov
https://codecov.io/upload/v4?package=bash-8a28df4&token=e6d53b86-8efe-4b59-adb0-c205a735b39e&branch=&commit=2d377c64722101c313cedec3c7489ce9114e0387&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    [0;90m->[0m Uploading
    [0;32m->[0m View reports at [0;36mhttps://codecov.io/github/moby/moby/commit/2d377c64722101c313cedec3c7489ce9114e0387[0m

Removing bundles/

---> Making bundle: binary-daemon (in bundles/binary-daemon)
Building: bundles/binary-daemon/dockerd-dev
GOOS="" GOARCH="" GOARM=""
Created binary: bundles/binary-daemon/dockerd-dev
Copying nested executables into bundles/binary-daemon

---> Making bundle: dynbinary (in bundles/dynbinary)
Building: bundles/dynbinary-daemon/dockerd-dev
GOOS="" GOARCH="" GOARM=""
Created binary: bundles/dynbinary-daemon/dockerd-dev

---> Making bundle: test-integration-flaky (in bundles/test-integration-flaky)
No new tests added to integration.

---> Making bundle: test-integration (in bundles/test-integration)
Building test suite binary ./integration-cli/test.main
Building test suite binary ./integration/system/test.main
Building test suite binary ./integration/secret/test.main
Building test suite binary ./integration/build/test.main
Building test suite binary ./integration/service/test.main
Building test suite binary ./integration/config/test.main
Building test suite binary ./integration/plugin/test.main
Building test suite binary ./integration/plugin/common/test.main
Building test suite binary ./integration/plugin/graphdriver/test.main
Building test suite binary ./integration/plugin/authz/test.main
Building test suite binary ./integration/plugin/volumes/test.main
Building test suite binary ./integration/plugin/volumes/cmd/test.main
Building test suite binary ./integration/plugin/volumes/cmd/dummy/test.main
Building test suite binary ./integration/plugin/logging/test.main
Building test suite binary ./integration/plugin/logging/cmd/test.main
Building test suite binary ./integration/plugin/logging/cmd/close_on_start/test.main
Building test suite binary ./integration/plugin/logging/cmd/dummy/test.main
Building test suite binary ./integration/container/test.main
Building test suite binary ./integration/image/test.main
Building test suite binary ./integration/network/test.main
Building test suite binary ./integration/network/macvlan/test.main
Building test suite binary ./integration/network/ipvlan/test.main
Building test suite binary ./integration/session/test.main
Building test suite binary ./integration/volume/test.main
---> Making bundle: .integration-daemon-start (in bundles/test-integration)
Using test binary docker
/etc/init.d/apparmor: 130: /etc/init.d/apparmor: systemd-detect-virt: not found
Starting AppArmor profiles:Warning from stdin (line 1): /sbin/apparmor_parser: cannot use or update cache, disable, or force-complain via stdin
Warning failed to create cache: (null)
.
INFO: Waiting for daemon to start...
Starting dockerd
.
---> Making bundle: .integration-daemon-setup (in bundles/test-integration)
---> Making bundle: .ensure-emptyfs (in bundles/test-integration)
Error: No such image: emptyfs
Running integration-test (iteration 1)
Running /go/src/github.com/docker/docker/integration/system
Loaded image: buildpack-deps:jessie
Loaded image: busybox:latest
Loaded image: busybox:glibc
Loaded image: debian:jessie
Loaded image: hello-world:latest
INFO: Testing against a local daemon
=== RUN   TestCgroupDriverSystemdMemoryLimit
--- SKIP: TestCgroupDriverSystemdMemoryLimit (0.00s)
    cgroupdriver_systemd_test.go:32: !hasSystemd()
=== RUN   TestEventsExecDie
--- PASS: TestEventsExecDie (0.61s)
=== RUN   TestEventsBackwardsCompatible
--- PASS: TestEventsBackwardsCompatible (0.06s)
=== RUN   TestInfoBinaryCommits
--- PASS: TestInfoBinaryCommits (0.01s)
=== RUN   TestInfoAPIVersioned
--- PASS: TestInfoAPIVersioned (0.01s)
=== RUN   TestInfoAPI
--- PASS: TestInfoAPI (0.01s)
=== RUN   TestInfoAPIWarnings
--- PASS: TestInfoAPIWarnings (0.81s)
    info_test.go:49: Creating a new daemon
    daemon.go:317: [d7f25eb71275b] waiting for daemon to start
    daemon.go:335: [d7f25eb71275b] daemon started
    daemon.go:445: [d7f25eb71275b] Stopping daemon
    daemon.go:284: [d7f25eb71275b] exiting daemon
    daemon.go:432: [d7f25eb71275b] Daemon stopped
=== RUN   TestLoginFailsWithBadCredentials
--- PASS: TestLoginFailsWithBadCredentials (1.11s)
=== RUN   TestPingCacheHeaders
--- PASS: TestPingCacheHeaders (0.01s)
=== RUN   TestPingGet
--- PASS: TestPingGet (0.01s)
=== RUN   TestPingHead
--- PASS: TestPingHead (0.01s)
=== RUN   TestUUIDGeneration
--- PASS: TestUUIDGeneration (0.01s)
=== RUN   TestVersion
--- PASS: TestVersion (0.01s)
PASS
Running /go/src/github.com/docker/docker/integration/secret
INFO: Testing against a local daemon
=== RUN   TestSecretInspect
--- PASS: TestSecretInspect (2.06s)
    secret_test.go:25: Creating a new daemon
    daemon.go:317: [db77fc5e260ee] waiting for daemon to start
    daemon.go:335: [db77fc5e260ee] daemon started
    daemon.go:445: [db77fc5e260ee] Stopping daemon
    daemon.go:284: [db77fc5e260ee] exiting daemon
    daemon.go:432: [db77fc5e260ee] Daemon stopped
=== RUN   TestSecretList
--- PASS: TestSecretList (2.17s)
    secret_test.go:48: Creating a new daemon
    daemon.go:317: [d05f3756f681e] waiting for daemon to start
    daemon.go:335: [d05f3756f681e] daemon started
    daemon.go:445: [d05f3756f681e] Stopping daemon
    daemon.go:284: [d05f3756f681e] exiting daemon
    daemon.go:432: [d05f3756f681e] Daemon stopped
=== RUN   TestSecretsCreateAndDelete
--- PASS: TestSecretsCreateAndDelete (2.08s)
    secret_test.go:125: Creating a new daemon
    daemon.go:317: [d044e2673e62b] waiting for daemon to start
    daemon.go:335: [d044e2673e62b] daemon started
    daemon.go:445: [d044e2673e62b] Stopping daemon
    daemon.go:284: [d044e2673e62b] exiting daemon
    daemon.go:432: [d044e2673e62b] Daemon stopped
=== RUN   TestSecretsUpdate
--- PASS: TestSecretsUpdate (2.04s)
    secret_test.go:172: Creating a new daemon
    daemon.go:317: [dccff850bdf84] waiting for daemon to start
    daemon.go:335: [dccff850bdf84] daemon started
    daemon.go:445: [dccff850bdf84] Stopping daemon
    daemon.go:284: [dccff850bdf84] exiting daemon
    daemon.go:432: [dccff850bdf84] Daemon stopped
=== RUN   TestTemplatedSecret
--- PASS: TestTemplatedSecret (2.28s)
    secret_test.go:221: Creating a new daemon
    daemon.go:317: [d8e143142a371] waiting for daemon to start
    daemon.go:335: [d8e143142a371] daemon started
    daemon.go:445: [d8e143142a371] Stopping daemon
    daemon.go:284: [d8e143142a371] exiting daemon
    daemon.go:432: [d8e143142a371] Daemon stopped
=== RUN   TestSecretCreateResolve
--- PASS: TestSecretCreateResolve (3.03s)
    secret_test.go:342: Creating a new daemon
    daemon.go:317: [d35637774f415] waiting for daemon to start
    daemon.go:335: [d35637774f415] daemon started
    daemon.go:445: [d35637774f415] Stopping daemon
    daemon.go:284: [d35637774f415] exiting daemon
    daemon.go:432: [d35637774f415] Daemon stopped
PASS
Running /go/src/github.com/docker/docker/integration/build
INFO: Testing against a local daemon
=== RUN   TestCgroupNamespacesBuild
--- PASS: TestCgroupNamespacesBuild (1.24s)
    build_cgroupns_linux_test.go:42: Creating a new daemon
    daemon.go:317: [d41d64fef0974] waiting for daemon to start
    daemon.go:335: [d41d64fef0974] daemon started
    daemon.go:445: [d41d64fef0974] Stopping daemon
    daemon.go:284: [d41d64fef0974] exiting daemon
    daemon.go:432: [d41d64fef0974] Daemon stopped
=== RUN   TestCgroupNamespacesBuildDaemonHostMode
--- PASS: TestCgroupNamespacesBuildDaemonHostMode (1.26s)
    build_cgroupns_linux_test.go:42: Creating a new daemon
    daemon.go:317: [d81ed15cc5b62] waiting for daemon to start
    daemon.go:335: [d81ed15cc5b62] daemon started
    daemon.go:445: [d81ed15cc5b62] Stopping daemon
    daemon.go:284: [d81ed15cc5b62] exiting daemon
    daemon.go:432: [d81ed15cc5b62] Daemon stopped
=== RUN   TestBuildWithSession
--- PASS: TestBuildWithSession (5.40s)
    build_session_test.go:31: Creating a new daemon
    daemon.go:317: [d0dd867e72c7a] waiting for daemon to start
    daemon.go:335: [d0dd867e72c7a] daemon started
    daemon.go:445: [d0dd867e72c7a] Stopping daemon
    daemon.go:284: [d0dd867e72c7a] exiting daemon
    daemon.go:432: [d0dd867e72c7a] Daemon stopped
=== RUN   TestBuildSquashParent
--- PASS: TestBuildSquashParent (9.08s)
    build_squash_test.go:29: Creating a new daemon
    daemon.go:317: [dda74d77473ad] waiting for daemon to start
    daemon.go:335: [dda74d77473ad] daemon started
    daemon.go:445: [dda74d77473ad] Stopping daemon
    daemon.go:284: [dda74d77473ad] exiting daemon
    daemon.go:432: [dda74d77473ad] Daemon stopped
=== RUN   TestBuildWithRemoveAndForceRemove
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_remove
=== RUN   TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_remove
=== RUN   TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== PAUSE TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/successful_build_with_remove
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove
=== CONT  TestBuildWithRemoveAndForceRemove/failed_build_with_remove
--- PASS: TestBuildWithRemoveAndForceRemove (0.01s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_no_removal (2.04s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_no_removal (2.06s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_remove_and_force_remove (2.62s)
    --- PASS: TestBuildWithRemoveAndForceRemove/successful_build_with_remove (2.63s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_remove_and_force_remove (2.53s)
    --- PASS: TestBuildWithRemoveAndForceRemove/failed_build_with_remove (2.57s)
=== RUN   TestBuildMultiStageParentConfig
--- PASS: TestBuildMultiStageParentConfig (4.57s)
=== RUN   TestBuildLabelWithTargets
--- PASS: TestBuildLabelWithTargets (8.00s)
=== RUN   TestBuildWithEmptyLayers
--- PASS: TestBuildWithEmptyLayers (2.99s)
=== RUN   TestBuildMultiStageOnBuild
--- PASS: TestBuildMultiStageOnBuild (5.02s)
=== RUN   TestBuildUncleanTarFilenames
--- PASS: TestBuildUncleanTarFilenames (0.81s)
=== RUN   TestBuildMultiStageLayerLeak
--- PASS: TestBuildMultiStageLayerLeak (5.19s)
=== RUN   TestBuildWithHugeFile
--- PASS: TestBuildWithHugeFile (48.21s)
=== RUN   TestBuildWithEmptyDockerfile
=== RUN   TestBuildWithEmptyDockerfile/empty-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/empty-dockerfile
=== RUN   TestBuildWithEmptyDockerfile/empty-lines-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/empty-lines-dockerfile
=== RUN   TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== PAUSE TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/empty-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/comment-only-dockerfile
=== CONT  TestBuildWithEmptyDockerfile/empty-lines-dockerfile
--- PASS: TestBuildWithEmptyDockerfile (0.30s)
    --- PASS: TestBuildWithEmptyDockerfile/comment-only-dockerfile (0.49s)
    --- PASS: TestBuildWithEmptyDockerfile/empty-dockerfile (0.50s)
    --- PASS: TestBuildWithEmptyDockerfile/empty-lines-dockerfile (0.08s)
=== RUN   TestBuildPreserveOwnership
=== RUN   TestBuildPreserveOwnership/copy_from
=== RUN   TestBuildPreserveOwnership/copy_from_chowned
--- PASS: TestBuildPreserveOwnership (10.91s)
    --- PASS: TestBuildPreserveOwnership/copy_from (6.90s)
    --- PASS: TestBuildPreserveOwnership/copy_from_chowned (4.00s)
PASS
Running /go/src/github.com/docker/docker/integration/service
INFO: Testing against a local daemon
=== RUN   TestServiceCreateInit
=== RUN   TestServiceCreateInit/daemonInitDisabled
=== RUN   TestServiceCreateInit/daemonInitEnabled
--- PASS: TestServiceCreateInit (8.73s)
    --- PASS: TestServiceCreateInit/daemonInitDisabled (4.86s)
        create_test.go:38: Creating a new daemon
        daemon.go:317: [d130eb9c459de] waiting for daemon to start
        daemon.go:335: [d130eb9c459de] daemon started
        daemon.go:445: [d130eb9c459de] Stopping daemon
        daemon.go:284: [d130eb9c459de] exiting daemon
        daemon.go:432: [d130eb9c459de] Daemon stopped
    --- PASS: TestServiceCreateInit/daemonInitEnabled (3.84s)
        create_test.go:38: Creating a new daemon
        daemon.go:317: [df4a4452e6955] waiting for daemon to start
        daemon.go:335: [df4a4452e6955] daemon started
        daemon.go:445: [df4a4452e6955] Stopping daemon
        daemon.go:284: [df4a4452e6955] exiting daemon
        daemon.go:432: [df4a4452e6955] Daemon stopped
=== RUN   TestCreateServiceMultipleTimes
--- PASS: TestCreateServiceMultipleTimes (16.31s)
    create_test.go:80: Creating a new daemon
    daemon.go:317: [d0b11a0cab6ae] waiting for daemon to start
    daemon.go:335: [d0b11a0cab6ae] daemon started
    daemon.go:445: [d0b11a0cab6ae] Stopping daemon
    daemon.go:284: [d0b11a0cab6ae] exiting daemon
    daemon.go:432: [d0b11a0cab6ae] Daemon stopped
=== RUN   TestCreateServiceConflict
--- PASS: TestCreateServiceConflict (2.08s)
    create_test.go:129: Creating a new daemon
    daemon.go:317: [db173c8e0aff3] waiting for daemon to start
    daemon.go:335: [db173c8e0aff3] daemon started
    daemon.go:445: [db173c8e0aff3] Stopping daemon
    daemon.go:284: [db173c8e0aff3] exiting daemon
    daemon.go:432: [db173c8e0aff3] Daemon stopped
=== RUN   TestCreateServiceMaxReplicas
--- PASS: TestCreateServiceMaxReplicas (3.72s)
    create_test.go:150: Creating a new daemon
    daemon.go:317: [de4b50bebe8e2] waiting for daemon to start
    daemon.go:335: [de4b50bebe8e2] daemon started
    daemon.go:445: [de4b50bebe8e2] Stopping daemon
    daemon.go:284: [de4b50bebe8e2] exiting daemon
    daemon.go:432: [de4b50bebe8e2] Daemon stopped
=== RUN   TestCreateWithDuplicateNetworkNames
--- PASS: TestCreateWithDuplicateNetworkNames (12.99s)
    create_test.go:171: Creating a new daemon
    daemon.go:317: [d86357f6ce87a] waiting for daemon to start
    daemon.go:335: [d86357f6ce87a] daemon started
    daemon.go:445: [d86357f6ce87a] Stopping daemon
    daemon.go:284: [d86357f6ce87a] exiting daemon
    daemon.go:432: [d86357f6ce87a] Daemon stopped
=== RUN   TestCreateServiceSecretFileMode
--- PASS: TestCreateServiceSecretFileMode (2.40s)
    create_test.go:224: Creating a new daemon
    daemon.go:317: [defb535a17e82] waiting for daemon to start
    daemon.go:335: [defb535a17e82] daemon started
    daemon.go:445: [defb535a17e82] Stopping daemon
    daemon.go:284: [defb535a17e82] exiting daemon
    daemon.go:432: [defb535a17e82] Daemon stopped
=== RUN   TestCreateServiceConfigFileMode
--- PASS: TestCreateServiceConfigFileMode (2.35s)
    create_test.go:288: Creating a new daemon
    daemon.go:317: [d3f188917cbe1] waiting for daemon to start
    daemon.go:335: [d3f188917cbe1] daemon started
    daemon.go:445: [d3f188917cbe1] Stopping daemon
    daemon.go:284: [d3f188917cbe1] exiting daemon
    daemon.go:432: [d3f188917cbe1] Daemon stopped
=== RUN   TestCreateServiceSysctls
--- PASS: TestCreateServiceSysctls (3.19s)
    create_test.go:378: Creating a new daemon
    daemon.go:317: [d1998c5a75691] waiting for daemon to start
    daemon.go:335: [d1998c5a75691] daemon started
    daemon.go:445: [d1998c5a75691] Stopping daemon
    daemon.go:284: [d1998c5a75691] exiting daemon
    daemon.go:432: [d1998c5a75691] Daemon stopped
=== RUN   TestInspect
--- PASS: TestInspect (1.69s)
    inspect_test.go:25: Creating a new daemon
    daemon.go:317: [d93292812a233] waiting for daemon to start
    daemon.go:335: [d93292812a233] daemon started
    daemon.go:445: [d93292812a233] Stopping daemon
    daemon.go:284: [d93292812a233] exiting daemon
    daemon.go:432: [d93292812a233] Daemon stopped
=== RUN   TestDockerNetworkConnectAlias
--- PASS: TestDockerNetworkConnectAlias (3.64s)
    network_test.go:20: Creating a new daemon
    daemon.go:317: [de2e5c7362a80] waiting for daemon to start
    daemon.go:335: [de2e5c7362a80] daemon started
    daemon.go:445: [de2e5c7362a80] Stopping daemon
    daemon.go:284: [de2e5c7362a80] exiting daemon
    daemon.go:432: [de2e5c7362a80] Daemon stopped
=== RUN   TestServicePlugin
--- PASS: TestServicePlugin (38.64s)
    plugin_test.go:36: Creating a new daemon
    daemon.go:317: [d58a2a2833503] waiting for daemon to start
    daemon.go:335: [d58a2a2833503] daemon started
    daemon.go:445: [d58a2a2833503] Stopping daemon
    daemon.go:284: [d58a2a2833503] exiting daemon
    daemon.go:432: [d58a2a2833503] Daemon stopped
    plugin_test.go:57: Creating a new daemon
    daemon.go:317: [d9463732c4e1f] waiting for daemon to start
    daemon.go:335: [d9463732c4e1f] daemon started
    plugin_test.go:59: Creating a new daemon
    daemon.go:317: [d20b8723d54b9] waiting for daemon to start
    daemon.go:335: [d20b8723d54b9] daemon started
    plugin_test.go:62: Creating a new daemon
    daemon.go:317: [dd771257dce16] waiting for daemon to start
    daemon.go:335: [dd771257dce16] daemon started
    daemon.go:445: [dd771257dce16] Stopping daemon
    daemon.go:284: [dd771257dce16] exiting daemon
    daemon.go:432: [dd771257dce16] Daemon stopped
    daemon.go:445: [d20b8723d54b9] Stopping daemon
    daemon.go:284: [d20b8723d54b9] exiting daemon
    daemon.go:432: [d20b8723d54b9] Daemon stopped
    daemon.go:445: [d9463732c4e1f] Stopping daemon
    daemon.go:284: [d9463732c4e1f] exiting daemon
    daemon.go:432: [d9463732c4e1f] Daemon stopped
=== RUN   TestServiceUpdateLabel
--- PASS: TestServiceUpdateLabel (2.19s)
    update_test.go:21: Creating a new daemon
    daemon.go:317: [dcb3bcc575a6c] waiting for daemon to start
    daemon.go:335: [dcb3bcc575a6c] daemon started
    daemon.go:445: [dcb3bcc575a6c] Stopping daemon
    daemon.go:284: [dcb3bcc575a6c] exiting daemon
    daemon.go:432: [dcb3bcc575a6c] Daemon stopped
=== RUN   TestServiceUpdateSecrets
--- PASS: TestServiceUpdateSecrets (15.00s)
    update_test.go:77: Creating a new daemon
    daemon.go:317: [d9224d2877fea] waiting for daemon to start
    daemon.go:335: [d9224d2877fea] daemon started
    daemon.go:445: [d9224d2877fea] Stopping daemon
    daemon.go:284: [d9224d2877fea] exiting daemon
    daemon.go:432: [d9224d2877fea] Daemon stopped
=== RUN   TestServiceUpdateConfigs
--- PASS: TestServiceUpdateConfigs (14.51s)
    update_test.go:139: Creating a new daemon
    daemon.go:317: [deabd2ef1d63e] waiting for daemon to start
    daemon.go:335: [deabd2ef1d63e] daemon started
    daemon.go:445: [deabd2ef1d63e] Stopping daemon
    daemon.go:284: [deabd2ef1d63e] exiting daemon
    daemon.go:432: [deabd2ef1d63e] Daemon stopped
=== RUN   TestServiceUpdateNetwork
--- PASS: TestServiceUpdateNetwork (12.32s)
    update_test.go:201: Creating a new daemon
    daemon.go:317: [da70e7d317e5a] waiting for daemon to start
    daemon.go:335: [da70e7d317e5a] daemon started
    daemon.go:445: [da70e7d317e5a] Stopping daemon
    daemon.go:284: [da70e7d317e5a] exiting daemon
    daemon.go:432: [da70e7d317e5a] Daemon stopped
PASS
Running /go/src/github.com/docker/docker/integration/config
INFO: Testing against a local daemon
=== RUN   TestConfigList
--- PASS: TestConfigList (2.12s)
    config_test.go:27: Creating a new daemon
    daemon.go:317: [d5faaae8f9676] waiting for daemon to start
    daemon.go:335: [d5faaae8f9676] daemon started
    daemon.go:445: [d5faaae8f9676] Stopping daemon
    daemon.go:284: [d5faaae8f9676] exiting daemon
    daemon.go:432: [d5faaae8f9676] Daemon stopped
=== RUN   TestConfigsCreateAndDelete
--- PASS: TestConfigsCreateAndDelete (2.18s)
    config_test.go:109: Creating a new daemon
    daemon.go:317: [d44afabe99139] waiting for daemon to start
    daemon.go:335: [d44afabe99139] daemon started
    daemon.go:445: [d44afabe99139] Stopping daemon
    daemon.go:284: [d44afabe99139] exiting daemon
    daemon.go:432: [d44afabe99139] Daemon stopped
=== RUN   TestConfigsUpdate
--- PASS: TestConfigsUpdate (2.08s)
    config_test.go:137: Creating a new daemon
    daemon.go:317: [d9b6d870bf465] waiting for daemon to start
    daemon.go:335: [d9b6d870bf465] daemon started
    daemon.go:445: [d9b6d870bf465] Stopping daemon
    daemon.go:284: [d9b6d870bf465] exiting daemon
    daemon.go:432: [d9b6d870bf465] Daemon stopped
=== RUN   TestTemplatedConfig
--- PASS: TestTemplatedConfig (2.69s)
    config_test.go:189: Creating a new daemon
    daemon.go:317: [de88fb3bf8ee8] waiting for daemon to start
    daemon.go:335: [de88fb3bf8ee8] daemon started
    daemon.go:445: [de88fb3bf8ee8] Stopping daemon
    daemon.go:284: [de88fb3bf8ee8] exiting daemon
    daemon.go:432: [de88fb3bf8ee8] Daemon stopped
=== RUN   TestConfigInspect
--- PASS: TestConfigInspect (2.10s)
    config_test.go:323: Creating a new daemon
    daemon.go:317: [d13d7313a40d9] waiting for daemon to start
    daemon.go:335: [d13d7313a40d9] daemon started
    daemon.go:445: [d13d7313a40d9] Stopping daemon
    daemon.go:284: [d13d7313a40d9] exiting daemon
    daemon.go:432: [d13d7313a40d9] Daemon stopped
=== RUN   TestConfigCreateWithLabels
--- PASS: TestConfigCreateWithLabels (2.10s)
    config_test.go:347: Creating a new daemon
    daemon.go:317: [d1e62057c3128] waiting for daemon to start
    daemon.go:335: [d1e62057c3128] daemon started
    daemon.go:445: [d1e62057c3128] Stopping daemon
    daemon.go:284: [d1e62057c3128] exiting daemon
    daemon.go:432: [d1e62057c3128] Daemon stopped
=== RUN   TestConfigCreateResolve
--- PASS: TestConfigCreateResolve (2.12s)
    config_test.go:374: Creating a new daemon
    daemon.go:317: [da6913d6bf92b] waiting for daemon to start
    daemon.go:335: [da6913d6bf92b] daemon started
    daemon.go:445: [da6913d6bf92b] Stopping daemon
    daemon.go:284: [da6913d6bf92b] exiting daemon
    daemon.go:432: [da6913d6bf92b] Daemon stopped
PASS
Running /go/src/github.com/docker/docker/integration/plugin
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/common
INFO: Testing against a local daemon
=== RUN   TestPluginInvalidJSON
=== RUN   TestPluginInvalidJSON//plugins/foobar/set
=== PAUSE TestPluginInvalidJSON//plugins/foobar/set
=== CONT  TestPluginInvalidJSON//plugins/foobar/set
--- PASS: TestPluginInvalidJSON (0.02s)
    --- PASS: TestPluginInvalidJSON//plugins/foobar/set (0.00s)
PASS
Running /go/src/github.com/docker/docker/integration/plugin/graphdriver
INFO: Testing against a local daemon
=== RUN   TestExternalGraphDriver
=== RUN   TestExternalGraphDriver/json
=== RUN   TestExternalGraphDriver/spec
=== RUN   TestExternalGraphDriver/pull
--- PASS: TestExternalGraphDriver (8.01s)
    external_test.go:57: Creating a new daemon
    daemon.go:317: [dcb75168be82e] waiting for daemon to start
    daemon.go:335: [dcb75168be82e] daemon started
    daemon.go:445: [dcb75168be82e] Stopping daemon
    daemon.go:284: [dcb75168be82e] exiting daemon
    daemon.go:432: [dcb75168be82e] Daemon stopped
    daemon.go:317: [dcb75168be82e] waiting for daemon to start
    daemon.go:335: [dcb75168be82e] daemon started
    daemon.go:445: [dcb75168be82e] Stopping daemon
    daemon.go:284: [dcb75168be82e] exiting daemon
    daemon.go:432: [dcb75168be82e] Daemon stopped
    --- PASS: TestExternalGraphDriver/json (1.69s)
    daemon.go:317: [dcb75168be82e] waiting for daemon to start
    daemon.go:335: [dcb75168be82e] daemon started
    daemon.go:445: [dcb75168be82e] Stopping daemon
    daemon.go:284: [dcb75168be82e] exiting daemon
    daemon.go:432: [dcb75168be82e] Daemon stopped
    daemon.go:317: [dcb75168be82e] waiting for daemon to start
    daemon.go:335: [dcb75168be82e] daemon started
    daemon.go:445: [dcb75168be82e] Stopping daemon
    daemon.go:284: [dcb75168be82e] exiting daemon
    daemon.go:432: [dcb75168be82e] Daemon stopped
    --- PASS: TestExternalGraphDriver/spec (1.65s)
    daemon.go:317: [dcb75168be82e] waiting for daemon to start
    daemon.go:335: [dcb75168be82e] daemon started
    daemon.go:445: [dcb75168be82e] Stopping daemon
    daemon.go:284: [dcb75168be82e] exiting daemon
    daemon.go:432: [dcb75168be82e] Daemon stopped
    --- PASS: TestExternalGraphDriver/pull (3.01s)
=== RUN   TestGraphdriverPluginV2
--- PASS: TestGraphdriverPluginV2 (6.31s)
    external_test.go:413: Creating a new daemon
    daemon.go:317: [de2b2c0ab5976] waiting for daemon to start
    daemon.go:335: [de2b2c0ab5976] daemon started
    daemon.go:445: [de2b2c0ab5976] Stopping daemon
    daemon.go:284: [de2b2c0ab5976] exiting daemon
    daemon.go:432: [de2b2c0ab5976] Daemon stopped
    daemon.go:317: [de2b2c0ab5976] waiting for daemon to start
    daemon.go:335: [de2b2c0ab5976] daemon started
    daemon.go:445: [de2b2c0ab5976] Stopping daemon
    daemon.go:284: [de2b2c0ab5976] exiting daemon
    daemon.go:432: [de2b2c0ab5976] Daemon stopped
PASS
Running /go/src/github.com/docker/docker/integration/plugin/authz
INFO: Testing against a local daemon
=== RUN   TestAuthZPluginAllowRequest
--- PASS: TestAuthZPluginAllowRequest (1.25s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [dd0e5ee939ee6] waiting for daemon to start
    daemon.go:335: [dd0e5ee939ee6] daemon started
    daemon.go:445: [dd0e5ee939ee6] Stopping daemon
    daemon.go:284: [dd0e5ee939ee6] exiting daemon
    daemon.go:432: [dd0e5ee939ee6] Daemon stopped
=== RUN   TestAuthZPluginTLS
--- PASS: TestAuthZPluginTLS (0.69s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [da56a66edab2f] waiting for daemon to start
    daemon.go:335: [da56a66edab2f] daemon started
    daemon.go:445: [da56a66edab2f] Stopping daemon
    daemon.go:284: [da56a66edab2f] exiting daemon
    daemon.go:432: [da56a66edab2f] Daemon stopped
=== RUN   TestAuthZPluginDenyRequest
--- PASS: TestAuthZPluginDenyRequest (0.52s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d83ebae51b02e] waiting for daemon to start
    daemon.go:335: [d83ebae51b02e] daemon started
    daemon.go:445: [d83ebae51b02e] Stopping daemon
    daemon.go:284: [d83ebae51b02e] exiting daemon
    daemon.go:432: [d83ebae51b02e] Daemon stopped
=== RUN   TestAuthZPluginAPIDenyResponse
--- PASS: TestAuthZPluginAPIDenyResponse (0.52s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d84ca4ba36362] waiting for daemon to start
    daemon.go:335: [d84ca4ba36362] daemon started
    daemon.go:445: [d84ca4ba36362] Stopping daemon
    daemon.go:284: [d84ca4ba36362] exiting daemon
    daemon.go:432: [d84ca4ba36362] Daemon stopped
=== RUN   TestAuthZPluginDenyResponse
--- PASS: TestAuthZPluginDenyResponse (0.53s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d11844a1f819e] waiting for daemon to start
    daemon.go:335: [d11844a1f819e] daemon started
    daemon.go:445: [d11844a1f819e] Stopping daemon
    daemon.go:284: [d11844a1f819e] exiting daemon
    daemon.go:432: [d11844a1f819e] Daemon stopped
=== RUN   TestAuthZPluginAllowEventStream
--- PASS: TestAuthZPluginAllowEventStream (1.49s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d7d6b51bb84aa] waiting for daemon to start
    daemon.go:335: [d7d6b51bb84aa] daemon started
    daemon.go:445: [d7d6b51bb84aa] Stopping daemon
    daemon.go:284: [d7d6b51bb84aa] exiting daemon
    daemon.go:432: [d7d6b51bb84aa] Daemon stopped
=== RUN   TestAuthZPluginErrorResponse
--- PASS: TestAuthZPluginErrorResponse (0.53s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d8ad57a64620f] waiting for daemon to start
    daemon.go:335: [d8ad57a64620f] daemon started
    daemon.go:445: [d8ad57a64620f] Stopping daemon
    daemon.go:284: [d8ad57a64620f] exiting daemon
    daemon.go:432: [d8ad57a64620f] Daemon stopped
=== RUN   TestAuthZPluginErrorRequest
--- PASS: TestAuthZPluginErrorRequest (0.52s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [dedc3128b276d] waiting for daemon to start
    daemon.go:335: [dedc3128b276d] daemon started
    daemon.go:445: [dedc3128b276d] Stopping daemon
    daemon.go:284: [dedc3128b276d] exiting daemon
    daemon.go:432: [dedc3128b276d] Daemon stopped
=== RUN   TestAuthZPluginEnsureNoDuplicatePluginRegistration
--- PASS: TestAuthZPluginEnsureNoDuplicatePluginRegistration (0.52s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [db0b986d59841] waiting for daemon to start
    daemon.go:335: [db0b986d59841] daemon started
    daemon.go:445: [db0b986d59841] Stopping daemon
    daemon.go:284: [db0b986d59841] exiting daemon
    daemon.go:432: [db0b986d59841] Daemon stopped
=== RUN   TestAuthZPluginEnsureLoadImportWorking
--- FAIL: TestAuthZPluginEnsureLoadImportWorking (70.47s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [db4be110ae569] waiting for daemon to start
    daemon.go:335: [db4be110ae569] daemon started
    authz_plugin_test.go:360: assertion failed: error is not nil: write /tmp/test-authz-load-import072986095/export.tar: no space left on device
    daemon.go:445: [db4be110ae569] Stopping daemon
    daemon.go:284: [db4be110ae569] exiting daemon
    daemon.go:432: [db4be110ae569] Daemon stopped
=== RUN   TestAuthzPluginEnsureContainerCopyToFrom
--- PASS: TestAuthzPluginEnsureContainerCopyToFrom (1.52s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d5602c294eebb] waiting for daemon to start
    daemon.go:335: [d5602c294eebb] daemon started
    daemon.go:445: [d5602c294eebb] Stopping daemon
    daemon.go:284: [d5602c294eebb] exiting daemon
    daemon.go:432: [d5602c294eebb] Daemon stopped
=== RUN   TestAuthZPluginHeader
--- PASS: TestAuthZPluginHeader (0.74s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d835578aa0cb6] waiting for daemon to start
    daemon.go:335: [d835578aa0cb6] daemon started
    daemon.go:445: [d835578aa0cb6] Stopping daemon
    daemon.go:284: [d835578aa0cb6] exiting daemon
    daemon.go:432: [d835578aa0cb6] Daemon stopped
=== RUN   TestAuthZPluginV2AllowNonVolumeRequest
--- PASS: TestAuthZPluginV2AllowNonVolumeRequest (6.34s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d854f4e1755c2] waiting for daemon to start
    daemon.go:335: [d854f4e1755c2] daemon started
    daemon.go:445: [d854f4e1755c2] Stopping daemon
    daemon.go:284: [d854f4e1755c2] exiting daemon
    daemon.go:432: [d854f4e1755c2] Daemon stopped
    daemon.go:317: [d854f4e1755c2] waiting for daemon to start
    daemon.go:335: [d854f4e1755c2] daemon started
    daemon.go:445: [d854f4e1755c2] Stopping daemon
    daemon.go:284: [d854f4e1755c2] exiting daemon
    daemon.go:432: [d854f4e1755c2] Daemon stopped
=== RUN   TestAuthZPluginV2Disable
--- PASS: TestAuthZPluginV2Disable (5.63s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d710e10887ddf] waiting for daemon to start
    daemon.go:335: [d710e10887ddf] daemon started
    daemon.go:445: [d710e10887ddf] Stopping daemon
    daemon.go:284: [d710e10887ddf] exiting daemon
    daemon.go:432: [d710e10887ddf] Daemon stopped
    daemon.go:317: [d710e10887ddf] waiting for daemon to start
    daemon.go:335: [d710e10887ddf] daemon started
    daemon.go:445: [d710e10887ddf] Stopping daemon
    daemon.go:284: [d710e10887ddf] exiting daemon
    daemon.go:432: [d710e10887ddf] Daemon stopped
=== RUN   TestAuthZPluginV2RejectVolumeRequests
--- PASS: TestAuthZPluginV2RejectVolumeRequests (5.92s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d8743993f9d7e] waiting for daemon to start
    daemon.go:335: [d8743993f9d7e] daemon started
    daemon.go:445: [d8743993f9d7e] Stopping daemon
    daemon.go:284: [d8743993f9d7e] exiting daemon
    daemon.go:432: [d8743993f9d7e] Daemon stopped
    daemon.go:317: [d8743993f9d7e] waiting for daemon to start
    daemon.go:335: [d8743993f9d7e] daemon started
    daemon.go:445: [d8743993f9d7e] Stopping daemon
    daemon.go:284: [d8743993f9d7e] exiting daemon
    daemon.go:432: [d8743993f9d7e] Daemon stopped
=== RUN   TestAuthZPluginV2BadManifestFailsDaemonStart
--- PASS: TestAuthZPluginV2BadManifestFailsDaemonStart (11.49s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d892589110f49] waiting for daemon to start
    daemon.go:335: [d892589110f49] daemon started
    daemon.go:445: [d892589110f49] Stopping daemon
    daemon.go:284: [d892589110f49] exiting daemon
    daemon.go:432: [d892589110f49] Daemon stopped
    daemon.go:317: [d892589110f49] waiting for daemon to start
    daemon.go:327: [d892589110f49] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd892589110f49.sock/_ping: read unix @->/tmp/docker-integration/d892589110f49.sock: read: connection reset by peer
    daemon.go:317: [d892589110f49] waiting for daemon to start
    daemon.go:284: [d892589110f49] exiting daemon
    daemon.go:317: [d892589110f49] waiting for daemon to start
    daemon.go:335: [d892589110f49] daemon started
    daemon.go:445: [d892589110f49] Stopping daemon
    daemon.go:284: [d892589110f49] exiting daemon
    daemon.go:432: [d892589110f49] Daemon stopped
=== RUN   TestAuthZPluginV2NonexistentFailsDaemonStart
--- PASS: TestAuthZPluginV2NonexistentFailsDaemonStart (16.49s)
    main_test.go:54: Creating a new daemon
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:335: [d1c4bc90c529f] daemon started
    daemon.go:445: [d1c4bc90c529f] Stopping daemon
    daemon.go:284: [d1c4bc90c529f] exiting daemon
    daemon.go:432: [d1c4bc90c529f] Daemon stopped
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: context deadline exceeded
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: read unix @->/tmp/docker-integration/d1c4bc90c529f.sock: read: connection reset by peer
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:327: [d1c4bc90c529f] error pinging daemon on start: Get http://%2Ftmp%2Fdocker-integration%2Fd1c4bc90c529f.sock/_ping: dial unix /tmp/docker-integration/d1c4bc90c529f.sock: connect: connection refused
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:284: [d1c4bc90c529f] exiting daemon
    daemon.go:317: [d1c4bc90c529f] waiting for daemon to start
    daemon.go:335: [d1c4bc90c529f] daemon started
    daemon.go:445: [d1c4bc90c529f] Stopping daemon
    daemon.go:284: [d1c4bc90c529f] exiting daemon
    daemon.go:432: [d1c4bc90c529f] Daemon stopped
FAIL
---> Making bundle: .integration-daemon-stop (in bundles/test-integration)
Clearing AppArmor profiles cache:.
All profile caches have been cleared, but no profiles have been unloaded.
Unloading profiles will leave already running processes permanently
unconfined, which can lead to unexpected situations.

To set a process to complain mode, use the command line tool
'aa-complain'. To really tear down all profiles, run the init script
with the 'teardown' option."
Removing test suite binaries
Build step 'Execute shell' marked build as failure
Set build name.
New build name is '#39292'
[PostBuildScript] - Executing post build scripts.
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins716008854950681879.sh
+ echo Ensuring container killed.
Ensuring container killed.
+ docker rm -vf docker-pr54347
Error: No such container: docker-pr54347
+ true
+ echo Chowning /workspace to jenkins user
Chowning /workspace to jenkins user
+ id -u
+ id -g
+ docker run --rm -v /home/ubuntu/workspace/Docker-PRs:/workspace busybox chown -R 1000:1000 /workspace
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins7103021409233701104.sh
+ echo Creating bundles.tar.gz
Creating bundles.tar.gz
+ find bundles -name *.log -o -name *.prof -o -name integration.test
+ xargs tar -czf bundles.tar.gz
Archiving artifacts
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[WS-CLEANUP] Deleting project workspace...[WS-CLEANUP] done
Finished: FAILURE
