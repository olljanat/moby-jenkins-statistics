Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on ubuntu-1604-overlay2-stable (i-0d970eabd09d9a79a) (x86_64 ec2 ubuntu overlay2 linux ubuntu-1604 ubuntu-1604-overlay2-stable amd64 docker us-west-2) in workspace /home/ubuntu/workspace/Docker-PRs
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init /home/ubuntu/workspace/Docker-PRs # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse origin/master^{commit} # timeout=10
Checking out Revision b4842cfe88b39af42416429396aee10d1fe7c3d6 (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f b4842cfe88b39af42416429396aee10d1fe7c3d6
Commit message: "Merge pull request #38354 from thaJeztah/fix_ipam_swagger"
 > git rev-list --no-walk b4842cfe88b39af42416429396aee10d1fe7c3d6 # timeout=10
Set build name.
New build name is '#38527'
[Docker-PRs] $ /bin/bash /tmp/jenkins621465893519862311.sh
From https://github.com/moby/moby
 * [new ref]         refs/pull/38527/head -> origin/pr/38527
Merge made by the 'recursive' strategy.
 hack/dind                               |  6 +++---
 hack/dockerfile/install/install.sh      |  4 ++--
 hack/make.sh                            | 30 +++++++++++++++---------------
 hack/make/.binary                       |  6 +++---
 hack/make/.detect-daemon-osarch         |  2 +-
 hack/make/.ensure-emptyfs               |  2 +-
 hack/make/.go-autogen                   |  8 ++++----
 hack/make/.integration-daemon-setup     |  2 +-
 hack/make/.integration-daemon-start     | 26 +++++++++++++-------------
 hack/make/.integration-daemon-stop      | 12 ++++++------
 hack/make/.integration-test-helpers     | 14 +++++++-------
 hack/make/binary-daemon                 |  8 ++++----
 hack/make/cross                         | 14 +++++++-------
 hack/make/cross-platform-dependent      |  2 +-
 hack/make/install-binary                |  2 +-
 hack/make/run                           |  6 +++---
 hack/make/test-docker-py                |  2 +-
 hack/test/e2e-run.sh                    |  4 ++--
 hack/validate/.validate                 |  6 +++---
 hack/validate/changelog-date-descending |  2 +-
 hack/validate/changelog-well-formed     |  2 +-
 hack/validate/dco                       |  6 +++---
 hack/validate/default-seccomp           |  4 ++--
 hack/validate/deprecate-integration-cli |  2 +-
 hack/validate/pkg-imports               |  2 +-
 hack/validate/swagger                   |  2 +-
 hack/validate/swagger-gen               |  4 ++--
 hack/validate/test-imports              |  6 +++---
 hack/validate/toml                      |  2 +-
 hack/validate/vendor                    |  6 +++---
 30 files changed, 97 insertions(+), 97 deletions(-)
Sending build context to Docker daemon  45.11MB
Step 1/94 : FROM golang:1.11.4 AS base
 ---> 343df9d12b7b
Step 2/94 : ARG APT_MIRROR=deb.debian.org
 ---> Using cache
 ---> 12ad7dffe364
Step 3/94 : RUN sed -ri "s/(httpredir|deb).debian.org/$APT_MIRROR/g" /etc/apt/sources.list
 ---> Using cache
 ---> e8353ce49919
Step 4/94 : FROM base AS criu
 ---> e8353ce49919
Step 5/94 : ENV CRIU_VERSION 3.6
 ---> Using cache
 ---> 43ece4863736
Step 6/94 : RUN apt-get update && apt-get install -y 	libnet-dev 	libprotobuf-c0-dev 	libprotobuf-dev 	libnl-3-dev 	libcap-dev 	protobuf-compiler 	protobuf-c-compiler 	python-protobuf 	&& mkdir -p /usr/src/criu 	&& curl -sSL https://github.com/checkpoint-restore/criu/archive/v${CRIU_VERSION}.tar.gz | tar -C /usr/src/criu/ -xz --strip-components=1 	&& cd /usr/src/criu 	&& make 	&& make PREFIX=/build/ install-criu
 ---> Using cache
 ---> 2061010bd863
Step 7/94 : FROM base AS registry
 ---> e8353ce49919
Step 8/94 : ENV REGISTRY_COMMIT_SCHEMA1 ec87e9b6971d831f0eff752ddb54fb64693e51cd
 ---> Using cache
 ---> b356d30e2d3c
Step 9/94 : ENV REGISTRY_COMMIT 47a064d4195a9b56133891bbb13620c3ac83a827
 ---> Using cache
 ---> 42c45852bc5d
Step 10/94 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/docker/distribution.git "$GOPATH/src/github.com/docker/distribution" 	&& (cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT") 	&& GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH" 		go build -buildmode=pie -o /build/registry-v2 github.com/docker/distribution/cmd/registry 	&& case $(dpkg --print-architecture) in 		amd64|ppc64*|s390x) 		(cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT_SCHEMA1"); 		GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH"; 			go build -buildmode=pie -o /build/registry-v2-schema1 github.com/docker/distribution/cmd/registry; 		;; 	   esac 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> fea4892d7fde
Step 11/94 : FROM base AS docker-py
 ---> e8353ce49919
Step 12/94 : ENV DOCKER_PY_COMMIT 8b246db271a85d6541dc458838627e89c683e42f
 ---> Using cache
 ---> ba5b2ae84b7c
Step 13/94 : RUN git clone https://github.com/docker/docker-py.git /build 	&& cd /build 	&& git checkout -q $DOCKER_PY_COMMIT
 ---> Using cache
 ---> bd0feaf26104
Step 14/94 : FROM base AS swagger
 ---> e8353ce49919
Step 15/94 : ENV GO_SWAGGER_COMMIT c28258affb0b6251755d92489ef685af8d4ff3eb
 ---> Using cache
 ---> 1209aea685ea
Step 16/94 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/go-swagger/go-swagger.git "$GOPATH/src/github.com/go-swagger/go-swagger" 	&& (cd "$GOPATH/src/github.com/go-swagger/go-swagger" && git checkout -q "$GO_SWAGGER_COMMIT") 	&& go build -o /build/swagger github.com/go-swagger/go-swagger/cmd/swagger 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> bb71e5fff1d2
Step 17/94 : FROM base AS frozen-images
 ---> e8353ce49919
Step 18/94 : RUN apt-get update && apt-get install -y jq ca-certificates --no-install-recommends
 ---> Using cache
 ---> 8f5f0910722b
Step 19/94 : COPY contrib/download-frozen-image-v2.sh /
 ---> Using cache
 ---> a9a76c37bf34
Step 20/94 : RUN /download-frozen-image-v2.sh /build 	buildpack-deps:jessie@sha256:dd86dced7c9cd2a724e779730f0a53f93b7ef42228d4344b25ce9a42a1486251 	busybox:latest@sha256:bbc3a03235220b170ba48a157dd097dd1379299370e1ed99ce976df0355d24f0 	busybox:glibc@sha256:0b55a30394294ab23b9afd58fab94e61a923f5834fba7ddbae7f8e0c11ba85e6 	debian:jessie@sha256:287a20c5f73087ab406e6b364833e3fb7b3ae63ca0eb3486555dc27ed32c6e60 	hello-world:latest@sha256:be0cd392e45be79ffeffa6b05338b98ebb16c87b255f48e297ec7f98e123905c
 ---> Using cache
 ---> 12482d7693d3
Step 21/94 : FROM base AS runtime-dev
 ---> e8353ce49919
Step 22/94 : RUN apt-get update && apt-get install -y 	libapparmor-dev 	libseccomp-dev
 ---> Using cache
 ---> bb98421876df
Step 23/94 : FROM base AS tomlv
 ---> e8353ce49919
Step 24/94 : ENV INSTALL_BINARY_NAME=tomlv
 ---> Using cache
 ---> 953bfd8b2857
Step 25/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> e24903f1aabf
Step 26/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> b87bc5eaf2c4
Step 27/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in 776de1115933
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.nIZaY5Ff4o
+ GOPATH=/tmp/tmp.nIZaY5Ff4o
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=tomlv
+ shift
+ '[' '!' -f ./tomlv.installer ']'
+ . ./tomlv.installer
++ TOMLV_COMMIT=3012a1dbe2e4bd1391d42b32f0577cb7bbc7f005
+ install_tomlv
+ echo 'Install tomlv version 3012a1dbe2e4bd1391d42b32f0577cb7bbc7f005'
+ git clone https://github.com/BurntSushi/toml.git /tmp/tmp.nIZaY5Ff4o/src/github.com/BurntSushi/toml
Install tomlv version 3012a1dbe2e4bd1391d42b32f0577cb7bbc7f005
Cloning into '/tmp/tmp.nIZaY5Ff4o/src/github.com/BurntSushi/toml'...
+ cd /tmp/tmp.nIZaY5Ff4o/src/github.com/BurntSushi/toml
+ git checkout -q 3012a1dbe2e4bd1391d42b32f0577cb7bbc7f005
+ go build -v -buildmode=pie -o /build/tomlv github.com/BurntSushi/toml/cmd/tomlv
sort
strings
bytes
flag
bufio
encoding
path/filepath
log
path
io/ioutil
text/tabwriter
github.com/BurntSushi/toml
github.com/BurntSushi/toml/cmd/tomlv
Removing intermediate container 776de1115933
 ---> 16c49acb699b
Step 28/94 : FROM base AS vndr
 ---> e8353ce49919
Step 29/94 : ENV INSTALL_BINARY_NAME=vndr
 ---> Using cache
 ---> 67e74eb4fb3a
Step 30/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> 03cdf25b9604
Step 31/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> 92474adab4cc
Step 32/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in 76bf311f9dde
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.OHqNkMvrF2
+ GOPATH=/tmp/tmp.OHqNkMvrF2
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=vndr
+ shift
+ '[' '!' -f ./vndr.installer ']'
+ . ./vndr.installer
++ VNDR_COMMIT=81cb8916aad3c8d06193f008dba3e16f82851f52
+ install_vndr
+ echo 'Install vndr version 81cb8916aad3c8d06193f008dba3e16f82851f52'
+ git clone https://github.com/LK4D4/vndr.git /tmp/tmp.OHqNkMvrF2/src/github.com/LK4D4/vndr
Install vndr version 81cb8916aad3c8d06193f008dba3e16f82851f52
Cloning into '/tmp/tmp.OHqNkMvrF2/src/github.com/LK4D4/vndr'...
+ cd /tmp/tmp.OHqNkMvrF2/src/github.com/LK4D4/vndr
+ git checkout -q 81cb8916aad3c8d06193f008dba3e16f82851f52
+ go build -buildmode=pie -v -o /build/vndr .
encoding
bytes
sort
strings
bufio
go/token
flag
path/filepath
path
go/scanner
regexp/syntax
go/ast
regexp
io/ioutil
net/url
text/template/parse
go/parser
log
text/template
encoding/binary
encoding/base64
unicode/utf16
encoding/json
go/doc
encoding/xml
github.com/LK4D4/vndr/build
github.com/LK4D4/vndr/godl/singleflight
compress/flate
hash
hash/crc32
container/list
compress/gzip
context
crypto/internal/subtle
crypto/subtle
math/rand
crypto/cipher
math/big
crypto/aes
crypto
crypto/des
crypto/internal/randutil
crypto/sha512
crypto/hmac
crypto/md5
crypto/rc4
crypto/sha1
crypto/sha256
encoding/hex
crypto/rand
crypto/elliptic
encoding/asn1
crypto/rsa
crypto/ecdsa
crypto/dsa
crypto/x509/pkix
encoding/pem
vendor/golang_org/x/crypto/cryptobyte/asn1
vendor/golang_org/x/net/dns/dnsmessage
vendor/golang_org/x/crypto/cryptobyte
internal/nettrace
internal/singleflight
vendor/golang_org/x/crypto/internal/chacha20
net
vendor/golang_org/x/crypto/poly1305
vendor/golang_org/x/crypto/chacha20poly1305
vendor/golang_org/x/crypto/curve25519
vendor/golang_org/x/text/transform
vendor/golang_org/x/text/unicode/bidi
vendor/golang_org/x/text/secure/bidirule
vendor/golang_org/x/text/unicode/norm
vendor/golang_org/x/net/idna
vendor/golang_org/x/net/http2/hpack
mime
mime/quotedprintable
net/http/internal
os/exec
net/textproto
crypto/x509
vendor/golang_org/x/net/http/httpguts
vendor/golang_org/x/net/http/httpproxy
mime/multipart
crypto/tls
net/http/httptrace
net/http
github.com/LK4D4/vndr/godl
github.com/LK4D4/vndr
Removing intermediate container 76bf311f9dde
 ---> b8ed343a74f4
Step 33/94 : FROM base AS containerd
 ---> e8353ce49919
Step 34/94 : RUN apt-get update && apt-get install -y btrfs-tools
 ---> Using cache
 ---> 5e9a56f035c5
Step 35/94 : ENV INSTALL_BINARY_NAME=containerd
 ---> Using cache
 ---> 0051183bc853
Step 36/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> a6d52520bd20
Step 37/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> c12f6e67592b
Step 38/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in 968fafa08426
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.0s8tiBjREh
+ GOPATH=/tmp/tmp.0s8tiBjREh
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=containerd
+ shift
+ '[' '!' -f ./containerd.installer ']'
+ . ./containerd.installer
++ CONTAINERD_COMMIT=9754871865f7fe2f4e74d43e2fc7ccd237edcbce
+ install_containerd
+ echo 'Install containerd version 9754871865f7fe2f4e74d43e2fc7ccd237edcbce'
+ git clone https://github.com/containerd/containerd.git /tmp/tmp.0s8tiBjREh/src/github.com/containerd/containerd
Cloning into '/tmp/tmp.0s8tiBjREh/src/github.com/containerd/containerd'...
Install containerd version 9754871865f7fe2f4e74d43e2fc7ccd237edcbce
+ cd /tmp/tmp.0s8tiBjREh/src/github.com/containerd/containerd
+ git checkout -q 9754871865f7fe2f4e74d43e2fc7ccd237edcbce
+ export 'BUILDTAGS=netgo osusergo static_build'
+ BUILDTAGS='netgo osusergo static_build'
+ export EXTRA_FLAGS=-buildmode=pie
+ EXTRA_FLAGS=-buildmode=pie
+ export 'EXTRA_LDFLAGS=-extldflags "-fno-PIC -static"'
+ EXTRA_LDFLAGS='-extldflags "-fno-PIC -static"'
+ '[' '' == dynamic ']'
+ make
🇩 bin/ctr
🇩 bin/containerd
🇩 bin/containerd-stress
🇩 bin/containerd-shim
🇩 bin/containerd-shim-runc-v1
🇩 binaries
+ mkdir -p /build
+ cp bin/containerd /build/containerd
+ cp bin/containerd-shim /build/containerd-shim
+ cp bin/ctr /build/ctr
Removing intermediate container 968fafa08426
 ---> e6d065554b67
Step 39/94 : FROM base AS proxy
 ---> e8353ce49919
Step 40/94 : ENV INSTALL_BINARY_NAME=proxy
 ---> Using cache
 ---> 536ee2ef1c6d
Step 41/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> c8351be1369d
Step 42/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> 3249c0393edb
Step 43/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in e00d13907bd3
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.WtsZPtqFko
+ GOPATH=/tmp/tmp.WtsZPtqFko
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=proxy
+ shift
+ '[' '!' -f ./proxy.installer ']'
+ . ./proxy.installer
++ LIBNETWORK_COMMIT=1a06131fb8a047d919f7deaf02a4c414d7884b83
+ install_proxy
+ case "$1" in
+ export CGO_ENABLED=0
+ CGO_ENABLED=0
+ _install_proxy
+ echo 'Install docker-proxy version 1a06131fb8a047d919f7deaf02a4c414d7884b83'
+ git clone https://github.com/docker/libnetwork.git /tmp/tmp.WtsZPtqFko/src/github.com/docker/libnetwork
Install docker-proxy version 1a06131fb8a047d919f7deaf02a4c414d7884b83
Cloning into '/tmp/tmp.WtsZPtqFko/src/github.com/docker/libnetwork'...
+ cd /tmp/tmp.WtsZPtqFko/src/github.com/docker/libnetwork
+ git checkout -q 1a06131fb8a047d919f7deaf02a4c414d7884b83
+ go build -ldflags= -o /build/docker-proxy github.com/docker/libnetwork/cmd/proxy
Removing intermediate container e00d13907bd3
 ---> d315d2cb719b
Step 44/94 : FROM base AS gometalinter
 ---> e8353ce49919
Step 45/94 : ENV INSTALL_BINARY_NAME=gometalinter
 ---> Using cache
 ---> 6b4cb8f2801f
Step 46/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> d78eeefc9222
Step 47/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> ae6aea953427
Step 48/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in 09564969874b
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.ILxoGo54fV
+ GOPATH=/tmp/tmp.ILxoGo54fV
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=gometalinter
+ shift
+ '[' '!' -f ./gometalinter.installer ']'
+ . ./gometalinter.installer
++ GOMETALINTER_COMMIT=v2.0.6
+ install_gometalinter
+ echo 'Installing gometalinter version v2.0.6'
+ go get -d github.com/alecthomas/gometalinter
Installing gometalinter version v2.0.6
+ cd /tmp/tmp.ILxoGo54fV/src/github.com/alecthomas/gometalinter
+ git checkout -q v2.0.6
+ go build -buildmode=pie -o /build/gometalinter github.com/alecthomas/gometalinter
+ GOBIN=/build
+ /build/gometalinter --install
Installing:
  deadcode
  dupl
  errcheck
  gas
  gochecknoglobals
  gochecknoinits
  goconst
  gocyclo
  goimports
  golint
  gosimple
  gotype
  gotypex
  ineffassign
  interfacer
  lll
  maligned
  megacheck
  misspell
  nakedret
  safesql
  staticcheck
  structcheck
  unconvert
  unparam
  unused
  varcheck
Removing intermediate container 09564969874b
 ---> 261cff6d33f3
Step 49/94 : FROM base AS dockercli
 ---> e8353ce49919
Step 50/94 : ENV INSTALL_BINARY_NAME=dockercli
 ---> Using cache
 ---> fbb4fc00def9
Step 51/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> d6a6d22ff2bb
Step 52/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> 5949d1444f10
Step 53/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in bd66eb6e7e2e
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.a037bpqvQ2
+ GOPATH=/tmp/tmp.a037bpqvQ2
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=dockercli
+ shift
+ '[' '!' -f ./dockercli.installer ']'
+ . ./dockercli.installer
++ DOCKERCLI_CHANNEL=edge
++ DOCKERCLI_VERSION=17.06.0-ce
Install docker/cli version 17.06.0-ce from edge
+ install_dockercli
+ echo 'Install docker/cli version 17.06.0-ce from edge'
++ uname -m
+ arch=x86_64
+ '[' x86_64 '!=' x86_64 ']'
+ url=https://download.docker.com/linux/static
+ curl -Ls https://download.docker.com/linux/static/edge/x86_64/docker-17.06.0-ce.tgz
+ tar -xz docker/docker
+ mkdir -p /build
+ mv docker/docker /build/
+ rmdir docker
Removing intermediate container bd66eb6e7e2e
 ---> c06e0f5a0182
Step 54/94 : FROM runtime-dev AS runc
 ---> bb98421876df
Step 55/94 : ENV INSTALL_BINARY_NAME=runc
 ---> Using cache
 ---> ea9d14ed7068
Step 56/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> e02dcd81cc14
Step 57/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> d7c1499c2108
Step 58/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in e2c4b6e1f7c1
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.9PSpo1jmKz
+ GOPATH=/tmp/tmp.9PSpo1jmKz
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=runc
+ shift
+ '[' '!' -f ./runc.installer ']'
+ . ./runc.installer
++ RUNC_COMMIT=96ec2177ae841256168fcf76954f7177af9446eb
+ install_runc
+ uname -r
+ grep -q '^3\.10\.0.*\.el7\.'
+ RUNC_BUILDTAGS='seccomp apparmor selinux '
+ echo 'Install runc version 96ec2177ae841256168fcf76954f7177af9446eb (build tags: seccomp apparmor selinux )'
+ git clone https://github.com/opencontainers/runc.git /tmp/tmp.9PSpo1jmKz/src/github.com/opencontainers/runc
Install runc version 96ec2177ae841256168fcf76954f7177af9446eb (build tags: seccomp apparmor selinux )
Cloning into '/tmp/tmp.9PSpo1jmKz/src/github.com/opencontainers/runc'...
+ cd /tmp/tmp.9PSpo1jmKz/src/github.com/opencontainers/runc
+ git checkout -q 96ec2177ae841256168fcf76954f7177af9446eb
+ '[' -z '' ']'
+ target=static
+ make 'BUILDTAGS=seccomp apparmor selinux ' static
CGO_ENABLED=1 go build  -tags "seccomp apparmor selinux  netgo osusergo static_build" -installsuffix netgo -ldflags "-w -extldflags -static -X main.gitCommit="96ec2177ae841256168fcf76954f7177af9446eb" -X main.version=1.0.0-rc6+dev " -o runc .
CGO_ENABLED=1 go build  -tags "seccomp apparmor selinux  netgo osusergo static_build" -installsuffix netgo -ldflags "-w -extldflags -static -X main.gitCommit="96ec2177ae841256168fcf76954f7177af9446eb" -X main.version=1.0.0-rc6+dev " -o contrib/cmd/recvtty/recvtty ./contrib/cmd/recvtty
+ mkdir -p /build
+ cp runc /build/runc
Removing intermediate container e2c4b6e1f7c1
 ---> 49225554b117
Step 59/94 : FROM base AS tini
 ---> e8353ce49919
Step 60/94 : RUN apt-get update && apt-get install -y cmake vim-common
 ---> Using cache
 ---> 0fd144df683c
Step 61/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> 5173d90d3b9f
Step 62/94 : ENV INSTALL_BINARY_NAME=tini
 ---> Running in 26f2a03032b5
Removing intermediate container 26f2a03032b5
 ---> 09df4f9c40ed
Step 63/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> d326dda3b105
Step 64/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Running in f1d0d99dc660
+ RM_GOPATH=0
+ TMP_GOPATH=
+ : /build
+ '[' -z '' ']'
++ mktemp -d
+ export GOPATH=/tmp/tmp.wSW9tMIxra
+ GOPATH=/tmp/tmp.wSW9tMIxra
+ RM_GOPATH=1
++ dirname ./install.sh
+ dir=.
+ bin=tini
+ shift
+ '[' '!' -f ./tini.installer ']'
+ . ./tini.installer
++ TINI_COMMIT=fec3683b971d9c3ef73f284f176672c44b448662
+ install_tini
+ echo 'Install tini version fec3683b971d9c3ef73f284f176672c44b448662'
Install tini version fec3683b971d9c3ef73f284f176672c44b448662
+ git clone https://github.com/krallin/tini.git /tmp/tmp.wSW9tMIxra/tini
Cloning into '/tmp/tmp.wSW9tMIxra/tini'...
+ cd /tmp/tmp.wSW9tMIxra/tini
+ git checkout -q fec3683b971d9c3ef73f284f176672c44b448662
+ cmake .
-- The C compiler identification is GNU 6.3.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Performing Test HAS_BUILTIN_FORTIFY
-- Performing Test HAS_BUILTIN_FORTIFY - Failed
-- Configuring done
-- Generating done
-- Build files have been written to: /tmp/tmp.wSW9tMIxra/tini
+ make tini-static
Scanning dependencies of target tini-static
[ 50%] Building C object CMakeFiles/tini-static.dir/src/tini.c.o
[100%] Linking C executable tini-static
[100%] Built target tini-static
+ mkdir -p /build
+ cp tini-static /build/docker-init
Removing intermediate container f1d0d99dc660
 ---> 4118fa6ce365
Step 65/94 : FROM runtime-dev AS dev
 ---> bb98421876df
Step 66/94 : RUN groupadd -r docker
 ---> Using cache
 ---> 1cad4602cdd1
Step 67/94 : RUN useradd --create-home --gid docker unprivilegeduser
 ---> Using cache
 ---> 6c1e8fd82396
Step 68/94 : RUN ln -sfv /go/src/github.com/docker/docker/.bashrc ~/.bashrc
 ---> Using cache
 ---> 388461b29ad3
Step 69/94 : RUN echo "source /usr/share/bash-completion/bash_completion" >> /etc/bash.bashrc
 ---> Using cache
 ---> a3db3221a88c
Step 70/94 : RUN ln -s /usr/local/completion/bash/docker /etc/bash_completion.d/docker
 ---> Using cache
 ---> a79d1fb97162
Step 71/94 : RUN ldconfig
 ---> Using cache
 ---> 09e6de02c9fa
Step 72/94 : RUN apt-get update && apt-get install -y 	apparmor 	aufs-tools 	bash-completion 	btrfs-tools 	iptables 	jq 	libcap2-bin 	libdevmapper-dev 	libudev-dev 	libsystemd-dev 	binutils-mingw-w64 	g++-mingw-w64-x86-64 	net-tools 	pigz 	python-backports.ssl-match-hostname 	python-dev 	python-mock 	python-pip 	python-requests 	python-setuptools 	python-websocket 	python-wheel 	thin-provisioning-tools 	vim 	vim-common 	xfsprogs 	zip 	bzip2 	xz-utils 	--no-install-recommends
 ---> Using cache
 ---> b131143a87c2
Step 73/94 : COPY --from=swagger /build/swagger* /usr/local/bin/
 ---> Using cache
 ---> 1153973c51c5
Step 74/94 : COPY --from=frozen-images /build/ /docker-frozen-images
 ---> Using cache
 ---> 2c5388d4c156
Step 75/94 : COPY --from=gometalinter /build/ /usr/local/bin/
 ---> 4bb1fda9e770
Step 76/94 : COPY --from=tomlv /build/ /usr/local/bin/
 ---> be73874eb7ef
Step 77/94 : COPY --from=vndr /build/ /usr/local/bin/
 ---> 7fd724037408
Step 78/94 : COPY --from=tini /build/ /usr/local/bin/
 ---> 51726deba2ef
Step 79/94 : COPY --from=runc /build/ /usr/local/bin/
 ---> 3198a86f459f
Step 80/94 : COPY --from=containerd /build/ /usr/local/bin/
 ---> bb3bef14f31c
Step 81/94 : COPY --from=proxy /build/ /usr/local/bin/
 ---> 05f8608bd6e0
Step 82/94 : COPY --from=dockercli /build/ /usr/local/cli
 ---> cb822ba1b126
Step 83/94 : COPY --from=registry /build/registry* /usr/local/bin/
 ---> 74900a012360
Step 84/94 : COPY --from=criu /build/ /usr/local/
 ---> f66438054091
Step 85/94 : COPY --from=docker-py /build/ /docker-py
 ---> 6ba36a6116ec
Step 86/94 : RUN cd /docker-py 	&& pip install docker-pycreds==0.2.1 	&& pip install yamllint==1.5.0 	&& pip install -r test-requirements.txt
 ---> Running in 1254ab9067c5
Collecting docker-pycreds==0.2.1
  Downloading https://files.pythonhosted.org/packages/ff/ec/14e976222468249cc50df4a031e5922581747b52dc96a0b1d5d73fee8f0e/docker_pycreds-0.2.1-py2.py3-none-any.whl
Requirement already satisfied: six>=1.4.0 in /usr/lib/python2.7/dist-packages (from docker-pycreds==0.2.1)
Installing collected packages: docker-pycreds
Successfully installed docker-pycreds-0.2.1
Collecting yamllint==1.5.0
  Downloading https://files.pythonhosted.org/packages/64/93/2a2e99b04f4a2f2adb26f4f543770310bf6303b3af492345c4a700d14f4e/yamllint-1.5.0-py2.py3-none-any.whl
Collecting pyyaml (from yamllint==1.5.0)
  Downloading https://files.pythonhosted.org/packages/9e/a3/1d13970c3f36777c583f136c136f804d70f500168edc1edea6daa7200769/PyYAML-3.13.tar.gz (270kB)
Building wheels for collected packages: pyyaml
  Running setup.py bdist_wheel for pyyaml: started
  Running setup.py bdist_wheel for pyyaml: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/ad/da/0c/74eb680767247273e2cf2723482cb9c924fe70af57c334513f
Successfully built pyyaml
Installing collected packages: pyyaml, yamllint
Successfully installed pyyaml-3.13 yamllint-1.5.0
Collecting mock==1.0.1 (from -r test-requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/a2/52/7edcd94f0afb721a2d559a5b9aae8af4f8f2c79bc63fdbe8a8a6c9b23bbe/mock-1.0.1.tar.gz (818kB)
Collecting pytest==2.9.1 (from -r test-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/61/49/c299eeaea69ed31338a58762b5185c56044fc2e09434694742ca2306a514/pytest-2.9.1-py2.py3-none-any.whl (161kB)
Collecting coverage==3.7.1 (from -r test-requirements.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/09/4f/89b06c7fdc09687bca507dc411c342556ef9c5a3b26756137a4878ff19bf/coverage-3.7.1.tar.gz (284kB)
Collecting pytest-cov==2.1.0 (from -r test-requirements.txt (line 4))
  Downloading https://files.pythonhosted.org/packages/f2/9b/03b7d51c74d8f7088e37043dcf4f59faed359c56e7d016e2627108072679/pytest_cov-2.1.0-py2.py3-none-any.whl
Collecting flake8==3.4.1 (from -r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/b2/d3/e80ea2616e3871ae22459c415c63d64b9bd744c92267482670fcdbcea72d/flake8-3.4.1-py2.py3-none-any.whl (68kB)
Collecting py>=1.4.29 (from pytest==2.9.1->-r test-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/3e/c7/3da685ef117d42ac8d71af525208759742dd235f8094221fdaafcd3dba8f/py-1.7.0-py2.py3-none-any.whl (83kB)
Collecting pyflakes<1.6.0,>=1.5.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/27/49/924098b3b85c286696f37e014475d79471ffc44509613af420645a3c12cb/pyflakes-1.5.0-py2.py3-none-any.whl (225kB)
Collecting enum34; python_version < "3.4" (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/c5/db/e56e6b4bbac7c4a06de1c50de6fe1ef3810018ae11732a50f15f62c7d050/enum34-1.1.6-py2-none-any.whl
Collecting configparser; python_version < "3.2" (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/7c/69/c2ce7e91c89dc073eb1aa74c0621c3eefbffe8216b3f9af9d3885265c01c/configparser-3.5.0.tar.gz
Collecting mccabe<0.7.0,>=0.6.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting pycodestyle<2.4.0,>=2.0.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/e4/81/78fe51eb4038d1388b7217dd63770b0f428370207125047312886c923b26/pycodestyle-2.3.1-py2.py3-none-any.whl (45kB)
Building wheels for collected packages: mock, coverage, configparser
  Running setup.py bdist_wheel for mock: started
  Running setup.py bdist_wheel for mock: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/7e/72/92/744b532c779242b57aab4bcba80c312b30c069bbd60025e7e6
  Running setup.py bdist_wheel for coverage: started
  Running setup.py bdist_wheel for coverage: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/68/58/66/f1fc9afad272df0df0fa38cdef34ee2d5d8d6a85f4eb5acab5
  Running setup.py bdist_wheel for configparser: started
  Running setup.py bdist_wheel for configparser: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/a3/61/79/424ef897a2f3b14684a7de5d89e8600b460b89663e6ce9d17c
Successfully built mock coverage configparser
Installing collected packages: mock, py, pytest, coverage, pytest-cov, pyflakes, enum34, configparser, mccabe, pycodestyle, flake8
  Found existing installation: mock 2.0.0
    Not uninstalling mock at /usr/lib/python2.7/dist-packages, outside environment /usr
Successfully installed configparser-3.5.0 coverage-3.7.1 enum34-1.1.6 flake8-3.4.1 mccabe-0.6.1 mock-1.0.1 py-1.7.0 pycodestyle-2.3.1 pyflakes-1.5.0 pytest-2.9.1 pytest-cov-2.1.0
Removing intermediate container 1254ab9067c5
 ---> a2abc0bdf3b4
Step 87/94 : ENV PATH=/usr/local/cli:$PATH
 ---> Running in 4bc5a01c0f0f
Removing intermediate container 4bc5a01c0f0f
 ---> 729117c55c66
Step 88/94 : ENV DOCKER_BUILDTAGS apparmor seccomp selinux
 ---> Running in 63b1e246cbf8
Removing intermediate container 63b1e246cbf8
 ---> d9a4349a4f9f
Step 89/94 : ENV GOMETALINTER_OPTS="--deadline=2m"
 ---> Running in aaa95d731658
Removing intermediate container aaa95d731658
 ---> aea0f20632d9
Step 90/94 : WORKDIR /go/src/github.com/docker/docker
 ---> Running in 0034b1ef8856
Removing intermediate container 0034b1ef8856
 ---> 17c1bc5b7831
Step 91/94 : VOLUME /var/lib/docker
 ---> Running in 83d5d6a3685f
Removing intermediate container 83d5d6a3685f
 ---> 8aac2f57515a
Step 92/94 : ENTRYPOINT ["hack/dind"]
 ---> Running in 040b3e4c3fe6
Removing intermediate container 040b3e4c3fe6
 ---> 0719c5d9ccd0
Step 93/94 : FROM dev AS final
 ---> 0719c5d9ccd0
Step 94/94 : COPY . /go/src/github.com/docker/docker
 ---> 3d31af887f27
Successfully built 3d31af887f27
Successfully tagged docker:839cb7c
Congratulations!  All commits are properly signed with the DCO!
Congratulations!  "./pkg/..." is safely isolated from internal code.
No api/types/ or api/swagger.yaml changes in diff.
Congratulations!  No testing.T found.
Congratulations!  All toml source files changed here have valid syntax.
Congratulations!  Changelog CHANGELOG.md is well-formed.
Congratulations!  Changelog CHANGELOG.md dates are in descending order.
Congratulations!  No new tests added to integration-cli.
?   	github.com/docker/docker/api	[no test files]
ok  	github.com/docker/docker/api/server	0.004s	coverage: 7.9% of statements
?   	github.com/docker/docker/api/server/backend/build	[no test files]
ok  	github.com/docker/docker/api/server/httputils	0.004s	coverage: 11.1% of statements
ok  	github.com/docker/docker/api/server/middleware	0.003s	coverage: 43.4% of statements
?   	github.com/docker/docker/api/server/router	[no test files]
?   	github.com/docker/docker/api/server/router/build	[no test files]
?   	github.com/docker/docker/api/server/router/checkpoint	[no test files]
?   	github.com/docker/docker/api/server/router/container	[no test files]
?   	github.com/docker/docker/api/server/router/debug	[no test files]
?   	github.com/docker/docker/api/server/router/distribution	[no test files]
?   	github.com/docker/docker/api/server/router/image	[no test files]
?   	github.com/docker/docker/api/server/router/network	[no test files]
?   	github.com/docker/docker/api/server/router/plugin	[no test files]
?   	github.com/docker/docker/api/server/router/session	[no test files]
?   	github.com/docker/docker/api/server/router/swarm	[no test files]
?   	github.com/docker/docker/api/server/router/system	[no test files]
?   	github.com/docker/docker/api/server/router/volume	[no test files]
?   	github.com/docker/docker/api/types	[no test files]
?   	github.com/docker/docker/api/types/backend	[no test files]
?   	github.com/docker/docker/api/types/blkiodev	[no test files]
?   	github.com/docker/docker/api/types/container	[no test files]
?   	github.com/docker/docker/api/types/events	[no test files]
ok  	github.com/docker/docker/api/types/filters	0.003s	coverage: 94.2% of statements
?   	github.com/docker/docker/api/types/image	[no test files]
?   	github.com/docker/docker/api/types/mount	[no test files]
?   	github.com/docker/docker/api/types/network	[no test files]
?   	github.com/docker/docker/api/types/plugins/logdriver	[no test files]
?   	github.com/docker/docker/api/types/registry	[no test files]
ok  	github.com/docker/docker/api/types/strslice	0.002s	coverage: 90.0% of statements
?   	github.com/docker/docker/api/types/swarm	[no test files]
?   	github.com/docker/docker/api/types/swarm/runtime	[no test files]
ok  	github.com/docker/docker/api/types/time	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/api/types/versions	0.002s	coverage: 75.0% of statements
?   	github.com/docker/docker/api/types/versions/v1p19	[no test files]
?   	github.com/docker/docker/api/types/versions/v1p20	[no test files]
?   	github.com/docker/docker/api/types/volume	[no test files]
?   	github.com/docker/docker/builder	[no test files]
?   	github.com/docker/docker/builder/builder-next	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/containerimage	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/snapshot	[no test files]
?   	github.com/docker/docker/builder/builder-next/exporter	[no test files]
?   	github.com/docker/docker/builder/builder-next/imagerefchecker	[no test files]
?   	github.com/docker/docker/builder/builder-next/worker	[no test files]
ok  	github.com/docker/docker/builder/dockerfile	0.404s	coverage: 45.4% of statements
ok  	github.com/docker/docker/builder/dockerignore	0.002s	coverage: 96.8% of statements
ok  	github.com/docker/docker/builder/fscache	0.111s	coverage: 69.2% of statements
ok  	github.com/docker/docker/builder/remotecontext	0.151s	coverage: 13.7% of statements
ok  	github.com/docker/docker/builder/remotecontext/git	0.582s	coverage: 78.8% of statements
?   	github.com/docker/docker/cli	[no test files]
?   	github.com/docker/docker/cli/config	[no test files]
ok  	github.com/docker/docker/cli/debug	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/client	0.098s	coverage: 75.6% of statements
ok  	github.com/docker/docker/cmd/dockerd	0.038s	coverage: 31.4% of statements
ok  	github.com/docker/docker/cmd/dockerd/hack	0.002s	coverage: 72.9% of statements
ok  	github.com/docker/docker/container	0.114s	coverage: 35.6% of statements
?   	github.com/docker/docker/container/stream	[no test files]
?   	github.com/docker/docker/contrib/apparmor	[no test files]
?   	github.com/docker/docker/contrib/docker-device-tool	[no test files]
?   	github.com/docker/docker/contrib/httpserver	[no test files]
ok  	github.com/docker/docker/daemon	12.132s	coverage: 17.1% of statements
ok  	github.com/docker/docker/daemon/cluster	0.031s	coverage: 0.5% of statements
ok  	github.com/docker/docker/daemon/cluster/controllers/plugin	0.009s	coverage: 65.3% of statements
ok  	github.com/docker/docker/daemon/cluster/convert	0.006s	coverage: 28.0% of statements
?   	github.com/docker/docker/daemon/cluster/executor	[no test files]
ok  	github.com/docker/docker/daemon/cluster/executor/container	3.438s	coverage: 12.7% of statements
?   	github.com/docker/docker/daemon/cluster/provider	[no test files]
ok  	github.com/docker/docker/daemon/config	0.028s	coverage: 84.8% of statements
ok  	github.com/docker/docker/daemon/discovery	0.004s	coverage: 30.4% of statements
ok  	github.com/docker/docker/daemon/events	0.057s	coverage: 50.0% of statements
?   	github.com/docker/docker/daemon/events/testutils	[no test files]
?   	github.com/docker/docker/daemon/exec	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver	0.004s	coverage: 2.2% of statements
ok  	github.com/docker/docker/daemon/graphdriver/aufs	5.294s	coverage: 73.6% of statements
ok  	github.com/docker/docker/daemon/graphdriver/btrfs	0.005s	coverage: 2.9% of statements
ok  	github.com/docker/docker/daemon/graphdriver/copy	0.179s	coverage: 57.0% of statements
ok  	github.com/docker/docker/daemon/graphdriver/devmapper	2.065s	coverage: 45.9% of statements
?   	github.com/docker/docker/daemon/graphdriver/graphtest	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/overlay	0.686s	coverage: 50.8% of statements
ok  	github.com/docker/docker/daemon/graphdriver/overlay2	2.126s	coverage: 56.8% of statements
?   	github.com/docker/docker/daemon/graphdriver/overlayutils	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/quota	0.281s	coverage: 75.2% of statements
?   	github.com/docker/docker/daemon/graphdriver/register	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver/vfs	0.006s	coverage: 70.5% of statements
ok  	github.com/docker/docker/daemon/graphdriver/zfs	0.005s	coverage: 3.0% of statements
ok  	github.com/docker/docker/daemon/images	0.010s	coverage: 4.9% of statements
?   	github.com/docker/docker/daemon/initlayer	[no test files]
ok  	github.com/docker/docker/daemon/links	0.002s	coverage: 93.0% of statements
?   	github.com/docker/docker/daemon/listeners	[no test files]
ok  	github.com/docker/docker/daemon/logger	0.215s	coverage: 43.7% of statements
ok  	github.com/docker/docker/daemon/logger/awslogs	0.118s	coverage: 78.2% of statements
?   	github.com/docker/docker/daemon/logger/fluentd	[no test files]
?   	github.com/docker/docker/daemon/logger/gcplogs	[no test files]
ok  	github.com/docker/docker/daemon/logger/gelf	0.005s	coverage: 68.2% of statements
ok  	github.com/docker/docker/daemon/logger/journald	0.004s	coverage: 26.2% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog	0.006s	coverage: 62.1% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog/jsonlog	0.003s	coverage: 88.3% of statements
ok  	github.com/docker/docker/daemon/logger/local	0.011s	coverage: 74.7% of statements
?   	github.com/docker/docker/daemon/logger/logentries	[no test files]
ok  	github.com/docker/docker/daemon/logger/loggerutils	0.007s	coverage: 18.6% of statements
ok  	github.com/docker/docker/daemon/logger/splunk	1.486s	coverage: 84.5% of statements
ok  	github.com/docker/docker/daemon/logger/syslog	0.004s	coverage: 47.8% of statements
ok  	github.com/docker/docker/daemon/logger/templates	0.002s	coverage: 8.3% of statements
?   	github.com/docker/docker/daemon/names	[no test files]
ok  	github.com/docker/docker/daemon/network	0.003s	coverage: 57.1% of statements
?   	github.com/docker/docker/daemon/stats	[no test files]
ok  	github.com/docker/docker/distribution	1.115s	coverage: 16.8% of statements
ok  	github.com/docker/docker/distribution/metadata	0.028s	coverage: 48.2% of statements
?   	github.com/docker/docker/distribution/utils	[no test files]
ok  	github.com/docker/docker/distribution/xfer	1.431s	coverage: 83.9% of statements
?   	github.com/docker/docker/dockerversion	[no test files]
ok  	github.com/docker/docker/errdefs	0.002s	coverage: 76.0% of statements
ok  	github.com/docker/docker/image	0.016s	coverage: 86.3% of statements
ok  	github.com/docker/docker/image/cache	0.008s	coverage: 19.2% of statements
?   	github.com/docker/docker/image/tarexport	[no test files]
ok  	github.com/docker/docker/image/v1	0.006s	coverage: 25.0% of statements
ok  	github.com/docker/docker/internal/procfs	0.003s	coverage: 78.4% of statements
?   	github.com/docker/docker/internal/test	[no test files]
?   	github.com/docker/docker/internal/test/daemon	[no test files]
?   	github.com/docker/docker/internal/test/environment	[no test files]
?   	github.com/docker/docker/internal/test/fakecontext	[no test files]
?   	github.com/docker/docker/internal/test/fakegit	[no test files]
?   	github.com/docker/docker/internal/test/fakestorage	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/load	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin/basic	[no test files]
?   	github.com/docker/docker/internal/test/registry	[no test files]
?   	github.com/docker/docker/internal/test/request	[no test files]
ok  	github.com/docker/docker/internal/testutil	0.002s	coverage: 62.5% of statements
ok  	github.com/docker/docker/layer	7.718s	coverage: 71.4% of statements
ok  	github.com/docker/docker/libcontainerd	0.028s	coverage: 3.4% of statements
?   	github.com/docker/docker/libcontainerd/supervisor	[no test files]
?   	github.com/docker/docker/oci	[no test files]
?   	github.com/docker/docker/oci/caps	[no test files]
ok  	github.com/docker/docker/opts	0.016s	coverage: 68.4% of statements
ok  	github.com/docker/docker/pkg/aaparser	0.002s	coverage: 50.0% of statements
ok  	github.com/docker/docker/pkg/archive	0.385s	coverage: 77.0% of statements
ok  	github.com/docker/docker/pkg/authorization	0.419s	coverage: 66.7% of statements
ok  	github.com/docker/docker/pkg/broadcaster	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/chrootarchive	2.812s	coverage: 37.0% of statements
?   	github.com/docker/docker/pkg/containerfs	[no test files]
?   	github.com/docker/docker/pkg/devicemapper	[no test files]
ok  	github.com/docker/docker/pkg/directory	0.002s	coverage: 80.0% of statements
ok  	github.com/docker/docker/pkg/discovery	0.003s	coverage: 58.3% of statements
ok  	github.com/docker/docker/pkg/discovery/file	0.003s	coverage: 92.9% of statements
ok  	github.com/docker/docker/pkg/discovery/kv	3.062s	coverage: 84.1% of statements
ok  	github.com/docker/docker/pkg/discovery/memory	0.003s	coverage: 92.3% of statements
ok  	github.com/docker/docker/pkg/discovery/nodes	0.003s	coverage: 93.8% of statements
ok  	github.com/docker/docker/pkg/dmesg	0.003s	coverage: 83.3% of statements
ok  	github.com/docker/docker/pkg/filenotify	0.603s	coverage: 66.3% of statements
ok  	github.com/docker/docker/pkg/fileutils	0.006s	coverage: 89.5% of statements
ok  	github.com/docker/docker/pkg/fsutils	0.169s	coverage: 85.1% of statements
ok  	github.com/docker/docker/pkg/homedir	0.003s	coverage: 41.7% of statements
ok  	github.com/docker/docker/pkg/idtools	0.302s	coverage: 70.2% of statements
ok  	github.com/docker/docker/pkg/ioutils	0.388s	coverage: 69.1% of statements
ok  	github.com/docker/docker/pkg/jsonmessage	0.003s	coverage: 88.3% of statements
ok  	github.com/docker/docker/pkg/locker	0.011s	coverage: 88.9% of statements
ok  	github.com/docker/docker/pkg/longpath	0.002s	coverage: 100.0% of statements
?   	github.com/docker/docker/pkg/loopback	[no test files]
ok  	github.com/docker/docker/pkg/mount	0.499s	coverage: 68.6% of statements
ok  	github.com/docker/docker/pkg/namesgenerator	0.002s	coverage: 85.7% of statements
?   	github.com/docker/docker/pkg/namesgenerator/cmd/names-generator	[no test files]
ok  	github.com/docker/docker/pkg/parsers	0.002s	coverage: 97.0% of statements
ok  	github.com/docker/docker/pkg/parsers/kernel	0.002s	coverage: 60.0% of statements
ok  	github.com/docker/docker/pkg/parsers/operatingsystem	0.002s	coverage: 90.0% of statements
ok  	github.com/docker/docker/pkg/pidfile	0.002s	coverage: 82.4% of statements
?   	github.com/docker/docker/pkg/platform	[no test files]
?   	github.com/docker/docker/pkg/plugingetter	[no test files]
ok  	github.com/docker/docker/pkg/plugins	33.617s	coverage: 76.8% of statements
ok  	github.com/docker/docker/pkg/plugins/pluginrpc-gen	0.008s	coverage: 56.8% of statements
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures	[no test files]
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures/otherfixture	[no test files]
ok  	github.com/docker/docker/pkg/plugins/transport	0.003s	coverage: 85.7% of statements
ok  	github.com/docker/docker/pkg/pools	0.002s	coverage: 87.9% of statements
ok  	github.com/docker/docker/pkg/progress	0.002s	coverage: 75.9% of statements
ok  	github.com/docker/docker/pkg/pubsub	1.036s	coverage: 72.7% of statements
ok  	github.com/docker/docker/pkg/reexec	0.008s	coverage: 82.4% of statements
ok  	github.com/docker/docker/pkg/signal	2.400s	coverage: 61.0% of statements
?   	github.com/docker/docker/pkg/signal/testfiles	[no test files]
ok  	github.com/docker/docker/pkg/stdcopy	0.003s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/streamformatter	0.003s	coverage: 66.2% of statements
ok  	github.com/docker/docker/pkg/stringid	0.002s	coverage: 76.0% of statements
ok  	github.com/docker/docker/pkg/symlink	0.007s	coverage: 87.7% of statements
ok  	github.com/docker/docker/pkg/sysinfo	0.004s	coverage: 75.8% of statements
ok  	github.com/docker/docker/pkg/system	0.019s	coverage: 36.1% of statements
ok  	github.com/docker/docker/pkg/tailfile	0.017s	coverage: 88.6% of statements
ok  	github.com/docker/docker/pkg/tarsum	0.046s	coverage: 89.3% of statements
ok  	github.com/docker/docker/pkg/term	0.003s	coverage: 84.8% of statements
ok  	github.com/docker/docker/pkg/term/windows	0.002s	coverage: 0.0% of statements [no tests to run]
ok  	github.com/docker/docker/pkg/truncindex	0.103s	coverage: 91.5% of statements
ok  	github.com/docker/docker/pkg/urlutil	0.002s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/useragent	0.002s	coverage: 88.9% of statements
ok  	github.com/docker/docker/plugin	0.529s	coverage: 27.3% of statements
ok  	github.com/docker/docker/plugin/executor/containerd	0.007s	coverage: 33.3% of statements
ok  	github.com/docker/docker/plugin/v2	0.003s	coverage: 14.5% of statements
?   	github.com/docker/docker/profiles/apparmor	[no test files]
ok  	github.com/docker/docker/profiles/seccomp	0.004s	coverage: 79.4% of statements
ok  	github.com/docker/docker/reference	0.006s	coverage: 84.4% of statements
ok  	github.com/docker/docker/registry	0.105s	coverage: 57.0% of statements
ok  	github.com/docker/docker/registry/resumable	0.016s	coverage: 100.0% of statements
ok  	github.com/docker/docker/restartmanager	0.002s	coverage: 49.0% of statements
ok  	github.com/docker/docker/runconfig	0.007s	coverage: 68.2% of statements
?   	github.com/docker/docker/runconfig/opts	[no test files]
?   	github.com/docker/docker/volume	[no test files]
ok  	github.com/docker/docker/volume/drivers	0.005s	coverage: 36.1% of statements
ok  	github.com/docker/docker/volume/local	0.019s	coverage: 73.0% of statements
ok  	github.com/docker/docker/volume/mounts	0.025s	coverage: 66.8% of statements
ok  	github.com/docker/docker/volume/service	0.015s	coverage: 73.0% of statements
?   	github.com/docker/docker/volume/service/opts	[no test files]
?   	github.com/docker/docker/volume/testutils	[no test files]

  _____          _
 / ____|        | |
| |     ___   __| | ___  ___ _____   __
| |    / _ \ / _` |/ _ \/ __/ _ \ \ / /
| |___| (_) | (_| |  __/ (_| (_) \ V /
 \_____\___/ \__,_|\___|\___\___/ \_/
                              Bash-8a28df4


x> No CI provider detected.
    Testing inside Docker? http://docs.codecov.io/docs/testing-with-docker
    Testing with Tox? https://docs.codecov.io/docs/python#section-testing-with-tox
    project root: .
--> token set from env
    Yaml found at: codecov.yml
    -> Found 1 reports
==> Detecting git/mercurial file structure
==> Reading reports
    + coverage.txt bytes=1668848
==> Appending adjustments
    http://docs.codecov.io/docs/fixing-reports
    + Found adjustments
==> Gzipping contents
==> Uploading reports
    url: https://codecov.io
    query: branch=&commit=37498f009d8bf25fbb6199e8ccd34bed84f2874b&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    -> Pinging Codecov
https://codecov.io/upload/v4?package=bash-8a28df4&token=e6d53b86-8efe-4b59-adb0-c205a735b39e&branch=&commit=37498f009d8bf25fbb6199e8ccd34bed84f2874b&build=&build_url=&name=&tag=&slug=moby%2Fmoby&service=&flags=&pr=&job=
    -> Uploading
    -> View reports at https://codecov.io/github/moby/moby/commit/37498f009d8bf25fbb6199e8ccd34bed84f2874b

Removing bundles/

---> Making bundle: binary-daemon (in bundles/binary-daemon)
Building: bundles/binary-daemon/dockerd-dev
Created binary: bundles/binary-daemon/dockerd-dev
Copying nested executables into bundles/binary-daemon

---> Making bundle: dynbinary (in bundles/dynbinary)
Building: bundles/dynbinary-daemon/dockerd-dev
Created binary: bundles/dynbinary-daemon/dockerd-dev

---> Making bundle: test-docker-py (in bundles/test-docker-py)
---> Making bundle: .integration-daemon-start (in bundles/test-docker-py)
Using test binary docker
/etc/init.d/apparmor: 130: /etc/init.d/apparmor: systemd-detect-virt: not found
Starting AppArmor profiles:Warning from stdin (line 1): /sbin/apparmor_parser: cannot use or update cache, disable, or force-complain via stdin
Warning failed to create cache: (null)
.
INFO: Waiting for daemon to start...
Starting dockerd
.
============================= test session starts ==============================
platform linux2 -- Python 2.7.13, pytest-2.9.1, py-1.7.0, pluggy-0.3.1
rootdir: /docker-py, inifile: pytest.ini
plugins: cov-2.1.0
collected 338 items

../../../../../docker-py/tests/integration/api_build_test.py ....s..s........
../../../../../docker-py/tests/integration/api_client_test.py .......
../../../../../docker-py/tests/integration/api_config_test.py .....
../../../../../docker-py/tests/integration/api_container_test.py ....x....x.......x............................................................
../../../../../docker-py/tests/integration/api_exec_test.py .............
../../../../../docker-py/tests/integration/api_healthcheck_test.py ....
../../../../../docker-py/tests/integration/api_image_test.py ...s........s....
../../../../../docker-py/tests/integration/api_network_test.py ...........................
../../../../../docker-py/tests/integration/api_plugin_test.py ...........
../../../../../docker-py/tests/integration/api_secret_test.py .....
../../../../../docker-py/tests/integration/api_service_test.py ......................................................
../../../../../docker-py/tests/integration/api_swarm_test.py ..s...x......
../../../../../docker-py/tests/integration/api_volume_test.py .........
../../../../../docker-py/tests/integration/client_test.py ....
../../../../../docker-py/tests/integration/errors_test.py .
../../../../../docker-py/tests/integration/models_containers_test.py ..............................
../../../../../docker-py/tests/integration/models_images_test.py .............
../../../../../docker-py/tests/integration/models_networks_test.py ....
../../../../../docker-py/tests/integration/models_nodes_test.py .
../../../../../docker-py/tests/integration/models_resources_test.py .
../../../../../docker-py/tests/integration/models_services_test.py ..............X.
../../../../../docker-py/tests/integration/models_swarm_test.py .
../../../../../docker-py/tests/integration/models_volumes_test.py ..
../../../../../docker-py/tests/integration/regression_test.py ......

 generated xml file: /go/src/github.com/docker/docker/bundles/test-docker-py/results.xml 
=========================== short test summary info ============================
XFAIL ../../../../../docker-py/tests/integration/api_container_test.py::CreateContainerTest::test_create_with_cpu_rt_options
  CONFIG_RT_GROUP_SCHED isn't enabled
XFAIL ../../../../../docker-py/tests/integration/api_container_test.py::CreateContainerTest::test_create_with_init_path
  init-path removed in 17.05.0
XFAIL ../../../../../docker-py/tests/integration/api_container_test.py::CreateContainerTest::test_create_with_storage_opt
  Not supported on most drivers
XFAIL ../../../../../docker-py/tests/integration/api_swarm_test.py::SwarmTest::test_init_swarm_with_log_driver
  This doesn't seem to be taken into account by the engine
SKIP [1] tests/integration/api_image_test.py:289: Doesn't work inside a container - FIXME
SKIP [1] /docker-py/tests/integration/api_swarm_test.py:31: Test stalls the engine on 1.12.0
SKIP [3] /docker-py/tests/helpers.py:69: Feature requires Docker Engine experimental mode
======== 328 passed, 5 skipped, 4 xfailed, 1 xpassed in 353.24 seconds =========
---> Making bundle: .integration-daemon-stop (in bundles/test-docker-py)
Clearing AppArmor profiles cache:.
All profile caches have been cleared, but no profiles have been unloaded.
Unloading profiles will leave already running processes permanently
unconfined, which can lead to unexpected situations.

To set a process to complain mode, use the command line tool
'aa-complain'. To really tear down all profiles, run the init script
with the 'teardown' option."

---> Making bundle: test-integration (in bundles/test-integration)
Building test suite binary ./integration-cli/test.main
Building test suite binary ./integration/plugin/test.main
Building test suite binary ./integration/plugin/authz/test.main
Building test suite binary ./integration/plugin/logging/test.main
Building test suite binary ./integration/plugin/logging/cmd/test.main
Building test suite binary ./integration/plugin/logging/cmd/close_on_start/test.main
Building test suite binary ./integration/plugin/logging/cmd/dummy/test.main
Building test suite binary ./integration/plugin/common/test.main
Building test suite binary ./integration/plugin/volumes/test.main
Building test suite binary ./integration/plugin/volumes/cmd/test.main
Building test suite binary ./integration/plugin/volumes/cmd/dummy/test.main
Building test suite binary ./integration/plugin/graphdriver/test.main
Building test suite binary ./integration/config/test.main
Building test suite binary ./integration/service/test.main
Building test suite binary ./integration/network/test.main
Building test suite binary ./integration/network/ipvlan/test.main
Building test suite binary ./integration/network/macvlan/test.main
Building test suite binary ./integration/secret/test.main
Building test suite binary ./integration/session/test.main
Building test suite binary ./integration/container/test.main
Building test suite binary ./integration/build/test.main
Building test suite binary ./integration/volume/test.main
Building test suite binary ./integration/system/test.main
Building test suite binary ./integration/image/test.main
---> Making bundle: .integration-daemon-start (in bundles/test-integration)
Using test binary docker
/etc/init.d/apparmor: 130: /etc/init.d/apparmor: systemd-detect-virt: not found
Starting AppArmor profiles:Warning from stdin (line 1): /sbin/apparmor_parser: cannot use or update cache, disable, or force-complain via stdin
Warning failed to create cache: (null)
.
INFO: Waiting for daemon to start...
Starting dockerd
.
---> Making bundle: .integration-daemon-setup (in bundles/test-integration)
---> Making bundle: .ensure-emptyfs (in bundles/test-integration)
Error: No such image: emptyfs
Running integration-test (iteration 1)
Running /go/src/github.com/docker/docker/integration/plugin
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/authz
Loaded image: buildpack-deps:jessie
The image busybox:latest already exists, renaming the old one with ID sha256:3a093384ac306cbac30b67f1585e12b30ab1a899374dabc3170b9bca246f1444 to empty string
Loaded image: busybox:latest
Loaded image: busybox:glibc
Loaded image: debian:jessie
The image hello-world:latest already exists, renaming the old one with ID sha256:fce289e99eb9bca977dae136fbe2a82b6b7d4c372474c9235adc1741675f587e to empty string
Loaded image: hello-world:latest
INFO: Testing against a local daemon
=== RUN   TestAuthZPluginAllowRequest
--- PASS: TestAuthZPluginAllowRequest (6.92s)
    daemon.go:296: [da53a158b8797] waiting for daemon to start
    daemon.go:328: [da53a158b8797] daemon started
    daemon.go:283: [da53a158b8797] exiting daemon
=== RUN   TestAuthZPluginTLS
--- PASS: TestAuthZPluginTLS (3.10s)
    daemon.go:296: [d31b8693e4480] waiting for daemon to start
    daemon.go:328: [d31b8693e4480] daemon started
    daemon.go:283: [d31b8693e4480] exiting daemon
=== RUN   TestAuthZPluginDenyRequest
--- PASS: TestAuthZPluginDenyRequest (2.90s)
    daemon.go:296: [d14c436b5a2ff] waiting for daemon to start
    daemon.go:328: [d14c436b5a2ff] daemon started
    daemon.go:283: [d14c436b5a2ff] exiting daemon
=== RUN   TestAuthZPluginAPIDenyResponse
--- PASS: TestAuthZPluginAPIDenyResponse (0.54s)
    daemon.go:296: [d53cd586440cd] waiting for daemon to start
    daemon.go:328: [d53cd586440cd] daemon started
    daemon.go:283: [d53cd586440cd] exiting daemon
=== RUN   TestAuthZPluginDenyResponse
--- PASS: TestAuthZPluginDenyResponse (0.53s)
    daemon.go:296: [d89eb5b005b0f] waiting for daemon to start
    daemon.go:328: [d89eb5b005b0f] daemon started
    daemon.go:283: [d89eb5b005b0f] exiting daemon
=== RUN   TestAuthZPluginAllowEventStream
--- PASS: TestAuthZPluginAllowEventStream (1.23s)
    daemon.go:296: [dad24a5db2a53] waiting for daemon to start
    daemon.go:328: [dad24a5db2a53] daemon started
    daemon.go:283: [dad24a5db2a53] exiting daemon
=== RUN   TestAuthZPluginErrorResponse
--- PASS: TestAuthZPluginErrorResponse (0.53s)
    daemon.go:296: [db2b228133b80] waiting for daemon to start
    daemon.go:328: [db2b228133b80] daemon started
    daemon.go:283: [db2b228133b80] exiting daemon
=== RUN   TestAuthZPluginErrorRequest
--- PASS: TestAuthZPluginErrorRequest (0.53s)
    daemon.go:296: [d72cc0ad5297a] waiting for daemon to start
    daemon.go:328: [d72cc0ad5297a] daemon started
    daemon.go:283: [d72cc0ad5297a] exiting daemon
=== RUN   TestAuthZPluginEnsureNoDuplicatePluginRegistration
--- PASS: TestAuthZPluginEnsureNoDuplicatePluginRegistration (0.53s)
    daemon.go:296: [d7944eaf284ff] waiting for daemon to start
    daemon.go:328: [d7944eaf284ff] daemon started
    daemon.go:283: [d7944eaf284ff] exiting daemon
=== RUN   TestAuthZPluginEnsureLoadImportWorking
--- PASS: TestAuthZPluginEnsureLoadImportWorking (1.48s)
    daemon.go:296: [d6bdec9e32666] waiting for daemon to start
    daemon.go:328: [d6bdec9e32666] daemon started
    daemon.go:283: [d6bdec9e32666] exiting daemon
=== RUN   TestAuthzPluginEnsureContainerCopyToFrom
--- PASS: TestAuthzPluginEnsureContainerCopyToFrom (1.49s)
    daemon.go:296: [d367f648ec2df] waiting for daemon to start
    daemon.go:328: [d367f648ec2df] daemon started
    daemon.go:283: [d367f648ec2df] exiting daemon
=== RUN   TestAuthZPluginHeader
--- PASS: TestAuthZPluginHeader (0.73s)
    daemon.go:296: [d7e8c968e8674] waiting for daemon to start
    daemon.go:328: [d7e8c968e8674] daemon started
    daemon.go:283: [d7e8c968e8674] exiting daemon
=== RUN   TestAuthZPluginV2AllowNonVolumeRequest
--- PASS: TestAuthZPluginV2AllowNonVolumeRequest (6.60s)
    daemon.go:296: [dd18a27c80e22] waiting for daemon to start
    daemon.go:328: [dd18a27c80e22] daemon started
    daemon.go:283: [dd18a27c80e22] exiting daemon
    daemon.go:296: [dd18a27c80e22] waiting for daemon to start
    daemon.go:328: [dd18a27c80e22] daemon started
    daemon.go:283: [dd18a27c80e22] exiting daemon
=== RUN   TestAuthZPluginV2Disable
--- PASS: TestAuthZPluginV2Disable (5.87s)
    daemon.go:296: [d3776c6d25fdd] waiting for daemon to start
    daemon.go:328: [d3776c6d25fdd] daemon started
    daemon.go:283: [d3776c6d25fdd] exiting daemon
    daemon.go:296: [d3776c6d25fdd] waiting for daemon to start
    daemon.go:328: [d3776c6d25fdd] daemon started
    daemon.go:283: [d3776c6d25fdd] exiting daemon
=== RUN   TestAuthZPluginV2RejectVolumeRequests
--- PASS: TestAuthZPluginV2RejectVolumeRequests (5.94s)
    daemon.go:296: [d57cfb3fb973b] waiting for daemon to start
    daemon.go:328: [d57cfb3fb973b] daemon started
    daemon.go:283: [d57cfb3fb973b] exiting daemon
    daemon.go:296: [d57cfb3fb973b] waiting for daemon to start
    daemon.go:328: [d57cfb3fb973b] daemon started
    daemon.go:283: [d57cfb3fb973b] exiting daemon
=== RUN   TestAuthZPluginV2BadManifestFailsDaemonStart
--- PASS: TestAuthZPluginV2BadManifestFailsDaemonStart (13.90s)
    daemon.go:296: [db648144d3647] waiting for daemon to start
    daemon.go:328: [db648144d3647] daemon started
    daemon.go:283: [db648144d3647] exiting daemon
    daemon.go:296: [db648144d3647] waiting for daemon to start
    daemon.go:296: [db648144d3647] waiting for daemon to start
    daemon.go:296: [db648144d3647] waiting for daemon to start
    daemon.go:283: [db648144d3647] exiting daemon
    daemon.go:328: [db648144d3647] daemon started
    daemon.go:283: [db648144d3647] exiting daemon
=== RUN   TestAuthZPluginV2NonexistentFailsDaemonStart
--- PASS: TestAuthZPluginV2NonexistentFailsDaemonStart (16.51s)
    daemon.go:296: [d6f0c2e3b0570] waiting for daemon to start
    daemon.go:328: [d6f0c2e3b0570] daemon started
    daemon.go:283: [d6f0c2e3b0570] exiting daemon
    daemon.go:296: [d6f0c2e3b0570] waiting for daemon to start
    daemon.go:296: [d6f0c2e3b0570] waiting for daemon to start
    daemon.go:296: [d6f0c2e3b0570] waiting for daemon to start
    daemon.go:328: [d6f0c2e3b0570] daemon started
    daemon.go:283: [d6f0c2e3b0570] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging
INFO: Testing against a local daemon
=== RUN   TestContinueAfterPluginCrash
=== PAUSE TestContinueAfterPluginCrash
=== RUN   TestDaemonStartWithLogOpt
=== PAUSE TestDaemonStartWithLogOpt
=== CONT  TestContinueAfterPluginCrash
=== CONT  TestDaemonStartWithLogOpt
--- PASS: TestDaemonStartWithLogOpt (14.51s)
    daemon.go:296: [d374f328f1e3a] waiting for daemon to start
    daemon.go:328: [d374f328f1e3a] daemon started
    daemon.go:283: [d374f328f1e3a] exiting daemon
    daemon.go:296: [d374f328f1e3a] waiting for daemon to start
    daemon.go:328: [d374f328f1e3a] daemon started
    daemon.go:283: [d374f328f1e3a] exiting daemon
--- PASS: TestContinueAfterPluginCrash (19.90s)
    daemon.go:296: [d771a1c314e59] waiting for daemon to start
    daemon.go:328: [d771a1c314e59] daemon started
    daemon.go:283: [d771a1c314e59] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd/close_on_start
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd/dummy
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/common
INFO: Testing against a local daemon
=== RUN   TestPluginInvalidJSON
=== RUN   TestPluginInvalidJSON//plugins/foobar/set
=== PAUSE TestPluginInvalidJSON//plugins/foobar/set
=== CONT  TestPluginInvalidJSON//plugins/foobar/set
--- PASS: TestPluginInvalidJSON (0.02s)
    --- PASS: TestPluginInvalidJSON//plugins/foobar/set (0.00s)
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes
INFO: Testing against a local daemon
=== RUN   TestPluginWithDevMounts
=== PAUSE TestPluginWithDevMounts
=== CONT  TestPluginWithDevMounts
--- PASS: TestPluginWithDevMounts (1.74s)
    daemon.go:296: [d8e4aa4a494d9] waiting for daemon to start
    daemon.go:328: [d8e4aa4a494d9] daemon started
    daemon.go:283: [d8e4aa4a494d9] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes/cmd
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes/cmd/dummy
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/graphdriver
INFO: Testing against a local daemon
=== RUN   TestExternalGraphDriver
=== RUN   TestExternalGraphDriver/json
=== RUN   TestExternalGraphDriver/spec
=== RUN   TestExternalGraphDriver/pull
--- PASS: TestExternalGraphDriver (6.97s)
    daemon.go:296: [d241cfc057b69] waiting for daemon to start
    daemon.go:328: [d241cfc057b69] daemon started
    daemon.go:283: [d241cfc057b69] exiting daemon
    daemon.go:296: [d241cfc057b69] waiting for daemon to start
    daemon.go:328: [d241cfc057b69] daemon started
    daemon.go:283: [d241cfc057b69] exiting daemon
    --- PASS: TestExternalGraphDriver/json (1.73s)
    daemon.go:296: [d241cfc057b69] waiting for daemon to start
    daemon.go:328: [d241cfc057b69] daemon started
    daemon.go:283: [d241cfc057b69] exiting daemon
    daemon.go:296: [d241cfc057b69] waiting for daemon to start
    daemon.go:328: [d241cfc057b69] daemon started
    daemon.go:283: [d241cfc057b69] exiting daemon
    --- PASS: TestExternalGraphDriver/spec (1.70s)
    daemon.go:296: [d241cfc057b69] waiting for daemon to start
    daemon.go:328: [d241cfc057b69] daemon started
    daemon.go:283: [d241cfc057b69] exiting daemon
    --- PASS: TestExternalGraphDriver/pull (3.08s)
=== RUN   TestGraphdriverPluginV2
--- PASS: TestGraphdriverPluginV2 (6.54s)
    daemon.go:296: [d532e9bcc7914] waiting for daemon to start
    daemon.go:328: [d532e9bcc7914] daemon started
    daemon.go:283: [d532e9bcc7914] exiting daemon
    daemon.go:296: [d532e9bcc7914] waiting for daemon to start
    daemon.go:328: [d532e9bcc7914] daemon started
    daemon.go:283: [d532e9bcc7914] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/config
INFO: Testing against a local daemon
=== RUN   TestConfigList
--- PASS: TestConfigList (2.06s)
    daemon.go:296: [dacdb247de2f1] waiting for daemon to start
    daemon.go:328: [dacdb247de2f1] daemon started
    daemon.go:283: [dacdb247de2f1] exiting daemon
=== RUN   TestConfigsCreateAndDelete
--- PASS: TestConfigsCreateAndDelete (2.06s)
    daemon.go:296: [da4ba6fced1db] waiting for daemon to start
    daemon.go:328: [da4ba6fced1db] daemon started
    daemon.go:283: [da4ba6fced1db] exiting daemon
=== RUN   TestConfigsUpdate
--- PASS: TestConfigsUpdate (2.05s)
    daemon.go:296: [d28ce1c83f04e] waiting for daemon to start
    daemon.go:328: [d28ce1c83f04e] daemon started
    daemon.go:283: [d28ce1c83f04e] exiting daemon
=== RUN   TestTemplatedConfig
--- PASS: TestTemplatedConfig (2.58s)
    daemon.go:296: [d376d36c1b899] waiting for daemon to start
    daemon.go:328: [d376d36c1b899] daemon started
    daemon.go:283: [d376d36c1b899] exiting daemon
=== RUN   TestConfigInspect
--- PASS: TestConfigInspect (2.17s)
    daemon.go:296: [ddbc00856cc5d] waiting for daemon to start
    daemon.go:328: [ddbc00856cc5d] daemon started
    daemon.go:283: [ddbc00856cc5d] exiting daemon
=== RUN   TestConfigCreateWithLabels
--- PASS: TestConfigCreateWithLabels (2.07s)
    daemon.go:296: [ddc4ef3fea16d] waiting for daemon to start
    daemon.go:328: [ddc4ef3fea16d] daemon started
    daemon.go:283: [ddc4ef3fea16d] exiting daemon
=== RUN   TestConfigCreateResolve
--- PASS: TestConfigCreateResolve (2.04s)
    daemon.go:296: [d30ef2b56fda6] waiting for daemon to start
    daemon.go:328: [d30ef2b56fda6] daemon started
    daemon.go:283: [d30ef2b56fda6] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/service
INFO: Testing against a local daemon
=== RUN   TestServiceCreateInit
=== RUN   TestServiceCreateInit/daemonInitDisabled
=== RUN   TestServiceCreateInit/daemonInitEnabled
--- PASS: TestServiceCreateInit (7.98s)
    --- PASS: TestServiceCreateInit/daemonInitDisabled (3.99s)
        daemon.go:296: [d05a49fcc33d9] waiting for daemon to start
        daemon.go:328: [d05a49fcc33d9] daemon started
        daemon.go:283: [d05a49fcc33d9] exiting daemon
    --- PASS: TestServiceCreateInit/daemonInitEnabled (3.97s)
        daemon.go:296: [d2e9c789da52f] waiting for daemon to start
        daemon.go:328: [d2e9c789da52f] daemon started
        daemon.go:283: [d2e9c789da52f] exiting daemon
=== RUN   TestCreateServiceMultipleTimes
--- PASS: TestCreateServiceMultipleTimes (23.78s)
    daemon.go:296: [d9958107d0b2c] waiting for daemon to start
    daemon.go:328: [d9958107d0b2c] daemon started
    daemon.go:283: [d9958107d0b2c] exiting daemon
=== RUN   TestCreateServiceConflict
--- PASS: TestCreateServiceConflict (2.07s)
    daemon.go:296: [deecc8a96c54a] waiting for daemon to start
    daemon.go:328: [deecc8a96c54a] daemon started
    daemon.go:283: [deecc8a96c54a] exiting daemon
=== RUN   TestCreateServiceMaxReplicas
--- PASS: TestCreateServiceMaxReplicas (2.82s)
    daemon.go:296: [d6ac095ad3e7b] waiting for daemon to start
    daemon.go:328: [d6ac095ad3e7b] daemon started
    daemon.go:283: [d6ac095ad3e7b] exiting daemon
=== RUN   TestCreateWithDuplicateNetworkNames
--- PASS: TestCreateWithDuplicateNetworkNames (12.95s)
    daemon.go:296: [d02b888d9a086] waiting for daemon to start
    daemon.go:328: [d02b888d9a086] daemon started
    daemon.go:283: [d02b888d9a086] exiting daemon
=== RUN   TestCreateServiceSecretFileMode
--- PASS: TestCreateServiceSecretFileMode (2.46s)
    daemon.go:296: [de1259b4e5ae7] waiting for daemon to start
    daemon.go:328: [de1259b4e5ae7] daemon started
    daemon.go:283: [de1259b4e5ae7] exiting daemon
=== RUN   TestCreateServiceConfigFileMode
--- PASS: TestCreateServiceConfigFileMode (2.66s)
    daemon.go:296: [d7ffb78f7fd22] waiting for daemon to start
    daemon.go:328: [d7ffb78f7fd22] daemon started
    daemon.go:283: [d7ffb78f7fd22] exiting daemon
=== RUN   TestCreateServiceSysctls
--- PASS: TestCreateServiceSysctls (3.17s)
    daemon.go:296: [d479efa13ba7d] waiting for daemon to start
    daemon.go:328: [d479efa13ba7d] daemon started
    daemon.go:283: [d479efa13ba7d] exiting daemon
=== RUN   TestInspect
--- PASS: TestInspect (2.17s)
    daemon.go:296: [d90cbec9b3536] waiting for daemon to start
    daemon.go:328: [d90cbec9b3536] daemon started
    daemon.go:283: [d90cbec9b3536] exiting daemon
=== RUN   TestDockerNetworkConnectAlias
--- PASS: TestDockerNetworkConnectAlias (3.98s)
    daemon.go:296: [d275fd750a906] waiting for daemon to start
    daemon.go:328: [d275fd750a906] daemon started
    daemon.go:283: [d275fd750a906] exiting daemon
=== RUN   TestServicePlugin
--- PASS: TestServicePlugin (35.14s)
    daemon.go:296: [dbfd381effac8] waiting for daemon to start
    daemon.go:328: [dbfd381effac8] daemon started
    daemon.go:283: [dbfd381effac8] exiting daemon
    daemon.go:296: [d02e41d13b346] waiting for daemon to start
    daemon.go:328: [d02e41d13b346] daemon started
    daemon.go:296: [da64804925781] waiting for daemon to start
    daemon.go:328: [da64804925781] daemon started
    daemon.go:296: [d5c0913d2470b] waiting for daemon to start
    daemon.go:328: [d5c0913d2470b] daemon started
    daemon.go:283: [d5c0913d2470b] exiting daemon
    daemon.go:283: [da64804925781] exiting daemon
    daemon.go:283: [d02e41d13b346] exiting daemon
=== RUN   TestServiceUpdateLabel
--- PASS: TestServiceUpdateLabel (2.10s)
    daemon.go:296: [d7db8be0fd29d] waiting for daemon to start
    daemon.go:328: [d7db8be0fd29d] daemon started
    daemon.go:283: [d7db8be0fd29d] exiting daemon
=== RUN   TestServiceUpdateSecrets
--- PASS: TestServiceUpdateSecrets (14.50s)
    daemon.go:296: [deba8ba12956d] waiting for daemon to start
    daemon.go:328: [deba8ba12956d] daemon started
    daemon.go:283: [deba8ba12956d] exiting daemon
=== RUN   TestServiceUpdateConfigs
--- PASS: TestServiceUpdateConfigs (14.60s)
    daemon.go:296: [d7bee7915de78] waiting for daemon to start
    daemon.go:328: [d7bee7915de78] daemon started
    daemon.go:283: [d7bee7915de78] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/network
INFO: Testing against a local daemon
=== RUN   TestNetworkCreateDelete
--- PASS: TestNetworkCreateDelete (0.13s)
=== RUN   TestDockerNetworkDeletePreferID
--- PASS: TestDockerNetworkDeletePreferID (0.27s)
=== RUN   TestInspectNetwork
--- PASS: TestInspectNetwork (24.71s)
    daemon.go:296: [d30be6d285fb0] waiting for daemon to start
    daemon.go:328: [d30be6d285fb0] daemon started
    daemon.go:283: [d30be6d285fb0] exiting daemon
=== RUN   TestRunContainerWithBridgeNone
--- PASS: TestRunContainerWithBridgeNone (1.99s)
    daemon.go:296: [d1314f58444b5] waiting for daemon to start
    daemon.go:328: [d1314f58444b5] daemon started
    daemon.go:283: [d1314f58444b5] exiting daemon
=== RUN   TestNetworkInvalidJSON
=== RUN   TestNetworkInvalidJSON//networks/create
=== PAUSE TestNetworkInvalidJSON//networks/create
=== RUN   TestNetworkInvalidJSON//networks/bridge/connect
=== PAUSE TestNetworkInvalidJSON//networks/bridge/connect
=== RUN   TestNetworkInvalidJSON//networks/bridge/disconnect
=== PAUSE TestNetworkInvalidJSON//networks/bridge/disconnect
=== CONT  TestNetworkInvalidJSON//networks/create
=== CONT  TestNetworkInvalidJSON//networks/bridge/disconnect
=== CONT  TestNetworkInvalidJSON//networks/bridge/connect
--- PASS: TestNetworkInvalidJSON (0.04s)
    --- PASS: TestNetworkInvalidJSON//networks/bridge/disconnect (0.00s)
    --- PASS: TestNetworkInvalidJSON//networks/create (0.00s)
    --- PASS: TestNetworkInvalidJSON//networks/bridge/connect (0.00s)
=== RUN   TestDaemonRestartWithLiveRestore
--- PASS: TestDaemonRestartWithLiveRestore (1.02s)
    daemon.go:296: [d0983351b001d] waiting for daemon to start
    daemon.go:328: [d0983351b001d] daemon started
    daemon.go:283: [d0983351b001d] exiting daemon
    daemon.go:296: [d0983351b001d] waiting for daemon to start
    daemon.go:328: [d0983351b001d] daemon started
    daemon.go:283: [d0983351b001d] exiting daemon
=== RUN   TestDaemonDefaultNetworkPools
--- PASS: TestDaemonDefaultNetworkPools (0.65s)
    daemon.go:296: [df97902d55f38] waiting for daemon to start
    daemon.go:328: [df97902d55f38] daemon started
    daemon.go:283: [df97902d55f38] exiting daemon
=== RUN   TestDaemonRestartWithExistingNetwork
--- PASS: TestDaemonRestartWithExistingNetwork (1.15s)
    daemon.go:296: [d72f3fdc43e0e] waiting for daemon to start
    daemon.go:328: [d72f3fdc43e0e] daemon started
    daemon.go:283: [d72f3fdc43e0e] exiting daemon
    daemon.go:296: [d72f3fdc43e0e] waiting for daemon to start
    daemon.go:328: [d72f3fdc43e0e] daemon started
    daemon.go:283: [d72f3fdc43e0e] exiting daemon
=== RUN   TestDaemonRestartWithExistingNetworkWithDefaultPoolRange
--- PASS: TestDaemonRestartWithExistingNetworkWithDefaultPoolRange (1.17s)
    daemon.go:296: [d1d22efa2bbc6] waiting for daemon to start
    daemon.go:328: [d1d22efa2bbc6] daemon started
    daemon.go:283: [d1d22efa2bbc6] exiting daemon
    daemon.go:296: [d1d22efa2bbc6] waiting for daemon to start
    daemon.go:328: [d1d22efa2bbc6] daemon started
    daemon.go:283: [d1d22efa2bbc6] exiting daemon
=== RUN   TestDaemonWithBipAndDefaultNetworkPool
--- PASS: TestDaemonWithBipAndDefaultNetworkPool (0.55s)
    daemon.go:296: [dd519cbd61493] waiting for daemon to start
    daemon.go:328: [dd519cbd61493] daemon started
    daemon.go:283: [dd519cbd61493] exiting daemon
=== RUN   TestServiceWithPredefinedNetwork
--- PASS: TestServiceWithPredefinedNetwork (2.09s)
    daemon.go:296: [d2d15f0a70c66] waiting for daemon to start
    daemon.go:328: [d2d15f0a70c66] daemon started
    daemon.go:283: [d2d15f0a70c66] exiting daemon
=== RUN   TestServiceRemoveKeepsIngressNetwork
--- PASS: TestServiceRemoveKeepsIngressNetwork (12.05s)
    daemon.go:296: [d115e79c1240c] waiting for daemon to start
    daemon.go:328: [d115e79c1240c] daemon started
    daemon.go:283: [d115e79c1240c] exiting daemon
=== RUN   TestServiceWithDataPathPortInit
--- PASS: TestServiceWithDataPathPortInit (4.11s)
    daemon.go:296: [da73d6ec967ae] waiting for daemon to start
    daemon.go:328: [da73d6ec967ae] daemon started
    daemon.go:283: [da73d6ec967ae] exiting daemon
    daemon.go:296: [d3758c1df3244] waiting for daemon to start
    daemon.go:328: [d3758c1df3244] daemon started
    daemon.go:283: [d3758c1df3244] exiting daemon
=== RUN   TestServiceWithDefaultAddressPoolInit
--- FAIL: TestServiceWithDefaultAddressPoolInit (1.31s)
    daemon.go:296: [d90089e10535c] waiting for daemon to start
    daemon.go:328: [d90089e10535c] daemon started
    service_test.go:420: TestServiceWithDefaultAddressPoolInit: NetworkInspect: {Name:saanvisthiraTestServiceWithDefaultAddressPoolInit ID:nhjogu5xxmsfuin33dugighfa Created:2019-01-10 02:19:39.709054663 +0000 UTC Scope:swarm Driver: EnableIPv6:false IPAM:{Driver: Options:map[] Config:[]} Internal:false Attachable:false Ingress:false ConfigFrom:{Network:} ConfigOnly:false Containers:map[] Options:map[] Labels:map[] Peers:[] Services:map[]}
    service_test.go:421: assertion failed: expression is false: len(out.IPAM.Config) > 0
FAIL
---> Making bundle: .integration-daemon-stop (in bundles/test-integration)
/go/src/github.com/docker/docker/hack/make/.integration-daemon-stop: line 10: wait: pid 11488 is not a child of this shell
warning: PID 11488 from bundles/test-integration/d90089e10535c/docker.pid had a nonzero exit code
Clearing AppArmor profiles cache:.
All profile caches have been cleared, but no profiles have been unloaded.
Unloading profiles will leave already running processes permanently
unconfined, which can lead to unexpected situations.

To set a process to complain mode, use the command line tool
'aa-complain'. To really tear down all profiles, run the init script
with the 'teardown' option."
Removing test suite binaries
Build step 'Execute shell' marked build as failure
Set build name.
New build name is '#38527'
[PostBuildScript] - Executing post build scripts.
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins8368395532505039590.sh
+ echo Ensuring container killed.
Ensuring container killed.
+ docker rm -vf docker-pr52492
Error: No such container: docker-pr52492
+ true
+ echo Chowning /workspace to jenkins user
Chowning /workspace to jenkins user
+ id -u
+ id -g
+ docker run --rm -v /home/ubuntu/workspace/Docker-PRs:/workspace busybox chown -R 1000:1000 /workspace
[Docker-PRs] $ /bin/sh -xe /tmp/jenkins8368681920681880539.sh
+ echo Creating bundles.tar.gz
Creating bundles.tar.gz
+ xargs tar -czf bundles.tar.gz
+ find bundles -name *.log -o -name *.prof -o -name integration.test
Archiving artifacts
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[WS-CLEANUP] Deleting project workspace...[WS-CLEANUP] done
Finished: FAILURE
