Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on azure-windows-rs5-2 (windows-rs5) in workspace /gopath/src/github.com/docker/docker
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init C:\gopath\src\github.com\docker\docker # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse "origin/master^{commit}" # timeout=10
Checking out Revision de640c9f4932d851316a0a72470c4d3446f6f5ac (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f de640c9f4932d851316a0a72470c4d3446f6f5ac
Commit message: "Merge pull request #38038 from AkihiroSuda/ubuntu-overlayfs"
 > git rev-list --no-walk de640c9f4932d851316a0a72470c4d3446f6f5ac # timeout=10
Set build name.
New build name is '#38465'
[docker] $ sh -xe C:\Users\jenkins\jenkins4090028795370838680.sh
+ git fetch origin +refs/pull/38465/head:refs/remotes/origin/pr/38465
From https://github.com/moby/moby
 * [new ref]               refs/pull/38465/head -> origin/pr/38465
+ git merge origin/pr/38465
Merge made by the 'recursive' strategy.
 Dockerfile.windows              |  2 +-
 text.txt                        |  1 +
 volume/mounts/lcow_parser.go    |  4 ++--
 volume/mounts/linux_parser.go   |  1 +
 volume/mounts/parser_test.go    | 40 ++++++++++++++++++++--------------------
 volume/mounts/windows_parser.go | 38 +++++++++++++++++++++++---------------
 6 files changed, 48 insertions(+), 38 deletions(-)
 create mode 100644 text.txt
[docker] $ powershell.exe -NonInteractive -ExecutionPolicy ByPass "& 'C:\Users\jenkins\jenkins4101448218554737689.ps1'"

INFO: executeCI.ps1 starting at Fri Jan  4 16:57:00 CUT 2019

INFO: Script version 28-Aug-2018 09:33 PDT
INFO: Running git version 2.18.0.windows.1
INFO: Branch:rs5_release_svc_prod1 Build:17763.253.181231-1749
INFO: Environment variables:

Name                           Value                                                                                   
----                           -----                                                                                   
_                              /cygdrive/c/ProgramData/Oracle/Java/javapath/java                                       
ALLUSERSPROFILE                C:\ProgramData                                                                          
APPDATA                        C:\Users\jenkins\AppData\Roaming                                                        
BASE_BRANCH                    master                                                                                  
BUILD_CAUSE                    MANUALTRIGGER                                                                           
BUILD_CAUSE_MANUALTRIGGER      true                                                                                    
BUILD_DISPLAY_NAME             #38465                                                                                  
BUILD_ID                       991                                                                                     
BUILD_NUMBER                   991                                                                                     
BUILD_TAG                      jenkins-Docker-PRs-WoW-RS5-Process-991                                                  
BUILD_URL                      https://jenkins.dockerproject.org/job/Docker-PRs-WoW-RS5-Process/991/                   
CommonProgramFiles             C:\Program Files\Common Files                                                           
CommonProgramFiles(x86)        C:\Program Files (x86)\Common Files                                                     
CommonProgramW6432             C:\Program Files\Common Files                                                           
COMPUTERNAME                   jenkins-rs5-2                                                                           
COMSPEC                        C:\Windows\system32\cmd.exe                                                             
ConfigSet                      rs                                                                                      
CYGWIN                         binmode ntsec                                                                           
DriverData                     C:\Windows\System32\Drivers\DriverData                                                  
EXECUTOR_NUMBER                0                                                                                       
GIT_AUTHOR_EMAIL               janky@dockerproject.org                                                                 
GIT_AUTHOR_NAME                Docker Jenkins                                                                          
GIT_BASE_REPO                  moby/moby                                                                               
GIT_BRANCH                     origin/master                                                                           
GIT_COMMIT                     de640c9f4932d851316a0a72470c4d3446f6f5ac                                                
GIT_COMMITTER_EMAIL            janky@dockerproject.org                                                                 
GIT_COMMITTER_NAME             Docker Jenkins                                                                          
GIT_HEAD_REPO                  steveazz/moby                                                                           
GIT_PREVIOUS_COMMIT            de640c9f4932d851316a0a72470c4d3446f6f5ac                                                
GIT_PREVIOUS_SUCCESSFUL_COMMIT de640c9f4932d851316a0a72470c4d3446f6f5ac                                                
GIT_SHA1                       287ec4690d9ca4b69ed6b049967d61276ba315e5                                                
GIT_URL                        https://github.com/moby/moby.git                                                        
GITHUB_URL                     https://github.com/moby/moby/pull/38465                                                 
HOME                           C:\cygwin\home\jenkins                                                                  
HOMEDRIVE                      C:                                                                                      
HOMEPATH                       \cygwin\home\jenkins                                                                    
HUDSON_COOKIE                  a603e358-f0ef-4b42-aed8-8903bbd521ef                                                    
HUDSON_HOME                    /var/jenkins_home                                                                       
HUDSON_SERVER_COOKIE           5654907fc74b1465                                                                        
HUDSON_URL                     https://jenkins.dockerproject.org/                                                      
JENKINS_HOME                   /var/jenkins_home                                                                       
JENKINS_SERVER_COOKIE          5654907fc74b1465                                                                        
JENKINS_URL                    https://jenkins.dockerproject.org/                                                      
JOB_BASE_NAME                  Docker-PRs-WoW-RS5-Process                                                              
JOB_DISPLAY_URL                https://jenkins.dockerproject.org/job/Docker-PRs-WoW-RS5-Process/display/redirect       
JOB_NAME                       Docker-PRs-WoW-RS5-Process                                                              
JOB_URL                        https://jenkins.dockerproject.org/job/Docker-PRs-WoW-RS5-Process/                       
LOCALAPPDATA                   C:\Users\jenkins\AppData\Local                                                          
LOGNAME                        jenkins                                                                                 
LOGONSERVER                    \\jenkins-rs5-2                                                                         
MAIL                           /var/spool/mail//jenkins                                                                
NODE_LABELS                    azure-windows-rs5-2 windows-rs5                                                         
NODE_NAME                      azure-windows-rs5-2                                                                     
NUMBER_OF_PROCESSORS           4                                                                                       
OLDPWD                         /home/jenkins                                                                           
OS                             Windows_NT                                                                              
PATH                           C:\cygwin\bin;C:\ProgramData\Oracle\Java\javapath;C:\pstools;C:\Program Files\Notepad...
PATHEXT                        .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL                              
PR                             38465                                                                                   
PROCESSOR_ARCHITECTURE         AMD64                                                                                   
PROCESSOR_IDENTIFIER           Intel64 Family 6 Model 79 Stepping 1, GenuineIntel                                      
PROCESSOR_LEVEL                6                                                                                       
PROCESSOR_REVISION             4f01                                                                                    
ProgramData                    C:\ProgramData                                                                          
PROGRAMFILES                   C:\Program Files                                                                        
ProgramFiles(x86)              C:\Program Files (x86)                                                                  
ProgramW6432                   C:\Program Files                                                                        
PSExecutionPolicyPreference    Bypass                                                                                  
PSModulePath                   C:\Users\jenkins\Documents\WindowsPowerShell\Modules;C:\Program Files\WindowsPowerShe...
PUBLIC                         C:\Users\Public                                                                         
PWD                            /cygdrive/c/workspace                                                                   
ROOT_BUILD_CAUSE               MANUALTRIGGER                                                                           
ROOT_BUILD_CAUSE_MANUALTRIGGER true                                                                                    
RUN_CHANGES_DISPLAY_URL        https://jenkins.dockerproject.org/job/Docker-PRs-WoW-RS5-Process/991/display/redirect...
RUN_DISPLAY_URL                https://jenkins.dockerproject.org/job/Docker-PRs-WoW-RS5-Process/991/display/redirect   
SHELL                          /bin/bash                                                                               
SHLVL                          1                                                                                       
SOURCES_DRIVE                  c                                                                                       
SOURCES_SUBDIR                 gopath                                                                                  
SSH_CLIENT                     52.88.204.51 31311 22                                                                   
SSH_CONNECTION                 52.88.204.51 31311 10.0.0.21 22                                                         
SYSTEMDRIVE                    C:                                                                                      
SYSTEMROOT                     C:\Windows                                                                              
TEMP                           d:\temp                                                                                 
TESTRUN_DRIVE                  d                                                                                       
TESTRUN_SUBDIR                 CI                                                                                      
USER                           jenkins                                                                                 
USERDOMAIN                     jenkins-rs5-2                                                                           
USERDOMAIN_ROAMINGPROFILE      jenkins-rs5-2                                                                           
USERNAME                       jenkins                                                                                 
USERPROFILE                    C:\Users\jenkins                                                                        
WINDIR                         C:\Windows                                                                              
WORKSPACE                      /gopath/src/github.com/docker/docker                                                    



INFO: PR#38465 (https://github.com/docker/docker/pull/38465)
INFO: Sources under c:\gopath\...
INFO: Test run under d:\CI\...
INFO: Running in C:\gopath\src\github.com\docker\docker
INFO: docker/docker repository was found
INFO: Image microsoft/windowsservercore:latest is already loaded in the control daemon
INFO: Version of microsoft/windowsservercore:latest is '10.0.17763.253'
INFO: Docker version of control daemon

Client:
 Version:           master-dockerproject-2019-01-02
 API version:       1.40
 Go version:        go1.11.2
 Git commit:        4eab3cd1
 Built:             Wed Jan  2 23:50:37 2019
 OS/Arch:           windows/amd64
 Experimental:      false

Server:
 Engine:
  Version:          master-dockerproject-2019-01-02
  API version:      1.40 (minimum version 1.24)
  Go version:       go1.11.4
  Git commit:       e0e9942
  Built:            Wed Jan  2 23:58:00 2019
  OS/Arch:          windows/amd64
  Experimental:     false

INFO: Docker info of control daemon

Containers: 2
 Running: 0
 Paused: 0
 Stopped: 2
Images: 8
Server Version: master-dockerproject-2019-01-02
Storage Driver: windowsfilter
 Windows: 
Logging Driver: json-file
Plugins:
 Volume: local
 Network: ics l2bridge l2tunnel nat null overlay transparent
 Log: awslogs etwlogs fluentd gcplogs gelf json-file local logentries splunk syslog
Swarm: inactive
Default Isolation: process
Kernel Version: 10.0 17763 (17763.253.amd64fre.rs5_release_svc_prod1.181231-1749)
Operating System: Windows Server 2019 Datacenter Version 1809 (OS Build 17763.253)
OSType: windows
Architecture: x86_64
CPUs: 4
Total Memory: 16GiB
Name: jenkins-rs5-2
ID: GCV6:RAZX:OMQO:Y3MN:PCJN:B2DS:UA7O:SGDE:QMS3:SZ34:5HGV:76WS
Docker Root Dir: D:\control
Debug Mode (client): false
Debug Mode (server): false
Registry: https://index.docker.io/v1/
Labels:
Experimental: false
Insecure Registries:
 127.0.0.0/8
Live Restore Enabled: false


INFO: Commit hash is 32153b54d5
INFO: Nuke-Everything...
INFO: Container count on control daemon to delete is 2
643e8274b7ef
d4eef436ab1b
INFO: Non-base image count on control daemon to delete is 1
Deleted: sha256:cc859d97bde18e0444707d4f57b858f752f11d8a2f24a13c0fc7fd57805a9f3c
Deleted: sha256:1783958738929961e93ef9abc6b9642c26afa971e2035c6182d392dc0899f44e
INFO: Nuking d:\CI
ERROR:  hcsshim::DestroyLayer - Win32 API call returned error r1=0x80070020 err=The process cannot access the file because it is being used by another process.id=CI flavour=0
INFO: Location for testing is d:\CI\CI-32153b54d5
INFO: Validating GOLang consistency in Dockerfile.windows...


INFO: Building the image from Dockerfile.windows at 01/04/2019 16:57:05...

Sending build context to Docker daemon   46.4MB

Step 1/7 : FROM mcr.microsoft.com/windows/servercore:ltsc2019
ltsc2019: Pulling from windows/servercore
65014b3c3121: Pulling fs layer
783e312e2ddb: Pulling fs layer
783e312e2ddb: Verifying Checksum
783e312e2ddb: Download complete
65014b3c3121: Verifying Checksum
65014b3c3121: Download complete
65014b3c3121: Pull complete
783e312e2ddb: Pull complete
Digest: sha256:e2438581e5c4950f9a1510d910ba959e84779335984adafdebaf36573db5c805
Status: Downloaded newer image for mcr.microsoft.com/windows/servercore:ltsc2019
 ---> c4a3c8fae4b6
Step 2/7 : SHELL ["powershell", "-Command", "$ErrorActionPreference = 'Stop'; $ProgressPreference = 'SilentlyContinue';"]
 ---> Running in c89ad4eea6ee
Removing intermediate container c89ad4eea6ee
 ---> 2b2f9e102190
Step 3/7 : ENV GO_VERSION=1.11.4     GIT_VERSION=2.11.1     GOPATH=C:\go     FROM_DOCKERFILE=1
 ---> Running in 487238311cca
Removing intermediate container 487238311cca
 ---> ed8907aa220e
Step 4/7 : RUN   Function Test-Nano() {     $EditionId = (Get-ItemProperty -Path 'HKLM:\SOFTWARE\Microsoft\Windows NT\CurrentVersion' -Name 'EditionID').EditionId;     return (($EditionId -eq 'ServerStandardNano') -or ($EditionId -eq 'ServerDataCenterNano') -or ($EditionId -eq 'NanoServer'));   }    Function Download-File([string] $source, [string] $target) {     if (Test-Nano) {       $handler = New-Object System.Net.Http.HttpClientHandler;       $client = New-Object System.Net.Http.HttpClient($handler);       $client.Timeout = New-Object System.TimeSpan(0, 30, 0);       $cancelTokenSource = [System.Threading.CancellationTokenSource]::new();       $responseMsg = $client.GetAsync([System.Uri]::new($source), $cancelTokenSource.Token);       $responseMsg.Wait();       if (!$responseMsg.IsCanceled) {         $response = $responseMsg.Result;         if ($response.IsSuccessStatusCode) {           $downloadedFileStream = [System.IO.FileStream]::new($target, [System.IO.FileMode]::Create, [System.IO.FileAccess]::Write);           $copyStreamOp = $response.Content.CopyToAsync($downloadedFileStream);           $copyStreamOp.Wait();           $downloadedFileStream.Close();           if ($copyStreamOp.Exception -ne $null) { throw $copyStreamOp.Exception }         }       } else {       Throw ("Failed to download " + $source)       }    } else {       $webClient = New-Object System.Net.WebClient;       $webClient.DownloadFile($source, $target);     }   }     setx /M PATH $('C:\git\cmd;C:\git\usr\bin;'+$Env:PATH+';C:\gcc\bin;C:\go\bin');     Write-Host INFO: Downloading git...;   $location='https://www.nuget.org/api/v2/package/GitForWindows/'+$Env:GIT_VERSION;   Download-File $location C:\gitsetup.zip;     Write-Host INFO: Downloading go...;   Download-File $('https://golang.org/dl/go'+$Env:GO_VERSION+'.windows-amd64.zip') C:\go.zip;     Write-Host INFO: Downloading compiler 1 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/gcc.zip C:\gcc.zip;     Write-Host INFO: Downloading compiler 2 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/runtime.zip C:\runtime.zip;     Write-Host INFO: Downloading compiler 3 of 3...;   Download-File https://raw.githubusercontent.com/jhowardmsft/docker-tdmgcc/master/binutils.zip C:\binutils.zip;     Write-Host INFO: Extracting git...;   Expand-Archive C:\gitsetup.zip C:\git-tmp;   New-Item -Type Directory C:\git | Out-Null;   Move-Item C:\git-tmp\tools\* C:\git\.;   Remove-Item -Recurse -Force C:\git-tmp;     Write-Host INFO: Expanding go...;   Expand-Archive C:\go.zip -DestinationPath C:\;     Write-Host INFO: Expanding compiler 1 of 3...;   Expand-Archive C:\gcc.zip -DestinationPath C:\gcc -Force;   Write-Host INFO: Expanding compiler 2 of 3...;   Expand-Archive C:\runtime.zip -DestinationPath C:\gcc -Force;   Write-Host INFO: Expanding compiler 3 of 3...;   Expand-Archive C:\binutils.zip -DestinationPath C:\gcc -Force;     Write-Host INFO: Removing downloaded files...;   Remove-Item C:\gcc.zip;   Remove-Item C:\runtime.zip;   Remove-Item C:\binutils.zip;   Remove-Item C:\gitsetup.zip;     Write-Host INFO: Creating source directory...;   New-Item -ItemType Directory -Path C:\go\src\github.com\docker\docker | Out-Null;     Write-Host INFO: Configuring git core.autocrlf...;   C:\git\cmd\git config --global core.autocrlf true;     Write-Host INFO: Completed
 ---> Running in ad2e567e5906

SUCCESS: Specified value was saved.
INFO: Downloading git...
INFO: Downloading go...
INFO: Downloading compiler 1 of 3...
INFO: Downloading compiler 2 of 3...
INFO: Downloading compiler 3 of 3...
INFO: Extracting git...
INFO: Expanding go...
INFO: Expanding compiler 1 of 3...
INFO: Expanding compiler 2 of 3...
INFO: Expanding compiler 3 of 3...
INFO: Removing downloaded files...
INFO: Creating source directory...
INFO: Configuring git core.autocrlf...
INFO: Completed
Removing intermediate container ad2e567e5906
 ---> 310090518df0
Step 5/7 : ENTRYPOINT ["powershell.exe"]
 ---> Running in b4f238d1c4dd
Removing intermediate container b4f238d1c4dd
 ---> b1cb3c75960d
Step 6/7 : WORKDIR C:\go\src\github.com\docker\docker
 ---> Running in 3ee2dde622f2
Removing intermediate container 3ee2dde622f2
 ---> 1203035f381e
Step 7/7 : COPY . .
 ---> 7d9cc8b9a49e
Successfully built 7d9cc8b9a49e
Successfully tagged docker:latest
INFO: Image build ended at 01/04/2019 17:07:17. Duration:00:10:12.3921681


INFO: Building the test binaries at 01/04/2019 17:07:17...
INFO: make.ps1 starting at 01/04/2019 17:07:21
INFO: Git commit (32153b54d5) assumed from DOCKER_GITCOMMIT environment variable
INFO: Invoking autogen...
INFO: Building daemon...
INFO: Downloading docker/cli version 17.06.0-ce from edge...

 ________   ____  __.
 \_____  \ |    |/ _|
 /   |   \|      <
 /    |    \    |  \
 \_______  /____|__ \
         \/        \/

INFO: make.ps1 ended at 01/04/2019 17:08:26
INFO: Binaries build ended at 01/04/2019 17:08:28. Duration:00:01:10.3688858
INFO: Copying the built daemon binary to d:\CI\CI-32153b54d5\binary\dockerd-32153b54d5.exe...
INFO: Copying the built client binary to d:\CI\CI-32153b54d5\binary\docker-32153b54d5.exe...
INFO: Copying dockerversion from the container...
INFO: Copying the golang package from the container to d:\CI\CI-32153b54d5\installer\go.zip...
INFO: Extracting go.zip to d:\CI\CI-32153b54d5\go
INFO: Extraction ended at 01/04/2019 17:08:54. Duration:00:00:23.3229964
INFO: Updating the golang and path environment variables
INFO: GOPATH=c:\gopath
INFO: go version go1.11.4 windows/amd64
INFO: Starting a daemon under test...
INFO: Args: -H tcp://0.0.0.0:2357 --data-root d:\CI\CI-32153b54d5\daemon --pidfile d:\CI\CI-32153b54d5\docker.pid
INFO: Process started successfully.
INFO: Waiting for the daemon under test to start...
INFO: Daemon under test started and replied!
INFO: Docker version of the daemon under test

Client:
 Version:      17.06.0-ce
 API version:  1.30
 Go version:   go1.8.3
 Git commit:   02c1d87
 Built:        Fri Jun 23 21:30:30 2017
 OS/Arch:      windows/amd64

Server:
 Version:      0.0.0-dev
 API version:  1.40 (minimum version 1.24)
 Go version:   go1.11.4
 Git commit:   32153b54d5
 Built:        01/04/2019 17:07:21
 OS/Arch:      windows/amd64
 Experimental: false

INFO: Docker info of the daemon under test

Containers: 0
 Running: 0
 Paused: 0
 Stopped: 0
Images: 0
Server Version: 0.0.0-dev
Storage Driver: windowsfilter
 Windows: 
Logging Driver: json-file
Plugins: 
 Volume: local
 Network: ics l2bridge l2tunnel nat null overlay transparent
 Log: awslogs etwlogs fluentd gcplogs gelf json-file local logentries splunk syslog
Swarm: inactive
Default Isolation: process
Kernel Version: 10.0 17763 (17763.253.amd64fre.rs5_release_svc_prod1.181231-1749)
Operating System: Windows Server 2019 Datacenter Version 1809 (OS Build 17763.253)
OSType: windows
Architecture: x86_64
CPUs: 4
Total Memory: 16GiB
Name: jenkins-rs5-2
ID: HEXY:UQZL:NRWI:DBAU:FNPP:JUOP:WDAZ:76JH:3U7D:T7CO:OPGA:QH7H
Docker Root Dir: D:\CI\CI-32153b54d5\daemon
Debug Mode (client): false
Debug Mode (server): false
Registry: https://index.docker.io/v1/
Labels:
Experimental: false
Insecure Registries:
 127.0.0.0/8
Live Restore Enabled: false


INFO: Docker images of the daemon under test

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE

INFO: Base image for tests is microsoft/windowsservercore
INFO: Loading windowsservercore .tar from disk into the daemon under test. This may take some time...
Loaded image: microsoft/windowsservercore:10.0.17763.253
Loaded image: microsoft/windowsservercore:latest
INFO: docker load of windowsservercore  into daemon under test completed successfully
INFO: Version of microsoft/windowsservercore:latest is '10.0.17763.253'
INFO: Running validation tests at 01/04/2019 17:12:31...
INFO: make.ps1 starting at 01/04/2019 17:12:31
INFO: Validating Developer Certificate of Origin...
Congratulations!  All commits are properly signed with the DCO!
INFO: Validating go formatting on changed files...
Checking volume\mounts\lcow_parser.go
Checking volume\mounts\linux_parser.go
Checking volume\mounts\parser_test.go
d:\CI\CI-32153b54d5\tmp162A.tmp
Checking volume\mounts\windows_parser.go
Congratulations!  All Go source files are properly formatted.
INFO: Validating pkg import isolation...
Congratulations!  ".\pkg\*.go" is safely isolated from internal code.
INFO: make.ps1 ended at 01/04/2019 17:12:32
INFO: Validation tests ended at 01/04/2019 17:12:32. Duration:00:00:01.5717661
INFO: Running unit tests at 01/04/2019 17:12:32...
INFO: make.ps1 starting at 01/04/2019 17:12:36
INFO: Git commit (32153b54d5) assumed from DOCKER_GITCOMMIT environment variable
INFO: Invoking autogen...
INFO: Running unit tests...
?   	github.com/docker/docker/api	[no test files]
ok  	github.com/docker/docker/api/server	0.073s	coverage: 7.9% of statements
?   	github.com/docker/docker/api/server/backend/build	[no test files]
ok  	github.com/docker/docker/api/server/httputils	0.071s	coverage: 11.1% of statements
ok  	github.com/docker/docker/api/server/middleware	0.087s	coverage: 43.4% of statements
?   	github.com/docker/docker/api/server/router	[no test files]
?   	github.com/docker/docker/api/server/router/build	[no test files]
?   	github.com/docker/docker/api/server/router/checkpoint	[no test files]
?   	github.com/docker/docker/api/server/router/container	[no test files]
?   	github.com/docker/docker/api/server/router/debug	[no test files]
?   	github.com/docker/docker/api/server/router/distribution	[no test files]
?   	github.com/docker/docker/api/server/router/image	[no test files]
?   	github.com/docker/docker/api/server/router/network	[no test files]
?   	github.com/docker/docker/api/server/router/plugin	[no test files]
?   	github.com/docker/docker/api/server/router/session	[no test files]
?   	github.com/docker/docker/api/server/router/swarm	[no test files]
?   	github.com/docker/docker/api/server/router/system	[no test files]
?   	github.com/docker/docker/api/server/router/volume	[no test files]
?   	github.com/docker/docker/api/types	[no test files]
?   	github.com/docker/docker/api/types/backend	[no test files]
?   	github.com/docker/docker/api/types/blkiodev	[no test files]
?   	github.com/docker/docker/api/types/container	[no test files]
?   	github.com/docker/docker/api/types/events	[no test files]
ok  	github.com/docker/docker/api/types/filters	0.041s	coverage: 94.2% of statements
?   	github.com/docker/docker/api/types/image	[no test files]
?   	github.com/docker/docker/api/types/mount	[no test files]
?   	github.com/docker/docker/api/types/network	[no test files]
?   	github.com/docker/docker/api/types/plugins/logdriver	[no test files]
?   	github.com/docker/docker/api/types/registry	[no test files]
ok  	github.com/docker/docker/api/types/strslice	0.083s	coverage: 90.0% of statements
?   	github.com/docker/docker/api/types/swarm	[no test files]
?   	github.com/docker/docker/api/types/swarm/runtime	[no test files]
ok  	github.com/docker/docker/api/types/time	0.337s	coverage: 100.0% of statements
ok  	github.com/docker/docker/api/types/versions	0.065s	coverage: 75.0% of statements
?   	github.com/docker/docker/api/types/versions/v1p19	[no test files]
?   	github.com/docker/docker/api/types/versions/v1p20	[no test files]
?   	github.com/docker/docker/api/types/volume	[no test files]
?   	github.com/docker/docker/autogen/winresources/docker	[no test files]
?   	github.com/docker/docker/autogen/winresources/dockerd	[no test files]
?   	github.com/docker/docker/builder	[no test files]
?   	github.com/docker/docker/builder/builder-next	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/containerimage	[no test files]
?   	github.com/docker/docker/builder/builder-next/adapters/snapshot	[no test files]
?   	github.com/docker/docker/builder/builder-next/exporter	[no test files]
?   	github.com/docker/docker/builder/builder-next/imagerefchecker	[no test files]
?   	github.com/docker/docker/builder/builder-next/worker	[no test files]
ok  	github.com/docker/docker/builder/dockerfile	0.189s	coverage: 43.2% of statements
ok  	github.com/docker/docker/builder/dockerignore	0.037s	coverage: 96.8% of statements
ok  	github.com/docker/docker/builder/fscache	0.530s	coverage: 69.2% of statements
ok  	github.com/docker/docker/builder/remotecontext	0.540s	coverage: 9.3% of statements
ok  	github.com/docker/docker/builder/remotecontext/git	29.023s	coverage: 78.8% of statements
?   	github.com/docker/docker/cli	[no test files]
?   	github.com/docker/docker/cli/config	[no test files]
ok  	github.com/docker/docker/cli/debug	0.062s	coverage: 100.0% of statements
ok  	github.com/docker/docker/client	0.326s	coverage: 75.1% of statements
ok  	github.com/docker/docker/cmd/dockerd	0.177s	coverage: 18.0% of statements
ok  	github.com/docker/docker/container	0.358s	coverage: 42.8% of statements
?   	github.com/docker/docker/container/stream	[no test files]
?   	github.com/docker/docker/contrib/apparmor	[no test files]
?   	github.com/docker/docker/contrib/docker-device-tool	[no test files]
?   	github.com/docker/docker/contrib/httpserver	[no test files]
ok  	github.com/docker/docker/daemon	2.978s	coverage: 8.3% of statements
ok  	github.com/docker/docker/daemon/cluster	0.839s	coverage: 0.5% of statements
ok  	github.com/docker/docker/daemon/cluster/controllers/plugin	0.139s	coverage: 65.3% of statements
ok  	github.com/docker/docker/daemon/cluster/convert	0.443s	coverage: 28.0% of statements
?   	github.com/docker/docker/daemon/cluster/executor	[no test files]
ok  	github.com/docker/docker/daemon/cluster/executor/container	0.828s	coverage: 9.9% of statements
?   	github.com/docker/docker/daemon/cluster/provider	[no test files]
ok  	github.com/docker/docker/daemon/config	0.871s	coverage: 81.8% of statements
ok  	github.com/docker/docker/daemon/discovery	0.054s	coverage: 30.4% of statements
ok  	github.com/docker/docker/daemon/events	0.531s	coverage: 50.0% of statements
?   	github.com/docker/docker/daemon/events/testutils	[no test files]
?   	github.com/docker/docker/daemon/exec	[no test files]
ok  	github.com/docker/docker/daemon/graphdriver	0.276s	coverage: 2.3% of statements
?   	github.com/docker/docker/daemon/graphdriver/btrfs	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/devmapper	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/graphtest	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/lcow	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/overlay	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/overlay2	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/quota	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/register	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/vfs	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/windows	[no test files]
?   	github.com/docker/docker/daemon/graphdriver/zfs	[no test files]
ok  	github.com/docker/docker/daemon/images	0.256s	coverage: 4.9% of statements
?   	github.com/docker/docker/daemon/initlayer	[no test files]
ok  	github.com/docker/docker/daemon/links	0.069s	coverage: 93.0% of statements
?   	github.com/docker/docker/daemon/listeners	[no test files]
ok  	github.com/docker/docker/daemon/logger	0.307s	coverage: 44.0% of statements
ok  	github.com/docker/docker/daemon/logger/awslogs	0.462s	coverage: 78.6% of statements
?   	github.com/docker/docker/daemon/logger/etwlogs	[no test files]
?   	github.com/docker/docker/daemon/logger/fluentd	[no test files]
?   	github.com/docker/docker/daemon/logger/gcplogs	[no test files]
?   	github.com/docker/docker/daemon/logger/gelf	[no test files]
?   	github.com/docker/docker/daemon/logger/journald	[no test files]
ok  	github.com/docker/docker/daemon/logger/jsonfilelog	0.250s	coverage: 62.1% of statements
ok  	github.com/docker/docker/daemon/logger/jsonfilelog/jsonlog	0.270s	coverage: 88.3% of statements
ok  	github.com/docker/docker/daemon/logger/local	0.251s	coverage: 74.7% of statements
?   	github.com/docker/docker/daemon/logger/logentries	[no test files]
ok  	github.com/docker/docker/daemon/logger/loggerutils	0.084s	coverage: 18.1% of statements
ok  	github.com/docker/docker/daemon/logger/splunk	2.349s	coverage: 84.5% of statements
ok  	github.com/docker/docker/daemon/logger/syslog	0.166s	coverage: 47.8% of statements
ok  	github.com/docker/docker/daemon/logger/templates	0.053s	coverage: 8.3% of statements
?   	github.com/docker/docker/daemon/names	[no test files]
?   	github.com/docker/docker/daemon/network	[no test files]
?   	github.com/docker/docker/daemon/stats	[no test files]
ok  	github.com/docker/docker/distribution	1.409s	coverage: 15.6% of statements
ok  	github.com/docker/docker/distribution/metadata	0.933s	coverage: 48.2% of statements
?   	github.com/docker/docker/distribution/utils	[no test files]
ok  	github.com/docker/docker/distribution/xfer	1.534s	coverage: 62.2% of statements
?   	github.com/docker/docker/dockerversion	[no test files]
ok  	github.com/docker/docker/errdefs	0.033s	coverage: 76.0% of statements
ok  	github.com/docker/docker/hack/integration-cli-on-swarm/agent/master	0.036s	coverage: 11.3% of statements
?   	github.com/docker/docker/hack/integration-cli-on-swarm/agent/types	[no test files]
?   	github.com/docker/docker/hack/integration-cli-on-swarm/agent/worker	[no test files]
ok  	github.com/docker/docker/hack/integration-cli-on-swarm/host	0.070s	coverage: 3.6% of statements
ok  	github.com/docker/docker/image	0.791s	coverage: 86.3% of statements
ok  	github.com/docker/docker/image/cache	0.151s	coverage: 19.2% of statements
?   	github.com/docker/docker/image/tarexport	[no test files]
ok  	github.com/docker/docker/image/v1	0.103s	coverage: 25.0% of statements
?   	github.com/docker/docker/internal/test	[no test files]
?   	github.com/docker/docker/internal/test/daemon	[no test files]
?   	github.com/docker/docker/internal/test/environment	[no test files]
?   	github.com/docker/docker/internal/test/fakecontext	[no test files]
?   	github.com/docker/docker/internal/test/fakegit	[no test files]
?   	github.com/docker/docker/internal/test/fakestorage	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/load	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin	[no test files]
?   	github.com/docker/docker/internal/test/fixtures/plugin/basic	[no test files]
?   	github.com/docker/docker/internal/test/registry	[no test files]
?   	github.com/docker/docker/internal/test/request	[no test files]
ok  	github.com/docker/docker/internal/testutil	0.089s	coverage: 62.5% of statements
ok  	github.com/docker/docker/layer	0.293s	coverage: 28.2% of statements
ok  	github.com/docker/docker/libcontainerd	0.079s	coverage: 3.7% of statements
?   	github.com/docker/docker/libcontainerd/supervisor	[no test files]
?   	github.com/docker/docker/oci	[no test files]
?   	github.com/docker/docker/oci/caps	[no test files]
ok  	github.com/docker/docker/opts	0.131s	coverage: 68.7% of statements
ok  	github.com/docker/docker/pkg/aaparser	0.041s	coverage: 50.0% of statements
ok  	github.com/docker/docker/pkg/archive	8.822s	coverage: 62.2% of statements
ok  	github.com/docker/docker/pkg/authorization	0.717s	coverage: 26.2% of statements
ok  	github.com/docker/docker/pkg/broadcaster	0.038s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/chrootarchive	0.154s	coverage: 13.3% of statements
?   	github.com/docker/docker/pkg/containerfs	[no test files]
?   	github.com/docker/docker/pkg/devicemapper	[no test files]
ok  	github.com/docker/docker/pkg/directory	0.048s	coverage: 80.0% of statements
ok  	github.com/docker/docker/pkg/discovery	0.079s	coverage: 58.3% of statements
ok  	github.com/docker/docker/pkg/discovery/file	0.056s	coverage: 92.9% of statements
ok  	github.com/docker/docker/pkg/discovery/kv	3.225s	coverage: 84.1% of statements
ok  	github.com/docker/docker/pkg/discovery/memory	0.093s	coverage: 92.3% of statements
ok  	github.com/docker/docker/pkg/discovery/nodes	0.055s	coverage: 93.8% of statements
ok  	github.com/docker/docker/pkg/filenotify	0.090s	coverage: 43.8% of statements
ok  	github.com/docker/docker/pkg/fileutils	0.090s	coverage: 87.7% of statements
ok  	github.com/docker/docker/pkg/homedir	0.040s	coverage: 75.0% of statements
?   	github.com/docker/docker/pkg/idtools	[no test files]
ok  	github.com/docker/docker/pkg/ioutils	0.584s	coverage: 69.1% of statements
ok  	github.com/docker/docker/pkg/jsonmessage	0.197s	coverage: 88.3% of statements
ok  	github.com/docker/docker/pkg/locker	0.065s	coverage: 88.9% of statements
ok  	github.com/docker/docker/pkg/longpath	0.059s	coverage: 100.0% of statements
?   	github.com/docker/docker/pkg/mount	[no test files]
ok  	github.com/docker/docker/pkg/namesgenerator	0.040s	coverage: 85.7% of statements
?   	github.com/docker/docker/pkg/namesgenerator/cmd/names-generator	[no test files]
ok  	github.com/docker/docker/pkg/parsers	0.137s	coverage: 97.0% of statements
?   	github.com/docker/docker/pkg/parsers/kernel	[no test files]
?   	github.com/docker/docker/pkg/parsers/operatingsystem	[no test files]
ok  	github.com/docker/docker/pkg/pidfile	0.047s	coverage: 82.6% of statements
?   	github.com/docker/docker/pkg/platform	[no test files]
?   	github.com/docker/docker/pkg/plugingetter	[no test files]
ok  	github.com/docker/docker/pkg/plugins	34.990s	coverage: 73.6% of statements
ok  	github.com/docker/docker/pkg/plugins/pluginrpc-gen	0.103s	coverage: 56.8% of statements
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures	[no test files]
?   	github.com/docker/docker/pkg/plugins/pluginrpc-gen/fixtures/otherfixture	[no test files]
ok  	github.com/docker/docker/pkg/plugins/transport	0.052s	coverage: 85.7% of statements
ok  	github.com/docker/docker/pkg/pools	0.039s	coverage: 87.9% of statements
ok  	github.com/docker/docker/pkg/progress	0.035s	coverage: 75.9% of statements
ok  	github.com/docker/docker/pkg/pubsub	1.103s	coverage: 72.7% of statements
ok  	github.com/docker/docker/pkg/reexec	0.088s	coverage: 82.4% of statements
ok  	github.com/docker/docker/pkg/signal	0.031s	coverage: 20.3% of statements
?   	github.com/docker/docker/pkg/signal/testfiles	[no test files]
ok  	github.com/docker/docker/pkg/stdcopy	0.036s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/streamformatter	0.054s	coverage: 66.2% of statements
ok  	github.com/docker/docker/pkg/stringid	0.050s	coverage: 76.0% of statements
?   	github.com/docker/docker/pkg/symlink	[no test files]
ok  	github.com/docker/docker/pkg/sysinfo	0.058s	coverage: 38.2% of statements
ok  	github.com/docker/docker/pkg/system	0.051s	coverage: 12.7% of statements
ok  	github.com/docker/docker/pkg/tailfile	0.069s	coverage: 88.6% of statements
ok  	github.com/docker/docker/pkg/tarsum	0.136s	coverage: 89.3% of statements
ok  	github.com/docker/docker/pkg/term	0.039s	coverage: 30.8% of statements
ok  	github.com/docker/docker/pkg/term/windows	0.036s	coverage: 0.0% of statements [no tests to run]
ok  	github.com/docker/docker/pkg/truncindex	0.142s	coverage: 91.5% of statements
ok  	github.com/docker/docker/pkg/urlutil	0.031s	coverage: 100.0% of statements
ok  	github.com/docker/docker/pkg/useragent	0.062s	coverage: 88.9% of statements
ok  	github.com/docker/docker/plugin	0.089s	coverage: 12.0% of statements
ok  	github.com/docker/docker/plugin/executor/containerd	0.086s	coverage: 33.3% of statements
ok  	github.com/docker/docker/plugin/v2	0.040s	coverage: 20.1% of statements
ok  	github.com/docker/docker/reference	0.167s	coverage: 84.4% of statements
ok  	github.com/docker/docker/registry	0.255s	coverage: 51.3% of statements
ok  	github.com/docker/docker/registry/resumable	0.194s	coverage: 100.0% of statements
ok  	github.com/docker/docker/restartmanager	0.230s	coverage: 49.0% of statements
ok  	github.com/docker/docker/runconfig	0.064s	coverage: 54.5% of statements
?   	github.com/docker/docker/runconfig/opts	[no test files]
?   	github.com/docker/docker/volume	[no test files]
ok  	github.com/docker/docker/volume/drivers	0.048s	coverage: 36.1% of statements
ok  	github.com/docker/docker/volume/local	0.064s	coverage: 37.7% of statements
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
getting here
--- FAIL: TestParseMountRaw (0.04s)
    parser_test.go:310: ParseMountRaw(`"c:\\windows\\system32\\ntdll.dll:d:"`) should have failed validation. Err '<nil>' - MP: &{c:\windows\system32\ntdll.dll d: true   bind <nil>   false  {bind c:\windows\system32\ntdll.dll d: false  <nil> <nil> <nil>} false 0}
    parser_test.go:310: ParseMountRaw(`"c:\\windows\\system32\\ntdll.dll:/foo"`) should have failed validation. Err '<nil>' - MP: &{c:\windows\system32\ntdll.dll /foo true   bind <nil>   false  {bind c:\windows\system32\ntdll.dll /foo false  <nil> <nil> <nil>} false 0}
getting here
getting here
getting here
--- FAIL: TestParseMountSpec (0.00s)
    parser_test.go:452: case 0
    parser_test.go:452: case 1
    parser_test.go:452: case 2
    parser_test.go:452: case 3
    parser_test.go:452: case 4
    parser_test.go:455: invalid mount config for type "volume": bind source path does not exist: 
panic: runtime error: invalid memory address or nil pointer dereference [recovered]
	panic: runtime error: invalid memory address or nil pointer dereference
[signal 0xc0000005 code=0x0 addr=0x48 pc=0x5394e9]

goroutine 25 [running]:
testing.tRunner.func1(0xc0000a6100)
	c:/go/src/testing/testing.go:792 +0x38e
panic(0x569740, 0x6b9f30)
	c:/go/src/runtime/panic.go:513 +0x1c7
github.com/docker/docker/volume/mounts.TestParseMountSpec(0xc0000a6100)
	c:/go/src/github.com/docker/docker/volume/mounts/parser_test.go:458 +0x7c9
testing.tRunner(0xc0000a6100, 0x5a3e10)
	c:/go/src/testing/testing.go:827 +0xc6
created by testing.(*T).Run
	c:/go/src/testing/testing.go:878 +0x363
FAIL	github.com/docker/docker/volume/mounts	0.092s
ok  	github.com/docker/docker/volume/service	0.293s	coverage: 70.3% of statements
?   	github.com/docker/docker/volume/service/opts	[no test files]
?   	github.com/docker/docker/volume/testutils	[no test files]

ERROR: make.ps1 failed:
Unit tests failed
At C:\go\src\github.com\docker\docker\hack\make.ps1:320 char:32
+     if ($LASTEXITCODE -ne 0) { Throw "Unit tests failed" }
+                                ~~~~~~~~~~~~~~~~~~~~~~~~~

___________      .__.__             .___
\_   _____/____  |__|  |   ____   __| _/
 |    __) \__  \ |  |  | _/ __ \ / __ | 
 |     \   / __ \|  |  |_\  ___// /_/ | 
 \___  /  (____  /__|____/\___  >____ | 
     \/        \/             \/     \/ 

INFO: make.ps1 ended at 01/04/2019 17:15:55


ERROR: Failed 'ERROR: Unit tests failed' at 01/04/2019 17:15:56
At C:\gopath\src\github.com\docker\docker\hack\ci\windows.ps1:750 char:17
+                 Throw "ERROR: Unit tests failed"
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



INFO: Tidying up at end of run
INFO: Saving daemon under test log (d:\CI\CI-32153b54d5\dut.err) to d:\temp\CIDUT.log
INFO: Nuke-Everything...
INFO: Container count on control daemon to delete is 2
1720cfd102f6
6f64a167d4cb
INFO: Non-base image count on control daemon to delete is 2
Deleted: sha256:dcf0e3213d508e56c964aa8eceb983664e42cb2a012c4573e38dfabd9d680dea
Deleted: sha256:63bebadd171bb2d3acdebb6e20df0d1b57b759a1da5e1292b288d8b52643b729
Deleted: sha256:377eaa8fe44552750e92f977e255554b39b36ecb24ab0f13c67edac1f92ee003
Deleted: sha256:5d6e0d8214b5b3e835e76bb9ea6f9f30c22481f5b0fc564368c76035478b2560
Deleted: sha256:1cf22e467b669c8a535f172e15930f3c9ca538d3cb33fb78d266db4b5a48c56f
Deleted: sha256:88cf476762493bd8177bf63d4fdb225f8d3ab14920ac7a39d88a764d09fee2da
Deleted: sha256:318275ac18b3b8fc5dd4980890750fe24d999b7909e9fd5f891005a9f084de58
Deleted: sha256:595e79e104d9c2c940fe00adfb3a759792d3c1096fe3ac1e9f0d687efdb951a3
Deleted: sha256:82aedf10388ea55019f7cb364e9ac445ee176aed27c9be0c3034f96443af2a04
Deleted: sha256:d927f23f5f5e9ea94d903007ed91dceaf5e3f05d440cca9cddae1b2219e6f8fe
Deleted: sha256:2f6c5427e75b56473d5435a2e482606a57f9b399499794e3a0ef4a032411df62
Deleted: sha256:93955ed6c75de990e6ce1dc8172840e0d3f913cee803da8847bd4de07d49055e
INFO: Killing daemon with PID 11760
INFO: Tidying pidfile d:\CI\CI-32153b54d5\docker.pid
INFO: Stopping possible daemon pid 11760
INFO: Nuking d:\CI
ERROR:  hcsshim::DestroyLayer - Win32 API call returned error r1=0x80070020 err=The process cannot access the file because it is being used by another process.id=CI flavour=0

INFO: executeCI.ps1 exiting at Fri Jan  4 17:16:04 CUT 2019. Duration 00:19:03.2758964

Build step 'Windows PowerShell' marked build as failure
Set build name.
New build name is '#38465'
[PostBuildScript] - Executing post build scripts.
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
Finished: FAILURE
