Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on s390x-ubuntu-28 (linux s390x-ubuntu-1604 s390x) in workspace /home/jenkins/workspace/Docker-PRs-s390x
Running Prebuild steps
[Docker-PRs-s390x] $ /bin/sh -xe /tmp/jenkins7589766871697107261.sh
+ pwd
+ id -u
+ id -g
+ docker run --rm -v /home/jenkins/workspace/Docker-PRs-s390x:/workspace s390x/busybox chown -R 1001:1001 /workspace
Unable to find image 's390x/busybox:latest' locally
latest: Pulling from s390x/busybox
e27cb5f7cb08: Pulling fs layer
e27cb5f7cb08: Verifying Checksum
e27cb5f7cb08: Download complete
e27cb5f7cb08: Pull complete
Digest: sha256:a96ac102195557231128367b35920c085157ee8c5e378cb2842147f0b71e9d58
Status: Downloaded newer image for s390x/busybox:latest
Success build forhudson.tasks.Shell@54493290
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init /home/jenkins/workspace/Docker-PRs-s390x # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse origin/master^{commit} # timeout=10
Checking out Revision 5a718ef0f94f605fe4e4885937133c2f76ad2a41 (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 5a718ef0f94f605fe4e4885937133c2f76ad2a41
Commit message: "Merge pull request #38496 from Microsoft/jjh/dockerfile.windows"
 > git rev-list --no-walk de640c9f4932d851316a0a72470c4d3446f6f5ac # timeout=10
Set build name.
New build name is '#38487'
[Docker-PRs-s390x] $ /bin/bash /tmp/jenkins6839491084942980395.sh
From https://github.com/moby/moby
 * [new ref]         refs/pull/38487/head -> origin/pr/38487
Auto-merging integration/build/build_test.go
Merge made by the 'recursive' strategy.
 builder/remotecontext/detect.go                    |  9 +++-
 integration/build/build_test.go                    | 46 ++++++++++++++++++
 vendor.conf                                        |  2 +-
 vendor/github.com/moby/buildkit/README.md          | 56 +++++-----------------
 .../dockerfile/dockerfile2llb/convert_secrets.go   | 16 +++++++
 .../dockerfile/dockerfile2llb/convert_ssh.go       | 17 ++++++-
 .../dockerfile/instructions/commands_runmount.go   | 35 ++++++++++++++
 .../buildkit/frontend/dockerfile/parser/parser.go  |  5 ++
 .../moby/buildkit/snapshot/snapshotter.go          |  2 +-
 .../moby/buildkit/solver/llbsolver/ops/exec.go     |  4 +-
 vendor/github.com/moby/buildkit/vendor.conf        |  8 ++--
 11 files changed, 145 insertions(+), 55 deletions(-)
Sending build context to Docker daemon  45.11MB
Step 1/94 : FROM golang:1.11.4 AS base
1.11.4: Pulling from library/golang
c5e4ba148bd1: Pulling fs layer
e4ab879437b7: Pulling fs layer
a26d08cd7690: Pulling fs layer
05dfbcf77830: Pulling fs layer
8c8a7e70110e: Pulling fs layer
3455ff1f6719: Pulling fs layer
05dfbcf77830: Waiting
8c8a7e70110e: Waiting
f5c4a8ef739f: Pulling fs layer
3455ff1f6719: Waiting
f5c4a8ef739f: Waiting
a26d08cd7690: Verifying Checksum
a26d08cd7690: Download complete
e4ab879437b7: Verifying Checksum
e4ab879437b7: Download complete
c5e4ba148bd1: Verifying Checksum
c5e4ba148bd1: Download complete
05dfbcf77830: Verifying Checksum
05dfbcf77830: Download complete
f5c4a8ef739f: Verifying Checksum
f5c4a8ef739f: Download complete
8c8a7e70110e: Verifying Checksum
8c8a7e70110e: Download complete
c5e4ba148bd1: Pull complete
3455ff1f6719: Verifying Checksum
3455ff1f6719: Download complete
e4ab879437b7: Pull complete
a26d08cd7690: Pull complete
05dfbcf77830: Pull complete
8c8a7e70110e: Pull complete
/tmp/jenkins6839491084942980395.sh: line 12: 23161 Terminated              docker build --rm --force-rm --build-arg APT_MIRROR=cdn-fastly.deb.debian.org -t docker-s390x:$GITCOMMIT -f Dockerfile .
Unable to find image 'docker-s390x:c1db3d7' locally
docker: Error response from daemon: pull access denied for docker-s390x, repository does not exist or may require 'docker login'.
See 'docker run --help'.
Set build name.
New build name is '#38487'
Build was aborted
Aborted by Gordon
[PostBuildScript] - Executing post build scripts.
[Docker-PRs-s390x] $ /bin/sh -xe /tmp/jenkins6060852576329871794.sh
+ echo Chowning /workspace to jenkins user
Chowning /workspace to jenkins user
+ id -u
+ id -g
+ docker run --rm -v /home/jenkins/workspace/Docker-PRs-s390x:/workspace s390x/busybox chown -R 1001:1001 /workspace
[Docker-PRs-s390x] $ /bin/sh -xe /tmp/jenkins695688074542193696.sh
+ echo Creating bundles.tar.gz
Creating bundles.tar.gz
+ xargs tar -czf bundles.tar.gz
+ find bundles -name *.log
find: ‘bundles’: No such file or directory
tar: Cowardly refusing to create an empty archive
Try 'tar --help' or 'tar --usage' for more information.
+ true
Archiving artifacts
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
Finished: ABORTED
