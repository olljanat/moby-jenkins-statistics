Started by user Gordon
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[EnvInject] - Loading node environment variables.
Building remotely on ubuntu-1604-aufs-stable (i-0e19b7b1f008bb506) (docker-edge ubuntu aufs docker-stable docker ubuntu-1604-aufs-edge x86_64 ec2 linux ubuntu-1604-aufs ubuntu-1604 amd64 ubuntu-1604-aufs-stable us-west-2) in workspace /home/ubuntu/workspace/Docker-PRs-experimental
Wiping out workspace first.
Cloning the remote Git repository
Cloning repository https://github.com/moby/moby.git
 > git init /home/ubuntu/workspace/Docker-PRs-experimental # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/moby/moby.git # timeout=10
Fetching upstream changes from https://github.com/moby/moby.git
 > git fetch --tags --progress https://github.com/moby/moby.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse origin/master^{commit} # timeout=10
Checking out Revision b4842cfe88b39af42416429396aee10d1fe7c3d6 (origin/master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f b4842cfe88b39af42416429396aee10d1fe7c3d6
Commit message: "Merge pull request #38354 from thaJeztah/fix_ipam_swagger"
 > git rev-list --no-walk b4842cfe88b39af42416429396aee10d1fe7c3d6 # timeout=10
Set build name.
New build name is '#38441'
[Docker-PRs-experimental] $ /bin/bash /tmp/jenkins878588661710337585.sh
From https://github.com/moby/moby
 * [new ref]         refs/pull/38441/head -> origin/pr/38441
Merge made by the 'recursive' strategy.
 api/types/swarm/runtime/plugin.pb.go            | 110 ++++++++++++++++--------
 api/types/swarm/runtime/plugin.proto            |   1 +
 daemon/cluster/controllers/plugin/controller.go |   2 +-
 integration/service/plugin_test.go              |  12 +++
 plugin/defs.go                                  |  26 ++++++
 5 files changed, 116 insertions(+), 35 deletions(-)
Sending build context to Docker daemon  45.11MB
Step 1/94 : FROM golang:1.11.4 AS base
 ---> 343df9d12b7b
Step 2/94 : ARG APT_MIRROR=deb.debian.org
 ---> Using cache
 ---> 6177477fa7e8
Step 3/94 : RUN sed -ri "s/(httpredir|deb).debian.org/$APT_MIRROR/g" /etc/apt/sources.list
 ---> Using cache
 ---> ddb5870ccc66
Step 4/94 : FROM base AS criu
 ---> ddb5870ccc66
Step 5/94 : ENV CRIU_VERSION 3.6
 ---> Using cache
 ---> 212629d35356
Step 6/94 : RUN apt-get update && apt-get install -y 	libnet-dev 	libprotobuf-c0-dev 	libprotobuf-dev 	libnl-3-dev 	libcap-dev 	protobuf-compiler 	protobuf-c-compiler 	python-protobuf 	&& mkdir -p /usr/src/criu 	&& curl -sSL https://github.com/checkpoint-restore/criu/archive/v${CRIU_VERSION}.tar.gz | tar -C /usr/src/criu/ -xz --strip-components=1 	&& cd /usr/src/criu 	&& make 	&& make PREFIX=/build/ install-criu
 ---> Using cache
 ---> 5b0fcae10bf7
Step 7/94 : FROM base AS registry
 ---> ddb5870ccc66
Step 8/94 : ENV REGISTRY_COMMIT_SCHEMA1 ec87e9b6971d831f0eff752ddb54fb64693e51cd
 ---> Using cache
 ---> 4086e89f2c34
Step 9/94 : ENV REGISTRY_COMMIT 47a064d4195a9b56133891bbb13620c3ac83a827
 ---> Using cache
 ---> d0c1e8a89ac4
Step 10/94 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/docker/distribution.git "$GOPATH/src/github.com/docker/distribution" 	&& (cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT") 	&& GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH" 		go build -buildmode=pie -o /build/registry-v2 github.com/docker/distribution/cmd/registry 	&& case $(dpkg --print-architecture) in 		amd64|ppc64*|s390x) 		(cd "$GOPATH/src/github.com/docker/distribution" && git checkout -q "$REGISTRY_COMMIT_SCHEMA1"); 		GOPATH="$GOPATH/src/github.com/docker/distribution/Godeps/_workspace:$GOPATH"; 			go build -buildmode=pie -o /build/registry-v2-schema1 github.com/docker/distribution/cmd/registry; 		;; 	   esac 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> a719fec4d27c
Step 11/94 : FROM base AS docker-py
 ---> ddb5870ccc66
Step 12/94 : ENV DOCKER_PY_COMMIT 8b246db271a85d6541dc458838627e89c683e42f
 ---> Running in 01b8070fb8f4
Removing intermediate container 01b8070fb8f4
 ---> df1c32659572
Step 13/94 : RUN git clone https://github.com/docker/docker-py.git /build 	&& cd /build 	&& git checkout -q $DOCKER_PY_COMMIT
 ---> Running in ee1cefe422c0
Cloning into '/build'...
Removing intermediate container ee1cefe422c0
 ---> 4ac6a9a6bf7b
Step 14/94 : FROM base AS swagger
 ---> ddb5870ccc66
Step 15/94 : ENV GO_SWAGGER_COMMIT c28258affb0b6251755d92489ef685af8d4ff3eb
 ---> Using cache
 ---> 23c0f4888507
Step 16/94 : RUN set -x 	&& export GOPATH="$(mktemp -d)" 	&& git clone https://github.com/go-swagger/go-swagger.git "$GOPATH/src/github.com/go-swagger/go-swagger" 	&& (cd "$GOPATH/src/github.com/go-swagger/go-swagger" && git checkout -q "$GO_SWAGGER_COMMIT") 	&& go build -o /build/swagger github.com/go-swagger/go-swagger/cmd/swagger 	&& rm -rf "$GOPATH"
 ---> Using cache
 ---> 9864735fbd79
Step 17/94 : FROM base AS frozen-images
 ---> ddb5870ccc66
Step 18/94 : RUN apt-get update && apt-get install -y jq ca-certificates --no-install-recommends
 ---> Using cache
 ---> 0c3cda50c7af
Step 19/94 : COPY contrib/download-frozen-image-v2.sh /
 ---> Using cache
 ---> 12405dc07cf1
Step 20/94 : RUN /download-frozen-image-v2.sh /build 	buildpack-deps:jessie@sha256:dd86dced7c9cd2a724e779730f0a53f93b7ef42228d4344b25ce9a42a1486251 	busybox:latest@sha256:bbc3a03235220b170ba48a157dd097dd1379299370e1ed99ce976df0355d24f0 	busybox:glibc@sha256:0b55a30394294ab23b9afd58fab94e61a923f5834fba7ddbae7f8e0c11ba85e6 	debian:jessie@sha256:287a20c5f73087ab406e6b364833e3fb7b3ae63ca0eb3486555dc27ed32c6e60 	hello-world:latest@sha256:be0cd392e45be79ffeffa6b05338b98ebb16c87b255f48e297ec7f98e123905c
 ---> Using cache
 ---> a281b8e7a560
Step 21/94 : FROM base AS runtime-dev
 ---> ddb5870ccc66
Step 22/94 : RUN apt-get update && apt-get install -y 	libapparmor-dev 	libseccomp-dev
 ---> Using cache
 ---> 7978a101b592
Step 23/94 : FROM base AS tomlv
 ---> ddb5870ccc66
Step 24/94 : ENV INSTALL_BINARY_NAME=tomlv
 ---> Using cache
 ---> 2a26ead32b98
Step 25/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 81e228923498
Step 26/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> e1c631ea26f8
Step 27/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 46e7a5c2887c
Step 28/94 : FROM base AS vndr
 ---> ddb5870ccc66
Step 29/94 : ENV INSTALL_BINARY_NAME=vndr
 ---> Using cache
 ---> 9221f11a525b
Step 30/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> e04e1ea4c1b2
Step 31/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 4903ecf8b624
Step 32/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> fc652bb172c1
Step 33/94 : FROM base AS containerd
 ---> ddb5870ccc66
Step 34/94 : RUN apt-get update && apt-get install -y btrfs-tools
 ---> Using cache
 ---> f3f3ffd6a3bd
Step 35/94 : ENV INSTALL_BINARY_NAME=containerd
 ---> Using cache
 ---> 48fe9ae27539
Step 36/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> afacdb22604d
Step 37/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 6feae131a579
Step 38/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 6e70aaae0246
Step 39/94 : FROM base AS proxy
 ---> ddb5870ccc66
Step 40/94 : ENV INSTALL_BINARY_NAME=proxy
 ---> Using cache
 ---> 18c9624558f6
Step 41/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 5f48990d5f31
Step 42/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> f81c24f1389d
Step 43/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> b37146e27f6a
Step 44/94 : FROM base AS gometalinter
 ---> ddb5870ccc66
Step 45/94 : ENV INSTALL_BINARY_NAME=gometalinter
 ---> Using cache
 ---> 551ab4071e9f
Step 46/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 3741d5eabdac
Step 47/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> a071fead7c09
Step 48/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 805489c1f3d7
Step 49/94 : FROM base AS dockercli
 ---> ddb5870ccc66
Step 50/94 : ENV INSTALL_BINARY_NAME=dockercli
 ---> Using cache
 ---> 1fc95b13d8f5
Step 51/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> acdc289d3417
Step 52/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> c803e2f047fa
Step 53/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 8eefe74194a8
Step 54/94 : FROM runtime-dev AS runc
 ---> 7978a101b592
Step 55/94 : ENV INSTALL_BINARY_NAME=runc
 ---> Using cache
 ---> 095821a9b4ac
Step 56/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 6673e086c448
Step 57/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> ffbb8e8fbb28
Step 58/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> a8607babb6e4
Step 59/94 : FROM base AS tini
 ---> ddb5870ccc66
Step 60/94 : RUN apt-get update && apt-get install -y cmake vim-common
 ---> Using cache
 ---> 13462dac86a3
Step 61/94 : COPY hack/dockerfile/install/install.sh ./install.sh
 ---> Using cache
 ---> 64b8017358ce
Step 62/94 : ENV INSTALL_BINARY_NAME=tini
 ---> Using cache
 ---> 9f64d1278f95
Step 63/94 : COPY hack/dockerfile/install/$INSTALL_BINARY_NAME.installer ./
 ---> Using cache
 ---> 935af702ebe0
Step 64/94 : RUN PREFIX=/build ./install.sh $INSTALL_BINARY_NAME
 ---> Using cache
 ---> 3e82bd2223f8
Step 65/94 : FROM runtime-dev AS dev
 ---> 7978a101b592
Step 66/94 : RUN groupadd -r docker
 ---> Using cache
 ---> 634025ba086a
Step 67/94 : RUN useradd --create-home --gid docker unprivilegeduser
 ---> Using cache
 ---> fd104c329f7f
Step 68/94 : RUN ln -sfv /go/src/github.com/docker/docker/.bashrc ~/.bashrc
 ---> Using cache
 ---> 437aa32b1bf7
Step 69/94 : RUN echo "source /usr/share/bash-completion/bash_completion" >> /etc/bash.bashrc
 ---> Using cache
 ---> 9bd43679202f
Step 70/94 : RUN ln -s /usr/local/completion/bash/docker /etc/bash_completion.d/docker
 ---> Using cache
 ---> 510181fe7c1a
Step 71/94 : RUN ldconfig
 ---> Using cache
 ---> 1927d37c0173
Step 72/94 : RUN apt-get update && apt-get install -y 	apparmor 	aufs-tools 	bash-completion 	btrfs-tools 	iptables 	jq 	libcap2-bin 	libdevmapper-dev 	libudev-dev 	libsystemd-dev 	binutils-mingw-w64 	g++-mingw-w64-x86-64 	net-tools 	pigz 	python-backports.ssl-match-hostname 	python-dev 	python-mock 	python-pip 	python-requests 	python-setuptools 	python-websocket 	python-wheel 	thin-provisioning-tools 	vim 	vim-common 	xfsprogs 	zip 	bzip2 	xz-utils 	--no-install-recommends
 ---> Using cache
 ---> bbaf8cb142da
Step 73/94 : COPY --from=swagger /build/swagger* /usr/local/bin/
 ---> Using cache
 ---> 8e96fda24d29
Step 74/94 : COPY --from=frozen-images /build/ /docker-frozen-images
 ---> Using cache
 ---> 99d1ae6df16b
Step 75/94 : COPY --from=gometalinter /build/ /usr/local/bin/
 ---> Using cache
 ---> 161ce0a06837
Step 76/94 : COPY --from=tomlv /build/ /usr/local/bin/
 ---> Using cache
 ---> 68c3fddd7f69
Step 77/94 : COPY --from=vndr /build/ /usr/local/bin/
 ---> Using cache
 ---> be54f5753562
Step 78/94 : COPY --from=tini /build/ /usr/local/bin/
 ---> Using cache
 ---> 9df90daf37ce
Step 79/94 : COPY --from=runc /build/ /usr/local/bin/
 ---> Using cache
 ---> f4906f197df2
Step 80/94 : COPY --from=containerd /build/ /usr/local/bin/
 ---> Using cache
 ---> f3b57696cf11
Step 81/94 : COPY --from=proxy /build/ /usr/local/bin/
 ---> Using cache
 ---> a9b9f8be0153
Step 82/94 : COPY --from=dockercli /build/ /usr/local/cli
 ---> Using cache
 ---> c0976e5b3aac
Step 83/94 : COPY --from=registry /build/registry* /usr/local/bin/
 ---> Using cache
 ---> b51cd589a7b4
Step 84/94 : COPY --from=criu /build/ /usr/local/
 ---> Using cache
 ---> b0f2c9f90487
Step 85/94 : COPY --from=docker-py /build/ /docker-py
 ---> 7b1a1a750b6a
Step 86/94 : RUN cd /docker-py 	&& pip install docker-pycreds==0.2.1 	&& pip install yamllint==1.5.0 	&& pip install -r test-requirements.txt
 ---> Running in dcfe8cf227a0
Collecting docker-pycreds==0.2.1
  Downloading https://files.pythonhosted.org/packages/ff/ec/14e976222468249cc50df4a031e5922581747b52dc96a0b1d5d73fee8f0e/docker_pycreds-0.2.1-py2.py3-none-any.whl
Requirement already satisfied: six>=1.4.0 in /usr/lib/python2.7/dist-packages (from docker-pycreds==0.2.1)
Installing collected packages: docker-pycreds
Successfully installed docker-pycreds-0.2.1
Collecting yamllint==1.5.0
  Downloading https://files.pythonhosted.org/packages/64/93/2a2e99b04f4a2f2adb26f4f543770310bf6303b3af492345c4a700d14f4e/yamllint-1.5.0-py2.py3-none-any.whl
Collecting pyyaml (from yamllint==1.5.0)
  Downloading https://files.pythonhosted.org/packages/9e/a3/1d13970c3f36777c583f136c136f804d70f500168edc1edea6daa7200769/PyYAML-3.13.tar.gz (270kB)
Building wheels for collected packages: pyyaml
  Running setup.py bdist_wheel for pyyaml: started
  Running setup.py bdist_wheel for pyyaml: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/ad/da/0c/74eb680767247273e2cf2723482cb9c924fe70af57c334513f
Successfully built pyyaml
Installing collected packages: pyyaml, yamllint
Successfully installed pyyaml-3.13 yamllint-1.5.0
Collecting mock==1.0.1 (from -r test-requirements.txt (line 1))
  Downloading https://files.pythonhosted.org/packages/a2/52/7edcd94f0afb721a2d559a5b9aae8af4f8f2c79bc63fdbe8a8a6c9b23bbe/mock-1.0.1.tar.gz (818kB)
Collecting pytest==2.9.1 (from -r test-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/61/49/c299eeaea69ed31338a58762b5185c56044fc2e09434694742ca2306a514/pytest-2.9.1-py2.py3-none-any.whl (161kB)
Collecting coverage==3.7.1 (from -r test-requirements.txt (line 3))
  Downloading https://files.pythonhosted.org/packages/09/4f/89b06c7fdc09687bca507dc411c342556ef9c5a3b26756137a4878ff19bf/coverage-3.7.1.tar.gz (284kB)
Collecting pytest-cov==2.1.0 (from -r test-requirements.txt (line 4))
  Downloading https://files.pythonhosted.org/packages/f2/9b/03b7d51c74d8f7088e37043dcf4f59faed359c56e7d016e2627108072679/pytest_cov-2.1.0-py2.py3-none-any.whl
Collecting flake8==3.4.1 (from -r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/b2/d3/e80ea2616e3871ae22459c415c63d64b9bd744c92267482670fcdbcea72d/flake8-3.4.1-py2.py3-none-any.whl (68kB)
Collecting py>=1.4.29 (from pytest==2.9.1->-r test-requirements.txt (line 2))
  Downloading https://files.pythonhosted.org/packages/3e/c7/3da685ef117d42ac8d71af525208759742dd235f8094221fdaafcd3dba8f/py-1.7.0-py2.py3-none-any.whl (83kB)
Collecting pyflakes<1.6.0,>=1.5.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/27/49/924098b3b85c286696f37e014475d79471ffc44509613af420645a3c12cb/pyflakes-1.5.0-py2.py3-none-any.whl (225kB)
Collecting enum34; python_version < "3.4" (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/c5/db/e56e6b4bbac7c4a06de1c50de6fe1ef3810018ae11732a50f15f62c7d050/enum34-1.1.6-py2-none-any.whl
Collecting configparser; python_version < "3.2" (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/7c/69/c2ce7e91c89dc073eb1aa74c0621c3eefbffe8216b3f9af9d3885265c01c/configparser-3.5.0.tar.gz
Collecting mccabe<0.7.0,>=0.6.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/87/89/479dc97e18549e21354893e4ee4ef36db1d237534982482c3681ee6e7b57/mccabe-0.6.1-py2.py3-none-any.whl
Collecting pycodestyle<2.4.0,>=2.0.0 (from flake8==3.4.1->-r test-requirements.txt (line 5))
  Downloading https://files.pythonhosted.org/packages/e4/81/78fe51eb4038d1388b7217dd63770b0f428370207125047312886c923b26/pycodestyle-2.3.1-py2.py3-none-any.whl (45kB)
Building wheels for collected packages: mock, coverage, configparser
  Running setup.py bdist_wheel for mock: started
  Running setup.py bdist_wheel for mock: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/7e/72/92/744b532c779242b57aab4bcba80c312b30c069bbd60025e7e6
  Running setup.py bdist_wheel for coverage: started
  Running setup.py bdist_wheel for coverage: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/68/58/66/f1fc9afad272df0df0fa38cdef34ee2d5d8d6a85f4eb5acab5
  Running setup.py bdist_wheel for configparser: started
  Running setup.py bdist_wheel for configparser: finished with status 'done'
  Stored in directory: /root/.cache/pip/wheels/a3/61/79/424ef897a2f3b14684a7de5d89e8600b460b89663e6ce9d17c
Successfully built mock coverage configparser
Installing collected packages: mock, py, pytest, coverage, pytest-cov, pyflakes, enum34, configparser, mccabe, pycodestyle, flake8
  Found existing installation: mock 2.0.0
    Not uninstalling mock at /usr/lib/python2.7/dist-packages, outside environment /usr
Successfully installed configparser-3.5.0 coverage-3.7.1 enum34-1.1.6 flake8-3.4.1 mccabe-0.6.1 mock-1.0.1 py-1.7.0 pycodestyle-2.3.1 pyflakes-1.5.0 pytest-2.9.1 pytest-cov-2.1.0
Removing intermediate container dcfe8cf227a0
 ---> c963e9febec1
Step 87/94 : ENV PATH=/usr/local/cli:$PATH
 ---> Running in 5f92446c5f75
Removing intermediate container 5f92446c5f75
 ---> 95d6624bbc6e
Step 88/94 : ENV DOCKER_BUILDTAGS apparmor seccomp selinux
 ---> Running in cb08bc85b5ba
Removing intermediate container cb08bc85b5ba
 ---> 170abab87a0b
Step 89/94 : ENV GOMETALINTER_OPTS="--deadline=2m"
 ---> Running in 3067008ea035
Removing intermediate container 3067008ea035
 ---> a6e3b5f8335e
Step 90/94 : WORKDIR /go/src/github.com/docker/docker
 ---> Running in 5d4c25dd8c9a
Removing intermediate container 5d4c25dd8c9a
 ---> 727b6074f5eb
Step 91/94 : VOLUME /var/lib/docker
 ---> Running in e64f14c7b2aa
Removing intermediate container e64f14c7b2aa
 ---> 0acf15108e5c
Step 92/94 : ENTRYPOINT ["hack/dind"]
 ---> Running in be90708183e9
Removing intermediate container be90708183e9
 ---> 88ef06b52f1c
Step 93/94 : FROM dev AS final
 ---> 88ef06b52f1c
Step 94/94 : COPY . /go/src/github.com/docker/docker
 ---> 73b00eca06e0
Successfully built 73b00eca06e0
Successfully tagged docker:10ee3d8-exp

Removing bundles/

---> Making bundle: binary-daemon (in bundles/binary-daemon)
Building: bundles/binary-daemon/dockerd-dev
Created binary: bundles/binary-daemon/dockerd-dev
Copying nested executables into bundles/binary-daemon

---> Making bundle: test-integration (in bundles/test-integration)
Building test suite binary ./integration-cli/test.main
Building test suite binary ./integration/plugin/test.main
Building test suite binary ./integration/plugin/authz/test.main
Building test suite binary ./integration/plugin/logging/test.main
Building test suite binary ./integration/plugin/logging/cmd/test.main
Building test suite binary ./integration/plugin/logging/cmd/close_on_start/test.main
Building test suite binary ./integration/plugin/logging/cmd/dummy/test.main
Building test suite binary ./integration/plugin/common/test.main
Building test suite binary ./integration/plugin/volumes/test.main
Building test suite binary ./integration/plugin/volumes/cmd/test.main
Building test suite binary ./integration/plugin/volumes/cmd/dummy/test.main
Building test suite binary ./integration/plugin/graphdriver/test.main
Building test suite binary ./integration/config/test.main
Building test suite binary ./integration/service/test.main
Building test suite binary ./integration/network/test.main
Building test suite binary ./integration/network/ipvlan/test.main
Building test suite binary ./integration/network/macvlan/test.main
Building test suite binary ./integration/secret/test.main
Building test suite binary ./integration/session/test.main
Building test suite binary ./integration/container/test.main
Building test suite binary ./integration/build/test.main
Building test suite binary ./integration/volume/test.main
Building test suite binary ./integration/system/test.main
Building test suite binary ./integration/image/test.main
---> Making bundle: .integration-daemon-start (in bundles/test-integration)
Using test binary docker
# DOCKER_EXPERIMENTAL is set: starting daemon with experimental features enabled! 
/etc/init.d/apparmor: 130: /etc/init.d/apparmor: systemd-detect-virt: not found
Starting AppArmor profiles:Warning from stdin (line 1): /sbin/apparmor_parser: cannot use or update cache, disable, or force-complain via stdin
Warning failed to create cache: (null)
.
INFO: Waiting for daemon to start...
Starting dockerd
.
---> Making bundle: .integration-daemon-setup (in bundles/test-integration)
---> Making bundle: .ensure-emptyfs (in bundles/test-integration)
Error: No such image: emptyfs
Running integration-test (iteration 1)
Running /go/src/github.com/docker/docker/integration/plugin
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/authz
Loaded image: buildpack-deps:jessie
Loaded image: busybox:latest
Loaded image: busybox:glibc
Loaded image: debian:jessie
Loaded image: hello-world:latest
INFO: Testing against a local daemon
=== RUN   TestAuthZPluginAllowRequest
--- PASS: TestAuthZPluginAllowRequest (6.39s)
    daemon.go:296: [db2690394198f] waiting for daemon to start
    daemon.go:328: [db2690394198f] daemon started
    daemon.go:283: [db2690394198f] exiting daemon
=== RUN   TestAuthZPluginTLS
--- PASS: TestAuthZPluginTLS (2.95s)
    daemon.go:296: [dd96343d8fdac] waiting for daemon to start
    daemon.go:328: [dd96343d8fdac] daemon started
    daemon.go:283: [dd96343d8fdac] exiting daemon
=== RUN   TestAuthZPluginDenyRequest
--- PASS: TestAuthZPluginDenyRequest (2.39s)
    daemon.go:296: [d0f451ead2848] waiting for daemon to start
    daemon.go:328: [d0f451ead2848] daemon started
    daemon.go:283: [d0f451ead2848] exiting daemon
=== RUN   TestAuthZPluginAPIDenyResponse
--- PASS: TestAuthZPluginAPIDenyResponse (0.52s)
    daemon.go:296: [d2b406532d889] waiting for daemon to start
    daemon.go:328: [d2b406532d889] daemon started
    daemon.go:283: [d2b406532d889] exiting daemon
=== RUN   TestAuthZPluginDenyResponse
--- PASS: TestAuthZPluginDenyResponse (0.52s)
    daemon.go:296: [dc727b757ac04] waiting for daemon to start
    daemon.go:328: [dc727b757ac04] daemon started
    daemon.go:283: [dc727b757ac04] exiting daemon
=== RUN   TestAuthZPluginAllowEventStream
--- PASS: TestAuthZPluginAllowEventStream (1.25s)
    daemon.go:296: [de36ac60f1265] waiting for daemon to start
    daemon.go:328: [de36ac60f1265] daemon started
    daemon.go:283: [de36ac60f1265] exiting daemon
=== RUN   TestAuthZPluginErrorResponse
--- PASS: TestAuthZPluginErrorResponse (0.52s)
    daemon.go:296: [d39f4c28c63ef] waiting for daemon to start
    daemon.go:328: [d39f4c28c63ef] daemon started
    daemon.go:283: [d39f4c28c63ef] exiting daemon
=== RUN   TestAuthZPluginErrorRequest
--- PASS: TestAuthZPluginErrorRequest (0.53s)
    daemon.go:296: [dbec6276fd85f] waiting for daemon to start
    daemon.go:328: [dbec6276fd85f] daemon started
    daemon.go:283: [dbec6276fd85f] exiting daemon
=== RUN   TestAuthZPluginEnsureNoDuplicatePluginRegistration
--- PASS: TestAuthZPluginEnsureNoDuplicatePluginRegistration (0.53s)
    daemon.go:296: [dd2ddf7ba5999] waiting for daemon to start
    daemon.go:328: [dd2ddf7ba5999] daemon started
    daemon.go:283: [dd2ddf7ba5999] exiting daemon
=== RUN   TestAuthZPluginEnsureLoadImportWorking
--- PASS: TestAuthZPluginEnsureLoadImportWorking (1.46s)
    daemon.go:296: [d7dab9ec395bb] waiting for daemon to start
    daemon.go:328: [d7dab9ec395bb] daemon started
    daemon.go:283: [d7dab9ec395bb] exiting daemon
=== RUN   TestAuthzPluginEnsureContainerCopyToFrom
--- PASS: TestAuthzPluginEnsureContainerCopyToFrom (1.50s)
    daemon.go:296: [d56f0d8e316b5] waiting for daemon to start
    daemon.go:328: [d56f0d8e316b5] daemon started
    daemon.go:283: [d56f0d8e316b5] exiting daemon
=== RUN   TestAuthZPluginHeader
--- PASS: TestAuthZPluginHeader (0.72s)
    daemon.go:296: [dead98e435eee] waiting for daemon to start
    daemon.go:328: [dead98e435eee] daemon started
    daemon.go:283: [dead98e435eee] exiting daemon
=== RUN   TestAuthZPluginV2AllowNonVolumeRequest
--- PASS: TestAuthZPluginV2AllowNonVolumeRequest (6.65s)
    daemon.go:296: [daebb419eaa4b] waiting for daemon to start
    daemon.go:328: [daebb419eaa4b] daemon started
    daemon.go:283: [daebb419eaa4b] exiting daemon
    daemon.go:296: [daebb419eaa4b] waiting for daemon to start
    daemon.go:328: [daebb419eaa4b] daemon started
    daemon.go:283: [daebb419eaa4b] exiting daemon
=== RUN   TestAuthZPluginV2Disable
--- PASS: TestAuthZPluginV2Disable (5.85s)
    daemon.go:296: [d22dbf37a5e8a] waiting for daemon to start
    daemon.go:328: [d22dbf37a5e8a] daemon started
    daemon.go:283: [d22dbf37a5e8a] exiting daemon
    daemon.go:296: [d22dbf37a5e8a] waiting for daemon to start
    daemon.go:328: [d22dbf37a5e8a] daemon started
    daemon.go:283: [d22dbf37a5e8a] exiting daemon
=== RUN   TestAuthZPluginV2RejectVolumeRequests
--- PASS: TestAuthZPluginV2RejectVolumeRequests (5.72s)
    daemon.go:296: [d8a56fbe2dc02] waiting for daemon to start
    daemon.go:328: [d8a56fbe2dc02] daemon started
    daemon.go:283: [d8a56fbe2dc02] exiting daemon
    daemon.go:296: [d8a56fbe2dc02] waiting for daemon to start
    daemon.go:328: [d8a56fbe2dc02] daemon started
    daemon.go:283: [d8a56fbe2dc02] exiting daemon
=== RUN   TestAuthZPluginV2BadManifestFailsDaemonStart
--- PASS: TestAuthZPluginV2BadManifestFailsDaemonStart (13.77s)
    daemon.go:296: [dab997d05c6ab] waiting for daemon to start
    daemon.go:328: [dab997d05c6ab] daemon started
    daemon.go:283: [dab997d05c6ab] exiting daemon
    daemon.go:296: [dab997d05c6ab] waiting for daemon to start
    daemon.go:296: [dab997d05c6ab] waiting for daemon to start
    daemon.go:283: [dab997d05c6ab] exiting daemon
    daemon.go:296: [dab997d05c6ab] waiting for daemon to start
    daemon.go:328: [dab997d05c6ab] daemon started
    daemon.go:283: [dab997d05c6ab] exiting daemon
=== RUN   TestAuthZPluginV2NonexistentFailsDaemonStart
--- PASS: TestAuthZPluginV2NonexistentFailsDaemonStart (16.52s)
    daemon.go:296: [d50b0ca237f00] waiting for daemon to start
    daemon.go:328: [d50b0ca237f00] daemon started
    daemon.go:283: [d50b0ca237f00] exiting daemon
    daemon.go:296: [d50b0ca237f00] waiting for daemon to start
    daemon.go:296: [d50b0ca237f00] waiting for daemon to start
    daemon.go:296: [d50b0ca237f00] waiting for daemon to start
    daemon.go:328: [d50b0ca237f00] daemon started
    daemon.go:283: [d50b0ca237f00] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging
INFO: Testing against a local daemon
=== RUN   TestContinueAfterPluginCrash
=== PAUSE TestContinueAfterPluginCrash
=== RUN   TestDaemonStartWithLogOpt
=== PAUSE TestDaemonStartWithLogOpt
=== CONT  TestContinueAfterPluginCrash
=== CONT  TestDaemonStartWithLogOpt
--- PASS: TestDaemonStartWithLogOpt (14.80s)
    daemon.go:296: [d7083198ff909] waiting for daemon to start
    daemon.go:328: [d7083198ff909] daemon started
    daemon.go:283: [d7083198ff909] exiting daemon
    daemon.go:296: [d7083198ff909] waiting for daemon to start
    daemon.go:328: [d7083198ff909] daemon started
    daemon.go:283: [d7083198ff909] exiting daemon
--- PASS: TestContinueAfterPluginCrash (19.54s)
    daemon.go:296: [d9ab43aae7475] waiting for daemon to start
    daemon.go:328: [d9ab43aae7475] daemon started
    daemon.go:283: [d9ab43aae7475] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd/close_on_start
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/logging/cmd/dummy
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/common
INFO: Testing against a local daemon
=== RUN   TestPluginInvalidJSON
=== RUN   TestPluginInvalidJSON//plugins/foobar/set
=== PAUSE TestPluginInvalidJSON//plugins/foobar/set
=== CONT  TestPluginInvalidJSON//plugins/foobar/set
--- PASS: TestPluginInvalidJSON (0.01s)
    --- PASS: TestPluginInvalidJSON//plugins/foobar/set (0.00s)
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes
INFO: Testing against a local daemon
=== RUN   TestPluginWithDevMounts
=== PAUSE TestPluginWithDevMounts
=== CONT  TestPluginWithDevMounts
--- PASS: TestPluginWithDevMounts (1.75s)
    daemon.go:296: [db9e3598a5c09] waiting for daemon to start
    daemon.go:328: [db9e3598a5c09] daemon started
    daemon.go:283: [db9e3598a5c09] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes/cmd
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/volumes/cmd/dummy
testing: warning: no tests to run
PASS
Running /go/src/github.com/docker/docker/integration/plugin/graphdriver
INFO: Testing against a local daemon
=== RUN   TestExternalGraphDriver
=== RUN   TestExternalGraphDriver/json
=== RUN   TestExternalGraphDriver/spec
=== RUN   TestExternalGraphDriver/pull
--- PASS: TestExternalGraphDriver (7.00s)
    daemon.go:296: [d5e0929459ada] waiting for daemon to start
    daemon.go:328: [d5e0929459ada] daemon started
    daemon.go:283: [d5e0929459ada] exiting daemon
    daemon.go:296: [d5e0929459ada] waiting for daemon to start
    daemon.go:328: [d5e0929459ada] daemon started
    daemon.go:283: [d5e0929459ada] exiting daemon
    --- PASS: TestExternalGraphDriver/json (1.72s)
    daemon.go:296: [d5e0929459ada] waiting for daemon to start
    daemon.go:328: [d5e0929459ada] daemon started
    daemon.go:283: [d5e0929459ada] exiting daemon
    daemon.go:296: [d5e0929459ada] waiting for daemon to start
    daemon.go:328: [d5e0929459ada] daemon started
    daemon.go:283: [d5e0929459ada] exiting daemon
    --- PASS: TestExternalGraphDriver/spec (1.73s)
    daemon.go:296: [d5e0929459ada] waiting for daemon to start
    daemon.go:328: [d5e0929459ada] daemon started
    daemon.go:283: [d5e0929459ada] exiting daemon
    --- PASS: TestExternalGraphDriver/pull (3.10s)
=== RUN   TestGraphdriverPluginV2
--- SKIP: TestGraphdriverPluginV2 (0.33s)
    external_test.go:411: !requirement.Overlay2Supported(testEnv.DaemonInfo.KernelVersion)
PASS
Running /go/src/github.com/docker/docker/integration/config
INFO: Testing against a local daemon
=== RUN   TestConfigList
--- PASS: TestConfigList (2.14s)
    daemon.go:296: [d7cefb5f5be26] waiting for daemon to start
    daemon.go:328: [d7cefb5f5be26] daemon started
    daemon.go:283: [d7cefb5f5be26] exiting daemon
=== RUN   TestConfigsCreateAndDelete
--- PASS: TestConfigsCreateAndDelete (2.19s)
    daemon.go:296: [d2a94ee38168e] waiting for daemon to start
    daemon.go:328: [d2a94ee38168e] daemon started
    daemon.go:283: [d2a94ee38168e] exiting daemon
=== RUN   TestConfigsUpdate
--- PASS: TestConfigsUpdate (2.19s)
    daemon.go:296: [d537c2e39e318] waiting for daemon to start
    daemon.go:328: [d537c2e39e318] daemon started
    daemon.go:283: [d537c2e39e318] exiting daemon
=== RUN   TestTemplatedConfig
--- PASS: TestTemplatedConfig (2.69s)
    daemon.go:296: [db6c83392c4ff] waiting for daemon to start
    daemon.go:328: [db6c83392c4ff] daemon started
    daemon.go:283: [db6c83392c4ff] exiting daemon
=== RUN   TestConfigInspect
--- PASS: TestConfigInspect (2.12s)
    daemon.go:296: [d962aa47cc434] waiting for daemon to start
    daemon.go:328: [d962aa47cc434] daemon started
    daemon.go:283: [d962aa47cc434] exiting daemon
=== RUN   TestConfigCreateWithLabels
--- PASS: TestConfigCreateWithLabels (2.15s)
    daemon.go:296: [d30776602faa3] waiting for daemon to start
    daemon.go:328: [d30776602faa3] daemon started
    daemon.go:283: [d30776602faa3] exiting daemon
=== RUN   TestConfigCreateResolve
--- PASS: TestConfigCreateResolve (2.05s)
    daemon.go:296: [d49aff4c00cc8] waiting for daemon to start
    daemon.go:328: [d49aff4c00cc8] daemon started
    daemon.go:283: [d49aff4c00cc8] exiting daemon
PASS
Running /go/src/github.com/docker/docker/integration/service
INFO: Testing against a local daemon
=== RUN   TestServiceCreateInit
=== RUN   TestServiceCreateInit/daemonInitDisabled
=== RUN   TestServiceCreateInit/daemonInitEnabled
--- PASS: TestServiceCreateInit (7.99s)
    --- PASS: TestServiceCreateInit/daemonInitDisabled (4.03s)
        daemon.go:296: [dbbe48b74a162] waiting for daemon to start
        daemon.go:328: [dbbe48b74a162] daemon started
        daemon.go:283: [dbbe48b74a162] exiting daemon
    --- PASS: TestServiceCreateInit/daemonInitEnabled (3.95s)
        daemon.go:296: [d278f6d308aa8] waiting for daemon to start
        daemon.go:328: [d278f6d308aa8] daemon started
        daemon.go:283: [d278f6d308aa8] exiting daemon
=== RUN   TestCreateServiceMultipleTimes
--- PASS: TestCreateServiceMultipleTimes (23.18s)
    daemon.go:296: [d270c5d56cace] waiting for daemon to start
    daemon.go:328: [d270c5d56cace] daemon started
    daemon.go:283: [d270c5d56cace] exiting daemon
=== RUN   TestCreateServiceConflict
--- PASS: TestCreateServiceConflict (2.07s)
    daemon.go:296: [d3082e07e81ab] waiting for daemon to start
    daemon.go:328: [d3082e07e81ab] daemon started
    daemon.go:283: [d3082e07e81ab] exiting daemon
=== RUN   TestCreateServiceMaxReplicas
--- PASS: TestCreateServiceMaxReplicas (2.80s)
    daemon.go:296: [de8f0157167dd] waiting for daemon to start
    daemon.go:328: [de8f0157167dd] daemon started
    daemon.go:283: [de8f0157167dd] exiting daemon
=== RUN   TestCreateWithDuplicateNetworkNames
--- PASS: TestCreateWithDuplicateNetworkNames (13.84s)
    daemon.go:296: [dec42754608b0] waiting for daemon to start
    daemon.go:328: [dec42754608b0] daemon started
    daemon.go:283: [dec42754608b0] exiting daemon
=== RUN   TestCreateServiceSecretFileMode
--- PASS: TestCreateServiceSecretFileMode (2.60s)
    daemon.go:296: [d76e970ee6568] waiting for daemon to start
    daemon.go:328: [d76e970ee6568] daemon started
    daemon.go:283: [d76e970ee6568] exiting daemon
=== RUN   TestCreateServiceConfigFileMode
--- PASS: TestCreateServiceConfigFileMode (2.58s)
    daemon.go:296: [dad47a43729f5] waiting for daemon to start
    daemon.go:328: [dad47a43729f5] daemon started
    daemon.go:283: [dad47a43729f5] exiting daemon
=== RUN   TestCreateServiceSysctls
--- PASS: TestCreateServiceSysctls (3.31s)
    daemon.go:296: [d8508b7060132] waiting for daemon to start
    daemon.go:328: [d8508b7060132] daemon started
    daemon.go:283: [d8508b7060132] exiting daemon
=== RUN   TestInspect
--- PASS: TestInspect (2.07s)
    daemon.go:296: [d79106c7d7a07] waiting for daemon to start
    daemon.go:328: [d79106c7d7a07] daemon started
    daemon.go:283: [d79106c7d7a07] exiting daemon
=== RUN   TestDockerNetworkConnectAlias
--- PASS: TestDockerNetworkConnectAlias (4.12s)
    daemon.go:296: [dfd21f14e3995] waiting for daemon to start
    daemon.go:328: [dfd21f14e3995] daemon started
    daemon.go:283: [dfd21f14e3995] exiting daemon
=== RUN   TestServicePlugin
--- FAIL: TestServicePlugin (21.30s)
    daemon.go:296: [d272ced4c5863] waiting for daemon to start
    daemon.go:328: [d272ced4c5863] daemon started
    daemon.go:283: [d272ced4c5863] exiting daemon
    daemon.go:296: [dd5b8b58be7d0] waiting for daemon to start
    daemon.go:328: [dd5b8b58be7d0] daemon started
    daemon.go:296: [da141b4c6df63] waiting for daemon to start
    daemon.go:328: [da141b4c6df63] daemon started
    daemon.go:296: [df2a05b37bb2e] waiting for daemon to start
    daemon.go:328: [df2a05b37bb2e] daemon started
    plugin_test.go:74: No tasks found for plugin service
    daemon.go:283: [df2a05b37bb2e] exiting daemon
    daemon.go:283: [da141b4c6df63] exiting daemon
    daemon.go:283: [dd5b8b58be7d0] exiting daemon
panic: runtime error: index out of range [recovered]
	panic: runtime error: index out of range

goroutine 557 [running]:
testing.tRunner.func1(0xc0008d9500)
	/usr/local/go/src/testing/testing.go:792 +0x387
panic(0x98e880, 0x1075070)
	/usr/local/go/src/runtime/panic.go:513 +0x1b9
github.com/docker/docker/integration/service.TestServicePlugin(0xc0008d9500)
	/go/src/github.com/docker/docker/integration/service/plugin_test.go:77 +0x1ef5
testing.tRunner(0xc0008d9500, 0xa5baa0)
	/usr/local/go/src/testing/testing.go:827 +0xbf
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:878 +0x35c

goroutine 1 [chan receive]:
testing.(*T).Run(0xc0008d9500, 0xa3ad76, 0x11, 0xa5baa0, 0x48ef01)
	/usr/local/go/src/testing/testing.go:879 +0x383
testing.runTests.func1(0xc0001c2600)
	/usr/local/go/src/testing/testing.go:1119 +0x78
testing.tRunner(0xc0001c2600, 0xc000247da8)
	/usr/local/go/src/testing/testing.go:827 +0xbf
testing.runTests(0xc00022f260, 0x1082c20, 0xe, 0xe, 0x0)
	/usr/local/go/src/testing/testing.go:1117 +0x2aa
testing.(*M).Run(0xc000284500, 0x0)
	/usr/local/go/src/testing/testing.go:1034 +0x165
github.com/docker/docker/integration/service.TestMain(0xc000284500)
	/go/src/github.com/docker/docker/integration/service/main_test.go:27 +0x118
main.main()
	_testmain.go:66 +0x13d

goroutine 19 [syscall, 1 minutes]:
os/signal.signal_recv(0x0)
	/usr/local/go/src/runtime/sigqueue.go:139 +0x9c
os/signal.loop()
	/usr/local/go/src/os/signal/signal_unix.go:23 +0x22
created by os/signal.init.0
	/usr/local/go/src/os/signal/signal_unix.go:29 +0x41

goroutine 7 [IO wait]:
internal/poll.runtime_pollWait(0x7ff59f57cf00, 0x72, 0xc000050a88)
	/usr/local/go/src/runtime/netpoll.go:173 +0x66
internal/poll.(*pollDesc).wait(0xc000284898, 0x72, 0xffffffffffffff00, 0xad67c0, 0x108f8d0)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:85 +0x9a
internal/poll.(*pollDesc).waitRead(0xc000284898, 0xc0001e1000, 0x1000, 0x1000)
	/usr/local/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d
internal/poll.(*FD).Read(0xc000284880, 0xc0001e1000, 0x1000, 0x1000, 0x0, 0x0, 0x0)
	/usr/local/go/src/internal/poll/fd_unix.go:169 +0x179
net.(*netFD).Read(0xc000284880, 0xc0001e1000, 0x1000, 0x1000, 0xc000050b70, 0x459850, 0xc000001b00)
	/usr/local/go/src/net/fd_unix.go:202 +0x4f
net.(*conn).Read(0xc0000960c8, 0xc0001e1000, 0x1000, 0x1000, 0x0, 0x0, 0x0)
	/usr/local/go/src/net/net.go:177 +0x68
net/http.(*persistConn).Read(0xc0000c8ea0, 0xc0001e1000, 0x1000, 0x1000, 0xc000050c70, 0x4055c5, 0xc000076780)
	/usr/local/go/src/net/http/transport.go:1497 +0x75
bufio.(*Reader).fill(0xc000098960)
	/usr/local/go/src/bufio/bufio.go:100 +0x10f
bufio.(*Reader).Peek(0xc000098960, 0x1, 0x0, 0x0, 0x1, 0xc0002584e0, 0x0)
	/usr/local/go/src/bufio/bufio.go:132 +0x3f
net/http.(*persistConn).readLoop(0xc0000c8ea0)
	/usr/local/go/src/net/http/transport.go:1645 +0x1a2
created by net/http.(*Transport).dialConn
	/usr/local/go/src/net/http/transport.go:1338 +0x941

goroutine 8 [select]:
net/http.(*persistConn).writeLoop(0xc0000c8ea0)
	/usr/local/go/src/net/http/transport.go:1885 +0x113
created by net/http.(*Transport).dialConn
	/usr/local/go/src/net/http/transport.go:1339 +0x966
---> Making bundle: .integration-daemon-stop (in bundles/test-integration)
Clearing AppArmor profiles cache:.
All profile caches have been cleared, but no profiles have been unloaded.
Unloading profiles will leave already running processes permanently
unconfined, which can lead to unexpected situations.

To set a process to complain mode, use the command line tool
'aa-complain'. To really tear down all profiles, run the init script
with the 'teardown' option."
Removing test suite binaries
Build step 'Execute shell' marked build as failure
Set build name.
New build name is '#38441'
[PostBuildScript] - Executing post build scripts.
[Docker-PRs-experimental] $ /bin/sh -xe /tmp/jenkins254591790994838544.sh
+ echo Ensuring container killed.
Ensuring container killed.
+ docker rm -vf docker-pr-exp43665
Error: No such container: docker-pr-exp43665
+ true
+ echo Chowning /workspace to jenkins user
Chowning /workspace to jenkins user
+ id -u
+ id -g
+ docker run --rm -v /home/ubuntu/workspace/Docker-PRs-experimental:/workspace busybox chown -R 1000:1000 /workspace
[Docker-PRs-experimental] $ /bin/sh -xe /tmp/jenkins3154426967506007112.sh
+ echo Creating bundles.tar.gz
Creating bundles.tar.gz
+ find+ xargs tar -czf bundles.tar.gz
 bundles -name *.log
Archiving artifacts
Notifying endpoint with url 'https://leeroy.dockerproject.org/notification/jenkins'
[WS-CLEANUP] Deleting project workspace...[WS-CLEANUP] done
Finished: FAILURE
